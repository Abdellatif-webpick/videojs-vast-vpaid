{"version":3,"sources":["VPAIDFLASHClient.js","utilityFunctions.js","http.js","urlUtils.js","ads/vpaid/VPAIDAdUnitWrapper.js","ads/vpaid/VPAIDFlashTech.js","ads/vpaid/VPAIDHTML5Tech.js","ads/vpaid/VPAIDIntegrator.js","ads/vast/client/Ad.js","ads/vast/client/Creative.js","ads/vast/client/Inline.js","ads/vast/client/Linear.js","ads/vast/client/MediaFile.js","ads/vast/client/TrackingEvent.js","ads/vast/client/VASTClient.js","ads/vast/client/VASTError.js","ads/vast/client/VASTIntegrator.js","ads/vast/client/VASTTracker.js","ads/vast/client/VideoClicks.js","ads/vast/client/Wrapper.js","pollyfill.js","VPAIDHTML5Client.js","async.js","videojs.ads.global.MODIFIED.js","dom.js","xml.js","ads/ads-label.js","ads/videojs.vast.js","ads/vast/client/VASTResponse.js","ads/vast/client/vastUtil.js"],"names":["window","document","vjs","undefined","noop","isNull","o","isDefined","isObject","obj","isFunction","str","isNumber","num","isArray","array","Object","prototype","toString","call","isString","isEmptyString","length","isNotEmptyString","arrayLikeObjToArray","args","Array","slice","forEach","iterator","context","key","hasOwnProperty","isPrimitive","extend","arg","i","k","arguments","capitalize","s","charAt","toUpperCase","decapitalize","toLowerCase","transformArray","transformer","transformedArray","item","index","transformedItem","push","toFixedDigits","digits","formattedNum","parseInt","isNaN","NaN","echoFn","val","isISO8601","value","iso8086Regex","test","trim","isIDevice","_UA","HttpRequestError","message","this","HttpRequest","createXhr","XMLHttpRequest","urlParts","url","href","msie","urlParsingNode","setAttribute","protocol","replace","host","search","hash","hostname","port","pathname","VPAIDAdUnitWrapper","vpaidAdUnit","opts","sanityCheck","adUnit","checkVPAIDInterface","VASTError","defaultOpts","responseTimeout","options","_adUnit","VPAIDFlashTech","mediaFile","src","containerEl","vpaidFlashClient","VPAIDHTML5Tech","INVALID_MEDIA_FILE","videoEl","vpaidHTMLClient","VPAIDIntegrator","player","createVPAIDContainerEl","createElement","dom","addClass","el","insertBefore","controlBar","VIEW_MODE","NORMAL","FULLSCREEN","THUMBNAIL","VPAID_VERSION","full","major","minor","Ad","adJTree","id","attr","sequence","inLine","InLine","wrapper","Wrapper","Creative","creativeJTree","adId","apiFramework","linear","Linear","inlineJTree","parseSurveys","inlineSurveys","survey","keyValue","uri","type","adTitle","xml","adSystem","impressions","vastUtil","parseImpressions","impression","creatives","parseCreatives","description","advertiser","surveys","error","pricing","extensions","linearJTree","parseTrackingEvents","trackingEvents","duration","trackings","trackingData","TrackingEvent","parseMediaFiles","mediaFilesJxonTree","mediaFiles","mfData","MediaFile","parseDuration","tracking","skipoffset","parseOffset","videoClicks","VideoClicks","adParameters","decode","mediaFileJTree","delivery","width","height","codec","bitrate","minBitrate","maxBitrate","scalable","maintainAspectRatio","trackingJTree","name","offset","VASTClient","defaultOptions","WRAPPER_LIMIT","settings","errorURLMacros","code","VASTIntegrator","VASTTracker","assetURI","vastResponse","VASTResponse","response","progress","quartiles","firstQuartile","Math","round","midpoint","thirdQuartile","videoClickJTree","parseClickTrackings","clickTrackings","clickTrackingData","clickThrough","clickTracking","customClicks","customClick","wrapperJTree","VASTAdTagURI","vASTAdTagURI","followAdditionalWrappers","allowMultipleAds","fallbackOnNoAd","e","t","n","r","u","a","require","f","Error","l","exports",1,"module","_classCallCheck","instance","Constructor","TypeError","defineProperty","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","IVPAIDAdUnit","viewMode","desiredBitrate","callback","soundVolume",2,"_inherits","subClass","superClass","create","constructor","__proto__","_get","_x15","_x16","_x17","_again","object","property","receiver","desc","parent","getter","Function","getOwnPropertyDescriptor","get","getPrototypeOf","ALL_VPAID_METHODS","getOwnPropertyNames","filter","indexOf","VPAIDAdUnit","_IVPAIDAdUnit","flash","_destroyed","_flash","_this","methodName","removeCallbackByMethodName","EVENTS","event","offEvent","eventName","on","off","playerVPAIDVersion","callFlashMethod","creativeData","environmentVars","setSize","getWidth","getHeight","volume","./IVPAIDAdUnit",3,"JSFlashBridge","callbackTimeout","isPositiveInt","createElementWithID","uniqueVPAID","unique","FLASH_VERSION","VPAIDFLASHClient","vpaidParentEl","onError","setTimeout","swfConfig","data","params","wmode","salign","align","allowScriptAccess","scale","allowFullScreen","quality","vpaidOptions","debug","timeout","swfobject","_vpaidParentEl","_flashID","movie","FlashVars","VPAID_FLASH_HANDLER","isSupported","createSWF","msg","version","_destroyAdUnit","destroy","_adUnitLoad","removeCallback","_destroy","adURL","err","getFlashID","getFlashURL","hasFlashPlayerVersion","./VPAIDAdUnit","./jsFlashBridge","./utils",4,"stringEndsWith","SingleValueRegistry","MultipleValuesRegistry","registry","ERROR","flashURL","flashID","loadHandShake","_el","_flashURL","_width","_height","_handlers","_callbacks","_uniqueMethodIdentifier","_loadHandShake","addInstance","add","remove","removeByKey","removeAll","callbackID","concat","_trigger","removeByValue","suffix","filterKeys","result","trigger","newWidth","newHeight","offAll","removeAllCallbacks","removeInstanceByID","parentElement","removeChild","callID","getInstanceByID","_callCallback","./jsFlashBridgeRegistry","./registry",5,"instances","JSFlashBridgeRegistry",6,"_registries","handler","keys","splice","old","_this2","findByValue","map","_this3","_this4",7,"prefix","count","timer","onSuccess","onTimeout","clearTimeout","apply","nEl","innerHTML","appendChild","newVal","oldVal","parseFloat","isFinite","string","endsWith","String","searchString","position","subjectString","lastIndex","parseNum","creative","video","addStaticToInterface","Interface","METHODS","GETTERS","SETTERS","handshakeVersion","VPAIDVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe","getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons","setAdVolume","VPAID1_METHODS","method","every","VPAIDCreative","_isValid","_creative","_videoEl","callOrTriggerEvent","utils","isValidVPAIDAd","ignores","ariaty","pop","bind","slot","videoSlot","validate","VPAIDHTML5Client","templateConfig","_id","createElementInEl","_frameContainer","_adElContainer","className","_vpaidOptions","_templateConfig","template","defaultTemplate","extraOptions","$removeEl","$destroyLoadListener","_onLoad","removeEventListener","clearCallbackTimeout","$throwIfDestroyed","unloadAdUnit","isDestroyed","loadAdUnit","onLoad","origin","location","JSON","parse","getID","_frame","contentWindow","createAd","getVPAIDAd","createIframeWithContent","iframeURL_JS","iframeID","addEventListener","isValid","func","timeouts","tagName","iframe","createIframe","setIframeContent","simpleTemplate","stringify","RegExp","iframeEl","content","iframeDoc","write","toExtend","fromSource","navigator","userAgent","async","setImmediate","fn","tasks","makeCallback","next","waterfall","wrapIterator","when","condition","isAllowed","unshift","events","ii","register","attachEvent","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","clearImmediate","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","cancelContentPlay","ads","cancelPlayTimeout","paused","pause","one","play","getPlayerSnapshot","track","tech","querySelector","tracks","remoteTextTracks","suppressedTracks","snapshot","ended","currentSrc","currentTime","currentType","nativePoster","poster","style","getAttribute","mode","removeClass","element","classes","split","newClasses","join","restorePlayerSnapshot","trackSnapshot","srcChanged","attempts","restoreTracks","resume","updateEnded","tryToResume","readyState","seekable","videojs","log","warn","load","removeNativePoster","removeAttribute","defaults","prerollTimeout","postrollTimeout","adFramework","fsmHandler","videoEvents","Html5","Events","returnTrue","triggerEvent","isImmediatePropagationStopped","cancelBubble","isPropagationStopped","state","originalEvent","redispatch","hasStarted","startLinearAdMode","endLinearAdMode","fsm","content-set","adscanceled","adsready","adserror","ads-ready","preroll?","enter","leave","adstart","adtimeout","ads-ready?","ad-playback","triggerevent","adend","content-resuming","_fireEndedTimeout","contentupdate","playing","postroll?","content-playback","contentended","contentSrc","checkSrc","oldValue","newValue","plugin","isVisible","getComputedStyle","visibility","isHidden","display","isShown","hide","__prev_style_display_","show","hasClass","cssClass","len","classList","contains","detachEvent","dispatchEvent","fireEvent","eventType","isDescendant","child","node","parentNode","getTextContent","textContent","text","prependChild","firstChild","isDomElement","Element","click","once","handlerWrap","getDimension","rect","getBoundingClientRect","offsetWidth","offsetHeight","run","setHeaders","xhr","headers","setRequestHeader","requestError","timeoutId","open","withCredentials","onload","statusText","status","responseText","getAllResponseHeaders","onerror","onabort","send","abort","processResponse","headersString","isSuccess","http","documentMode","strToXMLDoc","stringContainingXMLSource","parseString","parsedDocument","parser","DOMParser","parseFromString","isParseError","errorneousParse","parsererrorNS","getElementsByTagName","namespaceURI","getElementsByTagNameNS","xmlDocument","ActiveXObject","loadXML","parseText","sValue","Date","JXONTree","oXMLParent","documentElement","hasChildNodes","oNode","sProp","vContent","sCollectedTxt","nItem","childNodes","nodeType","nodeValue","nodeName","hasAttributes","oAttrib","nAttrib","attributes","toJXONTree","xmlString","xmlDoc","xmlObj","encode","AdsLabel","Component","init","that","currentTimeComp","getChild","createEl","playAdHandler","canPlayPrerollAd","allowedPrerollDelay","adCancelTimeout","initAds","clearAdCancelTimeout","adCancelTimeoutId","adsCanceled","addSpinnerIcon","removeSpinnerIcon","trackAdError","adsEnabled","cancelAds","playPrerollAd","getVastResponse","playAd","finishPlayingAd","vast","getVASTResponse","adAdsLabel","adFinished","addChild","removeAdsLabel","preventManualProgress","adTimeupdateHandler","progressDelta","abs","previousTime","PROGRESS_THRESHOLD","skipad_attempts","adIntegrator","isVPAID","console","playAdAlways","isEnabled","enable","disable","canSubscribeToEvents","canUnsubscribeFromEvents","VPAIDInterfaceMethods","adUnitAsyncCall","cb","wrapCallback","shift","evtName","waitForEvent","responseListener","adUnitData","getterName","supports","container","INVALID_DOM_CONTAINER_EL","MISSING_CALLBACK","PREFIX","INVALID_DOM_VIDEO_EL","techs","removeAdUnit","_trackError","_findSupportedTech","_loadAdUnit","_playAdUnit","_finishPlaying","findSupportedTech","mediafile","VPAIDTech","vpaidMediaFiles","_handshake","_initAd","_setupEvents","_addSkipButton","_linkPlayerControls","_startAd","isSupportedVersion","majorNum","parts","dimension","adUnitSrc","tracker","trackSkip","trackImpressions","trackStart","trackFirstQuartile","trackMidpoint","trackThirdQuartile","trackComplete","playerHandles","generateClickThroughURL","clickThroughMacro","variables","ASSETURI","CONTENTPLAYHEAD","parseURLMacro","clickThruUrl","trackClick","trackAcceptInvitation","trackAcceptInvitationLinear","trackClose","trackCloseLinear","trackPause","trackCollapse","trackErrorWithCode","trackResume","lastVolume","currentVolume","trackMute","trackUnmute","updateSkipButtonState","isSkippable","addSkipButton","removeSkipButton","skipButton","createSkipButton","onclick","Event","stopPropagation","linkVolumeControl","updateAdUnitVolume","vol","muted","logError","updatePlayerVolume","linkFullScreenControl","updateViewSize","MODE","isFullscreen","ERRORCODE","buildVASTResponse","adsChain","_buildVASTResponse","_getAd","_sendVASTResponse","requestVASTXml","_requestVASTXml","buildAd","adXML","getValidAd","possibleAds","previousAds","getAd","adChain","adTree","ad","_buildAd","getNextAd","_buildVastTree","xmlStr","vastTree","vastVersion","adJxonTree","addErrorUrlMacros","validateAd","addAdsToResponse","addAd","validateResponse","progressEvents","hasLinear","_selectAdSource","_createVASTTracker","_addClickThrough","_playSelectedAd","source","selectSource","adMediaFile","unbindEvents","trackFullscreenChange","trackProgress","trackVolumeChange","trackFullscreen","trackExitFullscreen","currentTimeInMs","previouslyMuted","addSkipButtonToPlayer","skipOffset","updateSkipButton","timeLeft","ceil","skipOffsetInSec","createClickThroughBlocker","blocker","updateBlockerURL","formatProgress","removeBlocker","updateBlocker","handlePlayerError","_linearAdded","appendToArray","items","_addInLine","_addWrapper","_addErrorTrackUrl","errorURL","_addImpressions","_addClickTrackings","_addCustomClicks","_addTrackingEvents","eventsMap","trackingEvent","_addTitle","title","_addDuration","_addVideoClicks","_addMediaFiles","_addSkipoffset","_addAdParameters","_addLinear","trackURLs","urls","trackEvent","trackOnce","getEventUris","uris","newProgress","addTrackEvent","canBeAdded","addQuartileEvents","quartileTime","ONCE","addProgressEvent","progressEvent","trackEvents","ALWAYS","errorcode","URLMacros","sources","parseURLMacros","trackImgs","img","Image","parsedURLs","random","URLMacro","_parseURLMacro","durationStr","parseHoursToMs","hourStr","parseMinToMs","minStr","parseSecToMs","secStr","match","durationInMs","durationRegex","creativesJTree","creativesData","hours","minutes","seconds","milliseconds","floor","isPercentage","percentageRegex","calculatePercentage","percentStr","calcPercent","quantity","percent"],"mappings":"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","file":"videojs-vast-vpaid.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n//simple representation of the API\n\nvar IVPAIDAdUnit = (function () {\n    function IVPAIDAdUnit() {\n        _classCallCheck(this, IVPAIDAdUnit);\n    }\n\n    _createClass(IVPAIDAdUnit, [{\n        key: 'handshakeVersion',\n\n        //all methods below\n        //are async methods\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments[0] === undefined ? '2.0' : arguments[0];\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n        }\n    }, {\n        key: 'initAd',\n\n        //width and height is not in the beginning because we will use the default width/height used in the constructor\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments[4] === undefined ? '' : arguments[4];\n            var environmentVars = arguments[5] === undefined ? '' : arguments[5];\n            var callback = arguments[6] === undefined ? undefined : arguments[6];\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments[3] === undefined ? undefined : arguments[3];\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'getAdLinear',\n\n        //properties that will be treat as async methods\n        value: function getAdLinear(callback) {}\n    }, {\n        key: 'getAdWidth',\n        value: function getAdWidth(callback) {}\n    }, {\n        key: 'getAdHeight',\n        value: function getAdHeight(callback) {}\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded(callback) {}\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState(callback) {}\n    }, {\n        key: 'getAdRemainingTime',\n        value: function getAdRemainingTime(callback) {}\n    }, {\n        key: 'getAdDuration',\n        value: function getAdDuration(callback) {}\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(soundVolume) {\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {}\n    }, {\n        key: 'getAdCompanions',\n        value: function getAdCompanions(callback) {}\n    }, {\n        key: 'getAdIcons',\n        value: function getAdIcons(callback) {}\n    }]);\n\n    return IVPAIDAdUnit;\n})();\n\nexports.IVPAIDAdUnit = IVPAIDAdUnit;\n\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\n    writable: false,\n    configurable: false,\n    value: ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange', 'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange', 'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError']\n});\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x15, _x16, _x17) { var _again = true; _function: while (_again) { var object = _x15, property = _x16, receiver = _x17; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x15 = parent; _x16 = property; _x17 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; }\n\nvar IVPAIDAdUnit = require('./IVPAIDAdUnit').IVPAIDAdUnit;\nvar ALL_VPAID_METHODS = Object.getOwnPropertyNames(IVPAIDAdUnit.prototype).filter(function (property) {\n    return ['constructor'].indexOf(property) === -1;\n});\n\nvar VPAIDAdUnit = (function (_IVPAIDAdUnit) {\n    function VPAIDAdUnit(flash) {\n        _classCallCheck(this, VPAIDAdUnit);\n\n        _get(Object.getPrototypeOf(VPAIDAdUnit.prototype), 'constructor', this).call(this);\n        this._destroyed = false;\n        this._flash = flash;\n    }\n\n    _inherits(VPAIDAdUnit, _IVPAIDAdUnit);\n\n    _createClass(VPAIDAdUnit, [{\n        key: '_destroy',\n        value: function _destroy() {\n            var _this = this;\n\n            this._destroyed = true;\n            ALL_VPAID_METHODS.forEach(function (methodName) {\n                _this._flash.removeCallbackByMethodName(methodName);\n            });\n            IVPAIDAdUnit.EVENTS.forEach(function (event) {\n                _this._flash.offEvent(event);\n            });\n\n            this._flash = null;\n        }\n    }, {\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._flash.on(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            this._flash.off(eventName, callback);\n        }\n    }, {\n        key: 'handshakeVersion',\n\n        //VPAID interface\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments[0] === undefined ? '2.0' : arguments[0];\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n\n            this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n        }\n    }, {\n        key: 'initAd',\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments[4] === undefined ? '' : arguments[4];\n            var environmentVars = arguments[5] === undefined ? '' : arguments[5];\n            var callback = arguments[6] === undefined ? undefined : arguments[6];\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n\n            this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData, environmentVars], callback);\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments[3] === undefined ? undefined : arguments[3];\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n\n            //resize ad inside the flash\n            this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('startAd', [], callback);\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('stopAd', [], callback);\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('pauseAd', [], callback);\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('resumeAd', [], callback);\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('expandAd', [], callback);\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('collapseAd', [], callback);\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('skipAd', [], callback);\n        }\n    }, {\n        key: 'getAdLinear',\n\n        //properties that will be treat as async methods\n        value: function getAdLinear(callback) {\n            this._flash.callFlashMethod('getAdLinear', [], callback);\n        }\n    }, {\n        key: 'getAdWidth',\n        value: function getAdWidth(callback) {\n            this._flash.callFlashMethod('getAdWidth', [], callback);\n        }\n    }, {\n        key: 'getAdHeight',\n        value: function getAdHeight(callback) {\n            this._flash.callFlashMethod('getAdHeight', [], callback);\n        }\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded(callback) {\n            this._flash.callFlashMethod('getAdExpanded', [], callback);\n        }\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState(callback) {\n            this._flash.callFlashMethod('getAdSkippableState', [], callback);\n        }\n    }, {\n        key: 'getAdRemainingTime',\n        value: function getAdRemainingTime(callback) {\n            this._flash.callFlashMethod('getAdRemainingTime', [], callback);\n        }\n    }, {\n        key: 'getAdDuration',\n        value: function getAdDuration(callback) {\n            this._flash.callFlashMethod('getAdDuration', [], callback);\n        }\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(volume) {\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n\n            this._flash.callFlashMethod('setAdVolume', [volume], callback);\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {\n            this._flash.callFlashMethod('getAdVolume', [], callback);\n        }\n    }, {\n        key: 'getAdCompanions',\n        value: function getAdCompanions(callback) {\n            this._flash.callFlashMethod('getAdCompanions', [], callback);\n        }\n    }, {\n        key: 'getAdIcons',\n        value: function getAdIcons(callback) {\n            this._flash.callFlashMethod('getAdIcons', [], callback);\n        }\n    }]);\n\n    return VPAIDAdUnit;\n})(IVPAIDAdUnit);\n\nexports.VPAIDAdUnit = VPAIDAdUnit;\n\n},{\"./IVPAIDAdUnit\":1}],3:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\nvar VPAIDAdUnit = require('./VPAIDAdUnit').VPAIDAdUnit;\n\nvar noop = require('./utils').noop;\nvar callbackTimeout = require('./utils').callbackTimeout;\nvar isPositiveInt = require('./utils').isPositiveInt;\nvar createElementWithID = require('./utils').createElementWithID;\nvar uniqueVPAID = require('./utils').unique('vpaid');\n\nvar ERROR = 'error';\nvar FLASH_VERSION = '10.1.0';\n\nvar VPAIDFLASHClient = (function () {\n    function VPAIDFLASHClient(vpaidParentEl, callback) {\n        var swfConfig = arguments[2] === undefined ? { data: 'VPAIDFlash.swf', width: 800, height: 400 } : arguments[2];\n        var params = arguments[3] === undefined ? { wmode: 'transparent', salign: 'tl', align: 'left', allowScriptAccess: 'always', scale: 'noScale', allowFullScreen: 'true', quality: 'high' } : arguments[3];\n        var vpaidOptions = arguments[4] === undefined ? { debug: false, timeout: 10000 } : arguments[4];\n\n        _classCallCheck(this, VPAIDFLASHClient);\n\n        if (!window.swfobject) {\n            return onError({ msg: 'no swfobject in global scope. check: https://github.com/swfobject/swfobject or https://code.google.com/p/swfobject/' });\n        }\n\n        this._vpaidParentEl = vpaidParentEl;\n        this._flashID = uniqueVPAID();\n        this._destroyed = false;\n\n        //validate the height\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        createElementWithID(vpaidParentEl, this._flashID);\n\n        params.movie = swfConfig.data;\n        params.FlashVars = 'flashid=' + this._flashID + '&handler=' + JSFlashBridge.VPAID_FLASH_HANDLER + '&debug=' + vpaidOptions.debug + '&salign=' + params.salign;\n\n        if (!VPAIDFLASHClient.isSupported()) {\n            return onError({ msg: 'user don\\'t support flash or doesn\\'t have the minimum required version of flash', version: FLASH_VERSION });\n        }\n\n        this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n\n        if (!this.el) {\n            return onError({ msg: 'swfobject failed to create object in element' });\n        }\n\n        this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, callbackTimeout(vpaidOptions.timeout, callback, function () {\n            callback({ msg: 'vpaid flash load timeout', timeout: vpaidOptions.timeout });\n        }));\n\n        function onError(error) {\n            setTimeout(function () {\n                callback(error);\n            }, 0);\n            return this;\n        }\n    }\n\n    _createClass(VPAIDFLASHClient, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._destroyAdUnit();\n            if (this._flash) {\n                this._flash.destroy();\n                this._flash = null;\n            }\n            this.el = null;\n            this._destroyed = true;\n        }\n    }, {\n        key: 'isDestroyed',\n        value: function isDestroyed() {\n            return this._destroyed;\n        }\n    }, {\n        key: '_destroyAdUnit',\n        value: function _destroyAdUnit() {\n            if (this._adUnitLoad) {\n                this._adUnitLoad = null;\n                this._flash.removeCallback(this._adUnitLoad);\n            }\n\n            if (this._adUnit) {\n                this._adUnit._destroy();\n                this._adUnit = null;\n            }\n        }\n    }, {\n        key: 'loadAdUnit',\n        value: function loadAdUnit(adURL, callback) {\n            var _this = this;\n\n            if (this._destroyed) {\n                throw new error('VPAIDFlashToJS is destroyed!');\n            }\n            if (this._adUnit) {\n                throw new error('AdUnit still exists');\n            }\n\n            this._adUnitLoad = function (err, message) {\n                if (!err) {\n                    _this._adUnit = new VPAIDAdUnit(_this._flash);\n                }\n                _this._adUnitLoad = null;\n                callback(err, _this._adUnit);\n            };\n\n            this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\n        }\n    }, {\n        key: 'unloadAdUnit',\n        value: function unloadAdUnit() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            if (this._destroyed) {\n                throw new error('VPAIDFlashToJS is destroyed!');\n            }\n\n            this._destroyAdUnit();\n            this._flash.callFlashMethod('unloadAdUnit', [], callback);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            return this._flash.getFlashID();\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            return this._flash.getFlashURL();\n        }\n    }]);\n\n    return VPAIDFLASHClient;\n})();\n\nObject.defineProperty(VPAIDFLASHClient, 'isSupported', {\n    writable: false,\n    configurable: false,\n    value: function value() {\n        return swfobject.hasFlashPlayerVersion(FLASH_VERSION);\n    }\n});\n\nwindow.VPAIDFLASHClient = VPAIDFLASHClient;\nmodule.exports = VPAIDFLASHClient;\n\n},{\"./VPAIDAdUnit\":2,\"./jsFlashBridge\":4,\"./utils\":7}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar unique = require('./utils').unique;\nvar isPositiveInt = require('./utils').isPositiveInt;\nvar stringEndsWith = require('./utils').stringEndsWith;\nvar SingleValueRegistry = require('./registry').SingleValueRegistry;\nvar MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\nvar registry = require('./jsFlashBridgeRegistry');\nvar VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\nvar ERROR = 'error';\n\nvar JSFlashBridge = (function () {\n    function JSFlashBridge(el, flashURL, flashID, width, height, loadHandShake) {\n        _classCallCheck(this, JSFlashBridge);\n\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = new MultipleValuesRegistry();\n        this._callbacks = new SingleValueRegistry();\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        this._loadHandShake = loadHandShake;\n\n        registry.addInstance(this._flashID, this);\n    }\n\n    _createClass(JSFlashBridge, [{\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._handlers.add(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            return this._handlers.remove(eventName, callback);\n        }\n    }, {\n        key: 'offEvent',\n        value: function offEvent(eventName) {\n            return this._handlers.removeByKey(eventName);\n        }\n    }, {\n        key: 'offAll',\n        value: function offAll() {\n            return this._handlers.removeAll();\n        }\n    }, {\n        key: 'callFlashMethod',\n        value: function callFlashMethod(methodName) {\n            var args = arguments[1] === undefined ? [] : arguments[1];\n            var callback = arguments[2] === undefined ? undefined : arguments[2];\n\n            var callbackID = '';\n            // if no callback, some methods the return is void so they don't need callback\n            if (callback) {\n                callbackID = this._uniqueMethodIdentifier() + '_' + methodName;\n                this._callbacks.add(callbackID, callback);\n            }\n\n            try {\n                //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n                //this code will throw an error\n                this._el[methodName]([callbackID].concat(args));\n            } catch (e) {\n                if (callback) {\n                    this._callbacks.remove(callbackID);\n                    setTimeout(function () {\n                        callback(e);\n                    }, 0);\n                } else {\n\n                    //if there isn't any callback to return error use error event handler\n                    this._trigger(ERROR, [e]);\n                }\n            }\n        }\n    }, {\n        key: 'removeCallback',\n        value: function removeCallback(callback) {\n            return this._callbacks.removeByValue(callback);\n        }\n    }, {\n        key: 'removeCallbackByMethodName',\n        value: function removeCallbackByMethodName(suffix) {\n            var _this = this;\n\n            this._callbacks.filterKeys(function (key) {\n                return stringEndsWith(key, suffix);\n            }).forEach(function (key) {\n                _this._callbacks.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAllCallbacks',\n        value: function removeAllCallbacks() {\n            return this._callbacks.removeAll();\n        }\n    }, {\n        key: '_trigger',\n        value: function _trigger(eventName, err, result) {\n            //TODO: check if forEach and isArray is added to the browser with babeljs\n            this._handlers.get(eventName).forEach(function (callback) {\n                setTimeout(function () {\n                    callback(err, result);\n                }, 0);\n            });\n        }\n    }, {\n        key: '_callCallback',\n        value: function _callCallback(methodName, callbackID, err, result) {\n\n            var callback = this._callbacks.get(callbackID);\n\n            //not all methods callback's are mandatory\n            //but if there exist an error, fire the error event\n            if (!callback) {\n                if (err && callbackID === '') {\n                    this.trigger(ERROR, err, result);\n                }\n                return;\n            }\n\n            setTimeout(function () {\n                callback(err, result);\n            }, 0);\n\n            this._callbacks.remove(callbackID);\n        }\n    }, {\n        key: 'getSize',\n\n        //methods like properties specific to this implementation of VPAID\n        value: function getSize() {\n            return { width: this._width, height: this._height };\n        }\n    }, {\n        key: 'setSize',\n        value: function setSize(newWidth, newHeight) {\n            this._width = isPositiveInt(newWidth, this._width);\n            this._height = isPositiveInt(newHeight, this._height);\n            this._el.setAttribute('width', this._width);\n            this._el.setAttribute('height', this._height);\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this._width;\n        }\n    }, {\n        key: 'setWidth',\n        value: function setWidth(newWidth) {\n            this.setSize(newWidth, this._height);\n        }\n    }, {\n        key: 'getHeight',\n        value: function getHeight() {\n            return this._height;\n        }\n    }, {\n        key: 'setHeight',\n        value: function setHeight(newHeight) {\n            this.setSize(this._width, newHeight);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            return this._flashID;\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            return this._flashURL;\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.offAll();\n            this.removeAllCallbacks();\n            registry.removeInstanceByID(this._flashID);\n            if (this._el.parentElement) {\n                this._el.parentElement.removeChild(this._el);\n            }\n        }\n    }]);\n\n    return JSFlashBridge;\n})();\n\nexports.JSFlashBridge = JSFlashBridge;\n\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\nwindow[VPAID_FLASH_HANDLER] = function (flashID, type, event, callID, error, data) {\n    var instance = registry.getInstanceByID(flashID);\n    if (!instance) return;\n    if (event === 'handShake') {\n        instance._loadHandShake(error, data);\n    } else {\n        if (type !== 'event') {\n            instance._callCallback(event, callID, error, data);\n        } else {\n            instance._trigger(event, error, data);\n        }\n    }\n};\n\n},{\"./jsFlashBridgeRegistry\":5,\"./registry\":6,\"./utils\":7}],5:[function(require,module,exports){\n'use strict';\n\nvar SingleValueRegistry = require('./registry').SingleValueRegistry;\nvar instances = new SingleValueRegistry();\n\nvar JSFlashBridgeRegistry = {};\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\n    writable: false,\n    configurable: false,\n    value: function value(id, instance) {\n        instances.add(id, instance);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.get(id);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.remove(id);\n    }\n});\n\nmodule.exports = JSFlashBridgeRegistry;\n\n},{\"./registry\":6}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar MultipleValuesRegistry = (function () {\n    function MultipleValuesRegistry() {\n        _classCallCheck(this, MultipleValuesRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(MultipleValuesRegistry, [{\n        key: 'add',\n        value: function add(id, value) {\n            if (!this._registries[id]) {\n                this._registries[id] = [];\n            }\n            if (this._registries[id].indexOf(value) === -1) {\n                this._registries[id].push(value);\n            }\n        }\n    }, {\n        key: 'get',\n        value: function get(id) {\n            return this._registries[id] || [];\n        }\n    }, {\n        key: 'filterKeys',\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: 'findByValue',\n        value: function findByValue(value) {\n            var _this = this;\n\n            //TODO: check if keys and find is added to the browser with babeljs\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this._registries[key].indexOf(value) !== -1;\n            });\n\n            return keys;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(key, value) {\n            if (!this._registries[key]) {\n                return;\n            }\n\n            var index = this._registries[key].indexOf(value);\n\n            if (index < 0) {\n                return;\n            }\n            return this._registries[key].splice(index, 1);\n        }\n    }, {\n        key: 'removeByKey',\n        value: function removeByKey(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: 'removeByValue',\n        value: function removeByValue(value) {\n            var _this2 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this2.remove(key, value);\n            });\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: 'size',\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return MultipleValuesRegistry;\n})();\n\nexports.MultipleValuesRegistry = MultipleValuesRegistry;\n\nvar SingleValueRegistry = (function () {\n    function SingleValueRegistry() {\n        _classCallCheck(this, SingleValueRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(SingleValueRegistry, [{\n        key: 'add',\n        value: function add(id, value) {\n            this._registries[id] = value;\n        }\n    }, {\n        key: 'get',\n        value: function get(id) {\n            return this._registries[id];\n        }\n    }, {\n        key: 'filterKeys',\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: 'findByValue',\n        value: function findByValue(value) {\n            var _this3 = this;\n\n            //TODO: check if keys is added to the browser with babeljs\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this3._registries[key] === value;\n            });\n\n            return keys;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: 'removeByValue',\n        value: function removeByValue(value) {\n            var _this4 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this4.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: 'size',\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return SingleValueRegistry;\n})();\n\nexports.SingleValueRegistry = SingleValueRegistry;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports.unique = unique;\nexports.noop = noop;\nexports.callbackTimeout = callbackTimeout;\nexports.createElementWithID = createElementWithID;\nexports.isPositiveInt = isPositiveInt;\nexports.stringEndsWith = stringEndsWith;\n\nfunction unique(prefix) {\n    var count = -1;\n    return function (f) {\n        return prefix + '_' + ++count;\n    };\n}\n\nfunction noop() {}\n\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n\n    var timeout = setTimeout(function () {\n\n        onSuccess = noop;\n        onTimeout();\n    }, timer);\n\n    return function () {\n        clearTimeout(timeout);\n        onSuccess.apply(this, arguments);\n    };\n}\n\nfunction createElementWithID(parent, id) {\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nfunction isPositiveInt(newVal, oldVal) {\n    return !isNaN(parseFloat(newVal)) && isFinite(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\nvar endsWith = (function () {\n    if (String.prototype.endsWith) return String.prototype.endsWith;\n    return function endsWith(searchString, position) {\n        var subjectString = this.toString();\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    };\n})();\n\nfunction stringEndsWith(string, search) {\n    return endsWith.call(string, search);\n}\n\n},{}]},{},[3])\n\n\n//# sourceMappingURL=VPAIDFLASHClient.js.map","/*jshint unused:false */\n\"use strict\";\n\nvar NODE_TYPE_ELEMENT = 1;\n\nfunction noop(){ }\n\nfunction isNull(o) {\n  return o === null;\n}\n\nfunction isDefined(o){\n  return o !== undefined;\n}\n\nfunction isUndefined(o){\n  return o === undefined;\n}\n\nfunction isObject(obj) {\n  return typeof obj === 'object';\n}\n\nfunction isFunction(str){\n  return typeof str === 'function';\n}\n\nfunction isNumber(num){\n  return typeof num === 'number';\n}\n\nfunction isWindow(obj) {\n  return isObject(obj) && obj.window === obj;\n}\n\nfunction isArray(array){\n  return Object.prototype.toString.call( array ) === '[object Array]';\n}\n\nfunction isArrayLike(obj) {\n  if (obj === null || isWindow(obj) || isFunction(obj) || isUndefined(obj)) {\n    return false;\n  }\n\n  var length = obj.length;\n\n  if (obj.nodeType === NODE_TYPE_ELEMENT && length) {\n    return true;\n  }\n\n  return isString(obj) || isArray(obj) || length === 0 ||\n    typeof length === 'number' && length > 0 && (length - 1) in obj;\n}\n\nfunction isString(str){\n  return typeof str === 'string';\n}\n\nfunction isEmptyString(str) {\n  return isString(str) && str.length === 0;\n}\n\nfunction isNotEmptyString(str) {\n  return isString(str) && str.length !== 0;\n}\n\nfunction arrayLikeObjToArray(args) {\n  return Array.prototype.slice.call(args);\n}\n\nfunction forEach(obj, iterator, context) {\n  var key, length;\n  if (obj) {\n    if (isFunction(obj)) {\n      for (key in obj) {\n        // Need to check if hasOwnProperty exists,\n        // as on IE8 the result of querySelectorAll is an object without a hasOwnProperty function\n        if (key !== 'prototype' && key !== 'length' && key !== 'name' && (!obj.hasOwnProperty || obj.hasOwnProperty(key))) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (isArray(obj)) {\n      var isPrimitive = typeof obj !== 'object';\n      for (key = 0, length = obj.length; key < length; key++) {\n        if (isPrimitive || key in obj) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (obj.forEach && obj.forEach !== forEach) {\n      obj.forEach(iterator, context, obj);\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    }\n  }\n  return obj;\n}\n\n\nvar SNAKE_CASE_REGEXP = /[A-Z]/g;\nfunction snake_case(name, separator) {\n  separator = separator || '_';\n  return name.replace(SNAKE_CASE_REGEXP, function(letter, pos) {\n    return (pos ? separator : '') + letter.toLowerCase();\n  });\n}\n\nfunction isValidEmail(email){\n  if(!isString(email)){\n    return false;\n  }\n  var EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i;\n  return EMAIL_REGEXP.test(email.trim());\n}\n\nfunction extend (obj) {\n  var arg, i, k;\n  for (i = 1; i < arguments.length; i++) {\n    arg = arguments[i];\n    for (k in arg) {\n      if (arg.hasOwnProperty(k)) {\n        if(isObject(obj[k]) && !isNull(obj[k]) && isObject(arg[k])){\n          obj[k] = extend({}, obj[k], arg[k]);\n        }else {\n          obj[k] = arg[k];\n        }\n      }\n    }\n  }\n  return obj;\n}\n\nfunction capitalize(s){\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nfunction decapitalize(s) {\n  return s.charAt(0).toLowerCase() + s.slice(1);\n}\n\n/**\n * This method works the same way array.prototype.map works but if the transformer returns undefine, then\n * it won't be added to the transformed Array.\n */\nfunction transformArray(array, transformer) {\n  var transformedArray = [];\n\n  array.forEach(function(item, index){\n    var transformedItem = transformer(item, index);\n    if(isDefined(transformedItem)) {\n      transformedArray.push(transformedItem);\n    }\n  });\n\n  return transformedArray;\n}\n\nfunction toFixedDigits(num, digits) {\n  var formattedNum = num + '';\n  digits = isNumber(digits) ? digits : 0;\n  num = isNumber(num) ? num : parseInt(num);\n  if(isNumber(num) && !isNaN(num)){\n    formattedNum = num + '';\n    while(formattedNum.length < digits) {\n      formattedNum = '0' + formattedNum;\n    }\n    return formattedNum;\n  }\n  return NaN + '';\n}\n\nfunction throttle(callback, delay) {\n  var previousCall = new Date().getTime() - (delay + 1);\n  return function() {\n    var time = new Date().getTime();\n    if ((time - previousCall) >= delay) {\n      previousCall = time;\n      callback.apply(this, arguments);\n    }\n  };\n}\n\nfunction debounce (callback, wait) {\n  var timeoutId;\n\n  return function (){\n    if(timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(function(){\n      callback.apply(this, arguments);\n      timeoutId = undefined;\n    }, wait);\n  };\n}\n\n// a function designed to blow up the stack in a naive way\n// but it is ok for videoJs children components\nfunction treeSearch(root, getChildren, found){\n  var children = getChildren(root);\n  for (var i = 0; i < children.length; i++){\n    if (found(children[i])) {\n      return children[i];\n    }\n    else {\n      var el = treeSearch(children[i], getChildren, found);\n      if (el){\n        return el;\n      }\n    }\n  }\n}\n\nfunction echoFn(val) {\n  return function () {\n    return val;\n  };\n}\n\n//Note: Supported formats come from http://www.w3.org/TR/NOTE-datetime\n// and the iso8601 regex comes from http://www.pelagodesign.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/\nfunction isISO8601(value) {\n  if(isNumber(value)){\n    value = value + '';  //we make sure that we are working with strings\n  }\n\n  if(!isString(value)){\n    return false;\n  }\n\n  /*jslint maxlen: 500 */\n  var iso8086Regex = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n  return iso8086Regex.test(value.trim());\n}\n\nvar _UA = navigator.userAgent;\nfunction isIDevice() {\n  return /iP(hone|ad)/.test(_UA);\n}","\"use strict\";\n\nfunction HttpRequestError(message) {\n  this.message = 'HttpRequest Error: ' + (message || '');\n}\nHttpRequestError.prototype = new Error();\nHttpRequestError.prototype.name = \"HttpRequest Error\";\n\nfunction HttpRequest(createXhr) {\n  if (!isFunction(createXhr)) {\n    throw new HttpRequestError('Missing XMLHttpRequest factory method');\n  }\n\n  this.createXhr = createXhr;\n}\n\nHttpRequest.prototype.run = function (method, url, callback, options) {\n  sanityCheck(url, callback, options);\n  var timeout, timeoutId;\n  var xhr = this.createXhr();\n  options = options || {};\n  timeout = isNumber(options.timeout)? options.timeout : 0;\n\n  xhr.open(method, urlParts(url).href, true);\n\n  if (options.headers) {\n    setHeaders(xhr, options.headers);\n  }\n\n  if (options.withCredentials) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function () {\n    var statusText, response, status;\n\n    if(isDefined(timeoutId)){\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n\n    statusText = xhr.statusText || '';\n\n    // responseText is the old-school way of retrieving response (supported by IE8 & 9)\n    // response/responseType properties were introduced in XHR Level2 spec (supported by IE10)\n    response = ('response' in xhr) ? xhr.response : xhr.responseText;\n\n    // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n    status = xhr.status === 1223 ? 204 : xhr.status;\n\n    callback(\n      status,\n      response,\n      xhr.getAllResponseHeaders(),\n      statusText);\n  };\n\n  xhr.onerror = requestError;\n  xhr.onabort = requestError;\n\n  xhr.send();\n\n  if(timeout > 0){\n    timeoutId = setTimeout(function () {\n      xhr && xhr.abort();\n    }, timeout);\n  }\n\n  function sanityCheck(url, callback, options) {\n    if (!isString(url) || isEmptyString(url)) {\n      throw new HttpRequestError(\"Invalid url '\" + url + \"'\");\n    }\n\n    if (!isFunction(callback)) {\n      throw new HttpRequestError(\"Invalid handler '\" + callback + \"' for the http request\");\n    }\n\n    if (isDefined(options) && !isObject(options)) {\n      throw new HttpRequestError(\"Invalid options map '\" + options + \"'\");\n    }\n  }\n\n  function setHeaders(xhr, headers) {\n    forEach(headers, function (value, key) {\n      if (isDefined(value)) {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n  }\n\n  function requestError() {\n    callback(-1, null, null, '');\n  }\n};\n\nHttpRequest.prototype.get = function (url, callback, options) {\n  this.run('GET', url, processResponse, options);\n\n  function processResponse(status, response, headersString, statusText) {\n    if (isSuccess(status)) {\n      callback(null, response, status, headersString, statusText);\n    } else {\n      callback(new HttpRequestError(statusText), response, status, headersString, statusText);\n    }\n  }\n\n  function isSuccess(status) {\n    return 200 <= status && status < 300;\n  }\n};\n\nfunction createXhr() {\n  return new window.XMLHttpRequest();\n}\n\nvar http = new HttpRequest(createXhr);\n","'use strict';\n\n/**\n * documentMode is an IE-only property\n * http://msdn.microsoft.com/en-us/library/ie/cc196988(v=vs.85).aspx\n */\nvar msie = document.documentMode;\n\n/**\n *\n * IMPORTANT NOTE: This function comes from angularJs and was originally called urlResolve\n *                 you can take a look at the original code here https://github.com/angular/angular.js/blob/master/src/ng/urlUtils.js\n *\n * Implementation Notes for non-IE browsers\n * ----------------------------------------\n * Assigning a URL to the href property of an anchor DOM node, even one attached to the DOM,\n * results both in the normalizing and parsing of the URL.  Normalizing means that a relative\n * URL will be resolved into an absolute URL in the context of the application document.\n * Parsing means that the anchor node's host, hostname, protocol, port, pathname and related\n * properties are all populated to reflect the normalized URL.  This approach has wide\n * compatibility - Safari 1+, Mozilla 1+, Opera 7+,e etc.  See\n * http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *\n * Implementation Notes for IE\n * ---------------------------\n * IE >= 8 and <= 10 normalizes the URL when assigned to the anchor node similar to the other\n * browsers.  However, the parsed components will not be set if the URL assigned did not specify\n * them.  (e.g. if you assign a.href = \"foo\", then a.protocol, a.host, etc. will be empty.)  We\n * work around that by performing the parsing in a 2nd step by taking a previously normalized\n * URL (e.g. by assigning to a.href) and assigning it a.href again.  This correctly populates the\n * properties such as protocol, hostname, port, etc.\n *\n * IE7 does not normalize the URL when assigned to an anchor node.  (Apparently, it does, if one\n * uses the inner HTML approach to assign the URL as part of an HTML snippet -\n * http://stackoverflow.com/a/472729)  However, setting img[src] does normalize the URL.\n * Unfortunately, setting img[src] to something like \"javascript:foo\" on IE throws an exception.\n * Since the primary usage for normalizing URLs is to sanitize such URLs, we can't use that\n * method and IE < 8 is unsupported.\n *\n * References:\n *   http://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n *   http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *   http://url.spec.whatwg.org/#urlutils\n *   https://github.com/angular/angular.js/pull/2902\n *   http://james.padolsey.com/javascript/parsing-urls-with-the-dom/\n *\n * @kind function\n * @param {string} url The URL to be parsed.\n * @description Normalizes and parses a URL.\n * @returns {object} Returns the normalized URL as a dictionary.\n *\n *   | member name   | Description    |\n *   |---------------|----------------|\n *   | href          | A normalized version of the provided URL if it was not an absolute URL |\n *   | protocol      | The protocol including the trailing colon                              |\n *   | host          | The host and port (if the port is non-default) of the normalizedUrl    |\n *   | search        | The search params, minus the question mark                             |\n *   | hash          | The hash string, minus the hash symbol\n *   | hostname      | The hostname\n *   | port          | The port, without \":\"\n *   | pathname      | The pathname, beginning with \"/\"\n *\n */\n\nvar urlParsingNode = document.createElement(\"a\");\n\nfunction urlParts(url) {\n  var href = url;\n\n  if (msie) {\n    // Normalize before parse.  Refer Implementation Notes on why this is\n    // done in two steps on IE.\n    urlParsingNode.setAttribute(\"href\", href);\n    href = urlParsingNode.href;\n  }\n\n  urlParsingNode.setAttribute('href', href);\n\n  // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n  return {\n    href: urlParsingNode.href,\n    protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n    host: urlParsingNode.host,\n    search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n    hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n    hostname: urlParsingNode.hostname,\n    port: isNotEmptyString(urlParsingNode.port)? urlParsingNode.port: 80,\n    pathname: (urlParsingNode.pathname.charAt(0) === '/')\n      ? urlParsingNode.pathname\n      : '/' + urlParsingNode.pathname\n  };\n}\n\n\n/**\n * This function accepts a query string (search part of a url) and returns a dictionary with\n * the different key value pairs\n * @param {string} qs queryString\n */\nfunction queryStringToObj(qs, cond) {\n  var pairs, qsObj;\n\n  cond = isFunction(cond)? cond : function() {\n    return true;\n  };\n\n  qs = qs.trim().replace(/^\\?/, '');\n  pairs = qs.split('&');\n  qsObj = {};\n\n  forEach(pairs, function (pair) {\n    var keyValue, key, value;\n    if (pair !== '') {\n      keyValue = pair.split('=');\n      key = keyValue[0];\n      value = keyValue[1];\n      if(cond(key, value)){\n        qsObj[key] = value;\n      }\n    }\n  });\n\n  return qsObj;\n}\n\n/**\n * This function accepts an object and serializes it into a query string without the leading '?'\n * @param obj\n * @returns {string}\n */\nfunction objToQueryString(obj) {\n  var pairs = [];\n  forEach(obj, function (value, key) {\n    pairs.push(key + '=' + value);\n  });\n  return pairs.join('&');\n}\n\n","function VPAIDAdUnitWrapper(vpaidAdUnit, opts) {\n  if (!(this instanceof VPAIDAdUnitWrapper)) {\n    return new VPAIDAdUnitWrapper(vpaidAdUnit);\n  }\n  sanityCheck(vpaidAdUnit, opts);\n  var defaultOpts = {\n    responseTimeout: 2000\n  };\n\n  this.options = extend({}, defaultOpts, opts || {});\n  this._adUnit = vpaidAdUnit;\n\n  /*** Local Functions ***/\n  function sanityCheck(adUnit, opts) {\n    if (!adUnit || !VPAIDAdUnitWrapper.checkVPAIDInterface(adUnit)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface');\n    }\n\n    if (opts && !isObject(opts)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper, expected options hash  but got '\" + opts + \"'\");\n    }\n  }\n}\n\nVPAIDAdUnitWrapper.checkVPAIDInterface = function checkVPAIDInterface(VPAIDAdUnit) {\n  //NOTE: skipAd is not part of the method list because it only appears in VPAID 2.0 and we support VPAID 1.0\n  var VPAIDInterfaceMethods = [\n    'handshakeVersion', 'initAd', 'startAd', 'stopAd', 'resizeAd', 'pauseAd', 'expandAd', 'collapseAd'\n  ];\n\n  for (var i = 0, len = VPAIDInterfaceMethods.length; i < len; i++) {\n    if (!VPAIDAdUnit || !isFunction(VPAIDAdUnit[VPAIDInterfaceMethods[i]])) {\n      return false;\n    }\n  }\n\n\n  return canSubscribeToEvents(VPAIDAdUnit) && canUnsubscribeFromEvents(VPAIDAdUnit);\n\n  /*** Local Functions ***/\n\n  function canSubscribeToEvents(adUnit) {\n    return isFunction(adUnit.subscribe) || isFunction(adUnit.addEventListener) || isFunction(adUnit.on);\n  }\n\n  function canUnsubscribeFromEvents(adUnit) {\n    return isFunction(adUnit.unsubscribe) || isFunction(adUnit.removeEventListener) || isFunction(adUnit.off);\n\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.adUnitAsyncCall = function () {\n  var args = arrayLikeObjToArray(arguments);\n  var method = args.shift();\n  var cb = args.pop();\n  var timeoutId;\n\n  sanityCheck(method, cb, this._adUnit);\n  args.push(wrapCallback());\n\n  this._adUnit[method].apply(this._adUnit, args);\n  timeoutId = setTimeout(function () {\n    timeoutId = null;\n    cb(new VASTError(\"on VPAIDAdUnitWrapper, timeout while waiting for a response on call '\" + method + \"'\"));\n    cb = noop;\n  }, this.options.responseTimeout);\n\n  /*** Local functions ***/\n  function sanityCheck(method, cb, adUnit) {\n    if (!isString(method) || !isFunction(adUnit[method])) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name\");\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback\");\n    }\n  }\n\n  function wrapCallback() {\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      cb.apply(this, arguments);\n    };\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.on = function (evtName, handler) {\n  var addEventListener = this._adUnit.addEventListener || this._adUnit.subscribe || this._adUnit.on;\n  addEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.off = function (evtName, handler) {\n  var removeEventListener = this._adUnit.removeEventListener || this._adUnit.unsubscribe || this._adUnit.off;\n  removeEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.waitForEvent = function (evtName, cb, context) {\n  var timeoutId;\n  sanityCheck(evtName, cb);\n  context = context || null;\n\n  this.on(evtName, responseListener);\n\n  timeoutId = setTimeout(function () {\n    cb(new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event '\" + evtName + \"'\"));\n    timeoutId = null;\n    cb = noop;\n  }, this.options.responseTimeout);\n\n  /*** Local functions ***/\n  function sanityCheck(evtName, cb) {\n    if (!isString(evtName)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, missing evt name\");\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, missing callback\");\n    }\n  }\n\n  function responseListener() {\n    var args = arrayLikeObjToArray(arguments);\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n\n    args.unshift(null);\n    cb.apply(context, args);\n  }\n};\n\n// VPAID METHODS\nVPAIDAdUnitWrapper.prototype.handshakeVersion = function (version, cb) {\n  this.adUnitAsyncCall('handshakeVersion', version, cb);\n};\n\n/* jshint maxparams:6 */\nVPAIDAdUnitWrapper.prototype.initAd = function (width, height, viewMode, desiredBitrate, adUnitData, cb) {\n  this._adUnit.initAd(width, height, viewMode, desiredBitrate, adUnitData);\n  this.waitForEvent('AdLoaded', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.resizeAd = function (width, height, viewMode, cb) {\n  // NOTE: AdSizeChange event is only supported on VPAID 2.0 so for the moment we are not going to use it\n  // and will assume that everything is fine after the async call\n  this.adUnitAsyncCall('resizeAd', width, height, viewMode, cb);\n};\n\nVPAIDAdUnitWrapper.prototype.startAd = function (cb) {\n  this._adUnit.startAd();\n  this.waitForEvent('AdStarted', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.stopAd = function (cb) {\n  this._adUnit.stopAd();\n  this.waitForEvent('AdStopped', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.pauseAd = function (cb) {\n  this._adUnit.pauseAd();\n  this.waitForEvent('AdPaused', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.resumeAd = function (cb) {\n  this._adUnit.resumeAd();\n  this.waitForEvent('AdPlaying', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.expandAd = function (cb) {\n  this._adUnit.expandAd();\n  this.waitForEvent('AdExpandedChange', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.collapseAd = function (cb) {\n  this._adUnit.collapseAd();\n  this.waitForEvent('AdExpandedChange', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.skipAd = function (cb) {\n  this._adUnit.skipAd();\n  this.waitForEvent('AdSkipped', cb);\n};\n\n//VPAID property getters\n[\n  'adLinear',\n  'adWidth',\n  'adHeight',\n  'adExpanded',\n  'adSkippableState',\n  'adRemainingTime',\n  'adDuration',\n  'adVolume',\n  'adCompanions',\n  'adIcons'\n].forEach(function (property) {\n  var getterName = 'get' + capitalize(property);\n\n  VPAIDAdUnitWrapper.prototype[getterName] = function (cb) {\n    this.adUnitAsyncCall(getterName, cb);\n  };\n});\n\n//VPAID property setters\nVPAIDAdUnitWrapper.prototype.setAdVolume = function(volume, cb){\n  this.adUnitAsyncCall('setAdVolume',volume, cb);\n};","function VPAIDFlashTech(mediaFile) {\n  if (!(this instanceof VPAIDFlashTech)) {\n    return new VPAIDFlashTech(mediaFile);\n  }\n  sanityCheck(mediaFile);\n  this.mediaFile = mediaFile;\n  this.containerEl = null;\n  this.vpaidFlashClient = null;\n\n  /*** local functions ***/\n  function sanityCheck(mediaFile) {\n    if (!mediaFile || !isString(mediaFile.src)) {\n      throw new VASTError('on VPAIDFlashTech, invalid MediaFile');\n    }\n  }\n}\n\nVPAIDFlashTech.supports = function (type) {\n  return type === 'application/x-shockwave-flash';\n};\n\nVPAIDFlashTech.prototype.loadAdUnit = function loadFlashCreative(containerEl, callback) {\n  var that = this;\n  sanityCheck(containerEl, callback);\n\n  this.containerEl = containerEl;\n  this.vpaidFlashClient = new VPAIDFLASHClient(containerEl, function (error) {\n    if (error) {\n      return callback(error);\n    }\n\n    that.vpaidFlashClient.loadAdUnit(that.mediaFile.src, callback);\n  });\n\n  /*** Local Functions ***/\n  function sanityCheck(container, cb) {\n\n    if (!dom.isDomElement(container)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, invalid dom container element');\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, missing valid callback');\n    }\n  }\n};\n\nVPAIDFlashTech.prototype.unloadAdUnit = function () {\n  if (this.vpaidFlashClient) {\n    try{\n      this.vpaidFlashClient.destroy();\n    } catch(e){\n      if(console && isFunction(console.log)){\n        console.log('VAST ERROR: trying to unload the VPAID adunit');\n      }\n    }\n    this.vpaidFlashClient = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n};\n","function VPAIDHTML5Tech(mediaFile) {\n\n  if(!(this instanceof VPAIDHTML5Tech)) {\n    return new VPAIDHTML5Tech(mediaFile);\n  }\n\n  sanityCheck(mediaFile);\n\n  this.containerEl = null;\n  this.videoEl = null;\n  this.vpaidHTMLClient = null;\n\n  this.mediaFile = mediaFile;\n\n  function sanityCheck(mediaFile) {\n      if (!mediaFile || !isString(mediaFile.src)) {\n        throw new VASTError(VPAIDHTML5Tech.INVALID_MEDIA_FILE);\n      }\n  }\n}\n\nVPAIDHTML5Tech.supports = function (type) {\n  return type === 'application/javascript';\n};\n\nVPAIDHTML5Tech.prototype.loadAdUnit = function loadAdUnit(containerEl, videoEl, callback) {\n  sanityCheck(containerEl, videoEl, callback);\n  //TODO: change default timeout\n\n  this.containerEl = containerEl;\n  this.videoEl = videoEl;\n  this.vpaidHTMLClient = new VPAIDHTML5Client(containerEl, videoEl, {});\n  this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src, callback);\n\n  function sanityCheck(container, video, cb) {\n    if (!dom.isDomElement(container)) {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL);\n    }\n\n    if (!dom.isDomElement(video) || video.tagName.toLowerCase() !== 'video') {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL);\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError(VPAIDHTML5Tech.MISSING_CALLBACK);\n    }\n  }\n};\n\nVPAIDHTML5Tech.prototype.unloadAdUnit = function unloadAdUnit() {\n  if (this.vpaidHTMLClient) {\n    try {\n      this.vpaidHTMLClient.destroy();\n    } catch(e) {\n      if (console && isFunction(console.log)) {\n        console.log('VAST ERROR: trying to unload the VPAID adunit');\n      }\n    }\n\n    this.vpaidHTMLClient = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n\n  if (this.videoEl) {\n    dom.remove(this.videoEl);\n    this.videoEl = null;\n  }\n};\n\nvar PREFIX = 'on VPAIDHTML5Tech';\nVPAIDHTML5Tech.INVALID_MEDIA_FILE = PREFIX + ', invalid MediaFile';\nVPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL = PREFIX + ', invalid container HtmlElement';\nVPAIDHTML5Tech.INVALID_DOM_VIDEO_EL = PREFIX + ', invalid HTMLVideoElement';\nVPAIDHTML5Tech.MISSING_CALLBACK = PREFIX + ', missing valid callback';\n\n","function VPAIDIntegrator(player) {\n  if (!(this instanceof VPAIDIntegrator)) {\n    return new VPAIDIntegrator(player);\n  }\n\n  this.VIEW_MODE = {\n    NORMAL: 'normal',\n    FULLSCREEN: \"fullscreen\",\n    THUMBNAIL: \"thumbnail\"\n  };\n  this.player = player;\n  this.containerEl = createVPAIDContainerEl(player);\n  this.options = {\n    responseTimeout: 2000,\n    VPAID_VERSION: {\n      full: '2.0',\n      major: 2,\n      minor: 0\n    }\n  };\n\n  /*** Local functions ***/\n\n  function createVPAIDContainerEl() {\n    var containerEl = document.createElement('div');\n    dom.addClass(containerEl, 'VPAID-container');\n    player.el().insertBefore(containerEl, player.controlBar.el());\n    return containerEl;\n\n  }\n}\n\n//List of supported VPAID technologies\nVPAIDIntegrator.techs = [\n  VPAIDFlashTech,\n  VPAIDHTML5Tech\n];\n\nVPAIDIntegrator.prototype.playAd = function playVPaidAd(vastResponse, callback) {\n  var that = this;\n  var tech;\n  var player = this.player;\n\n  callback = callback || noop;\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('on VASTIntegrator.playAd, missing required VASTResponse'));\n  }\n\n  player.one('adserror', function () {\n    removeAdUnit();\n  });\n\n  tech = this._findSupportedTech(vastResponse);\n  dom.addClass(player.el(), 'vjs-vpaid-ad');\n\n  if (tech) {\n    async.waterfall([\n      function (next) {\n        next(null, tech, vastResponse);\n      },\n      this._loadAdUnit.bind(this),\n      this._playAdUnit.bind(this),\n      this._finishPlaying.bind(this)\n\n    ], function (error, adUnit, vastResponse) {\n      removeAdUnit(error);\n\n      callback(error, vastResponse);\n    });\n  } else {\n    callback(new VASTError('on VPAIDIntegrator.playAd, could not find a supported mediaFile'));\n  }\n  /*** Local functions ***/\n  function removeAdUnit(error) {\n    if (error) {\n      that._trackError(vastResponse);\n      player.trigger('vast.aderror');\n    }\n\n    tech.unloadAdUnit();\n    dom.removeClass(player.el(), 'vjs-vpaid-ad');\n    player.trigger('VPAID.adended');\n  }\n};\n\nVPAIDIntegrator.prototype._findSupportedTech = function (vastResponse) {\n  if (!(vastResponse instanceof VASTResponse)) {\n    return null;\n  }\n\n  var vpaidMediaFiles = vastResponse.mediaFiles.filter(vastUtil.isVPAID);\n  var i, len, mediaFile, VPAIDTech;\n\n  for (i = 0, len = vpaidMediaFiles.length; i < len; i += 1) {\n    mediaFile = vpaidMediaFiles[i];\n    VPAIDTech = findSupportedTech(mediaFile);\n    if (VPAIDTech) {\n      return new VPAIDTech(mediaFile);\n    }\n  }\n\n  return null;\n\n  /*** Local functions ***/\n\n  function findSupportedTech(mediafile) {\n    var type = mediafile.type;\n    var i, len, VPAIDTech;\n\n    for (i = 0, len = VPAIDIntegrator.techs.length; i < len; i += 1) {\n      VPAIDTech = VPAIDIntegrator.techs[i];\n      if (VPAIDTech.supports(type)) {\n        return VPAIDTech;\n      }\n    }\n    return null;\n  }\n};\n\nVPAIDIntegrator.prototype._loadAdUnit = function (tech, vastResponse, next) {\n  tech.loadAdUnit(this.containerEl, function (error, adUnit) {\n    try {\n      next(error, new VPAIDAdUnitWrapper(adUnit, {src: tech.mediaFile.src}), vastResponse);\n    } catch (e) {\n      next(e, adUnit, vastResponse);\n    }\n  });\n};\n\nVPAIDIntegrator.prototype._playAdUnit = function (adUnit, vastResponse, callback) {\n  async.waterfall([\n    function (next) {\n      next(null, adUnit, vastResponse);\n    },\n    this._handshake.bind(this),\n    this._initAd.bind(this),\n    this._setupEvents.bind(this),\n    this._addSkipButton.bind(this),\n    this._linkPlayerControls.bind(this),\n    this._startAd.bind(this)\n  ], callback);\n};\n\nVPAIDIntegrator.prototype._handshake = function handshake(adUnit, vastResponse, next) {\n  adUnit.handshakeVersion('2.0', function (error, version) {\n    if (error) {\n      return next(error, adUnit, vastResponse);\n    }\n\n    if (version && isSupportedVersion(version)) {\n      return next(null, adUnit, vastResponse);\n    }\n\n    return next(new VASTError('on VPAIDIntegrator._handshake, unsupported version \"' + version + '\"'), adUnit, vastResponse);\n  });\n\n  function isSupportedVersion(version) {\n    var majorNum = major(version);\n    return majorNum >= 1 && majorNum <= 2;\n  }\n\n  function major(version) {\n    var parts = version.split('.');\n    return parseInt(parts[0], 10);\n  }\n};\n\nVPAIDIntegrator.prototype._initAd = function (adUnit, vastResponse, next) {\n  var dimension = dom.getDimension(this.player.el());\n  adUnit.initAd(dimension.width, dimension.height, this.VIEW_MODE.NORMAL, -1, vastResponse.adParameters || '', function (error) {\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._setupEvents = function (adUnit, vastResponse, next) {\n  var adUnitSrc = adUnit.options.src;\n  var tracker = new VASTTracker(adUnitSrc, vastResponse);\n  var player = this.player;\n\n  adUnit.on('AdSkipped', function () {\n    tracker.trackSkip();\n  });\n\n  adUnit.on('AdImpression', function () {\n    tracker.trackImpressions();\n  });\n\n  adUnit.on('AdVideoStart', function () {\n    tracker.trackStart();\n  });\n\n  adUnit.on('AdVideoFirstQuartile', function () {\n    tracker.trackFirstQuartile();\n  });\n\n  adUnit.on('AdVideoMidpoint', function () {\n    tracker.trackMidpoint();\n  });\n\n  adUnit.on('AdVideoThirdQuartile', function () {\n    tracker.trackThirdQuartile();\n  });\n\n  adUnit.on('AdVideoComplete', function () {\n    tracker.trackComplete();\n  });\n\n  adUnit.on('AdClickThru', function (url, id, playerHandles) {\n    var clickThruUrl = isNotEmptyString(url) ? url : generateClickThroughURL(vastResponse.clickThrough);\n    tracker.trackClick();\n    if (playerHandles && clickThruUrl) {\n      window.open(clickThruUrl);\n    }\n\n    function generateClickThroughURL(clickThroughMacro) {\n      var variables = {\n        ASSETURI: adUnit.options.src,\n        CONTENTPLAYHEAD: 0 //In VPAID there is no method to know the current time from the adUnit\n      };\n\n      return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : null;\n    }\n  });\n\n  adUnit.on('AdUserAcceptInvitation', function () {\n    tracker.trackAcceptInvitation();\n    tracker.trackAcceptInvitationLinear();\n  });\n\n  adUnit.on('AdUserClose', function () {\n    tracker.trackClose();\n    tracker.trackCloseLinear();\n  });\n\n  adUnit.on('AdPaused', function () {\n    tracker.trackPause();\n  });\n\n  adUnit.on('AdUserMinimize', function () {\n    tracker.trackCollapse();\n  });\n\n  adUnit.on('AdError', function () {\n    //NOTE: we track errors code 901, as noted in VAST 3.0\n    tracker.trackErrorWithCode(901);\n  });\n\n  adUnit.on('AdPlaying', function () {\n    //NOTE: we track errors code 901, as noted in VAST 3.0\n    tracker.trackResume();\n  });\n\n  adUnit.on('AdVolumeChange', function () {\n    var lastVolume = player.volume();\n    adUnit.getAdVolume(function (currentVolume) {\n      if (currentVolume === 0 && lastVolume > 0) {\n        tracker.trackMute();\n      }\n\n      if (currentVolume > 0 && lastVolume === 0) {\n        tracker.trackUnmute();\n      }\n\n      player.volume(currentVolume);\n    });\n  });\n\n  next(null, adUnit, vastResponse);\n};\n\nVPAIDIntegrator.prototype._addSkipButton = function (adUnit, vastResponse, next) {\n  var skipButton;\n  var player = this.player;\n\n  adUnit.on('AdSkippableStateChange', updateSkipButtonState);\n\n  player.one('vast.adend', removeSkipButton);\n  player.one('vast.aderror', removeSkipButton);\n\n  next(null, adUnit, vastResponse);\n\n  /*** Local function ***/\n  function updateSkipButtonState() {\n    adUnit.getAdSkippableState(function (isSkippable) {\n      if (isSkippable) {\n        addSkipButton(player);\n      } else {\n        removeSkipButton(player);\n      }\n    });\n  }\n\n  function addSkipButton(player) {\n    skipButton = createSkipButton(player);\n    player.el().appendChild(skipButton);\n  }\n\n  function removeSkipButton() {\n    dom.remove(skipButton);\n    skipButton = null;\n  }\n\n  function createSkipButton() {\n    var skipButton = window.document.createElement(\"div\");\n    dom.addClass(skipButton, \"vast-skip-button\");\n    dom.addClass(skipButton, \"enabled\");\n    skipButton.innerHTML = \"Skip ad\";\n\n    skipButton.onclick = function (e) {\n      adUnit.skipAd(noop);//We skip the adUnit\n\n      //We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation !== undefined) {\n        e.stopPropagation();\n      } else {\n        return false;\n      }\n    };\n\n    return skipButton;\n  }\n};\n\nVPAIDIntegrator.prototype._linkPlayerControls = function (adUnit, vastResponse, next) {\n  linkVolumeControl(this.player, adUnit);\n  linkFullScreenControl(this.player, adUnit, this.VIEW_MODE);\n\n  next(null, adUnit, vastResponse);\n\n  /*** Local functions ***/\n  function linkVolumeControl(player, adUnit) {\n    player.on('advolumechange', updateAdUnitVolume);\n    adUnit.on('AdVolumeChange', updatePlayerVolume);\n\n    player.on('VPAID.adended', function () {\n      player.off('advolumechange', updateAdUnitVolume);\n    });\n\n\n    /*** local functions ***/\n    function updateAdUnitVolume() {\n      var vol = player.muted() ? 0 : player.volume();\n      adUnit.setAdVolume(vol, logError);\n    }\n\n    function updatePlayerVolume() {\n      adUnit.getAdVolume(function (error, vol) {\n        if (error) {\n          logError(error);\n        } else {\n          player.volume(vol);\n        }\n      });\n    }\n  }\n\n  function linkFullScreenControl(player, adUnit, VIEW_MODE) {\n    player.on('fullscreenchange', updateViewSize);\n\n    player.on('VPAID.adended', function () {\n      player.off('fullscreenchange', updateViewSize);\n    });\n\n    /*** local functions ***/\n    function updateViewSize() {\n      var dimension = dom.getDimension(player.el());\n      var MODE = player.isFullscreen() ? VIEW_MODE.FULLSCREEN : VIEW_MODE.NORMAL;\n      adUnit.resizeAd(dimension.width, dimension.height, MODE, logError);\n    }\n  }\n\n  function logError(error) {\n    if (error && console && console.log) {\n      console.log('ERROR: ' + error.message, error);\n    }\n  }\n};\n\nVPAIDIntegrator.prototype._startAd = function (adUnit, vastResponse, next) {\n  var player = this.player;\n\n  adUnit.startAd(function (error) {\n    if (!error) {\n      player.trigger('vast.adstart');\n    }\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._finishPlaying = function (adUnit, vastResponse, next) {\n  adUnit.on('AdVideoComplete', function () {\n    next(null, adUnit, vastResponse);\n  });\n\n  adUnit.on('AdError', function () {\n    next(new VASTError('on VPAIDIntegrator, error while waiting for the adUnit to finish playing'), adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._trackError = function trackError(response) {\n  vastUtil.track(response.errorURLMacros, {ERRORCODE: 901});\n};\n\n","function Ad(adJTree) {\n  if (!(this instanceof Ad)) {\n    return new Ad(adJTree);\n  }\n\n  this.id = adJTree.attr('id');\n  this.sequence = adJTree.attr('sequence');\n\n  if(adJTree.inLine) {\n    this.inLine = new InLine(adJTree.inLine);\n  }\n\n  if(adJTree.wrapper){\n    this.wrapper = new Wrapper(adJTree.wrapper);\n  }\n}","\nfunction Creative(creativeJTree) {\n  if(!(this instanceof Creative)) {\n    return new Creative(creativeJTree);\n  }\n\n  this.id = creativeJTree.attr('id');\n  this.sequence = creativeJTree.attr('sequence');\n  this.adId = creativeJTree.attr('adId');\n  this.apiFramework = creativeJTree.attr('apiFramework');\n\n  if(creativeJTree.linear) {\n    this.linear = new Linear(creativeJTree.linear);\n  }\n}","function InLine(inlineJTree) {\n  if (!(this instanceof InLine)) {\n    return new InLine(inlineJTree);\n  }\n\n  //Required Fields\n  this.adTitle = xml.keyValue(inlineJTree.adTitle);\n  this.adSystem = xml.keyValue(inlineJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(inlineJTree.impression);\n  this.creatives = vastUtil.parseCreatives(inlineJTree.creatives);\n\n  //Optional Fields\n  this.description = xml.keyValue(inlineJTree.description);\n  this.advertiser = xml.keyValue(inlineJTree.advertiser);\n  this.surveys = parseSurveys(inlineJTree.survey);\n  this.error = xml.keyValue(inlineJTree.error);\n  this.pricing = xml.keyValue(inlineJTree.pricing);\n  this.extensions = inlineJTree.extensions;\n\n  /*** Local Functions ***/\n  function parseSurveys(inlineSurveys) {\n    if (inlineSurveys) {\n      return transformArray(isArray(inlineSurveys) ? inlineSurveys : [inlineSurveys], function (survey) {\n        if(isNotEmptyString(survey.keyValue)){\n          return {\n            uri: survey.keyValue,\n            type: survey.attr('type')\n          };\n        }\n\n        return undefined;\n      });\n    }\n    return [];\n  }\n}","function Linear(linearJTree) {\n  if (!(this instanceof Linear)) {\n    return new Linear(linearJTree);\n  }\n\n  //Required Elements\n  this.duration = vastUtil.parseDuration(xml.keyValue(linearJTree.duration));\n  this.mediaFiles = parseMediaFiles(linearJTree.mediaFiles && linearJTree.mediaFiles.mediaFile);\n\n  //Optional fields\n  this.trackingEvents = parseTrackingEvents(linearJTree.trackingEvents && linearJTree.trackingEvents.tracking, this.duration);\n  this.skipoffset = vastUtil.parseOffset(xml.attr(linearJTree, 'skipoffset'), this.duration);\n\n  if (linearJTree.videoClicks) {\n    this.videoClicks = new VideoClicks(linearJTree.videoClicks);\n  }\n  \n  if(linearJTree.adParameters) {\n    this.adParameters = xml.decode(xml.keyValue(linearJTree.adParameters));\n  }\n\n  /*** Local functions ***/\n  function parseTrackingEvents(trackingEvents, duration) {\n    var trackings = [];\n    if (isDefined(trackingEvents)) {\n      trackingEvents = isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach(function (trackingData) {\n        trackings.push(new TrackingEvent(trackingData, duration));\n      });\n    }\n    return trackings;\n  }\n\n  function parseMediaFiles(mediaFilesJxonTree) {\n    var mediaFiles = [];\n    if (isDefined(mediaFilesJxonTree)) {\n      mediaFilesJxonTree = isArray(mediaFilesJxonTree) ? mediaFilesJxonTree : [mediaFilesJxonTree];\n\n      mediaFilesJxonTree.forEach(function (mfData) {\n        mediaFiles.push(new MediaFile(mfData));\n      });\n    }\n    return mediaFiles;\n  }\n}","function MediaFile(mediaFileJTree) {\n  if (!(this instanceof MediaFile)) {\n    return new MediaFile(mediaFileJTree);\n  }\n\n  //Required attributes\n  this.src = xml.keyValue(mediaFileJTree);\n  this.delivery = mediaFileJTree.attr('delivery');\n  this.type = mediaFileJTree.attr('type');\n  this.width = mediaFileJTree.attr('width');\n  this.height = mediaFileJTree.attr('height');\n\n  //Optional attributes\n  this.codec = mediaFileJTree.attr('codec');\n  this.id = mediaFileJTree.attr('id');\n  this.bitrate = mediaFileJTree.attr('bitrate');\n  this.minBitrate = mediaFileJTree.attr('minBitrate');\n  this.maxBitrate = mediaFileJTree.attr('maxBitrate');\n  this.scalable = mediaFileJTree.attr('scalable');\n  this.maintainAspectRatio = mediaFileJTree.attr('maintainAspectRatio');\n  this.apiFramework = mediaFileJTree.attr('apiFramework');\n}","function TrackingEvent(trackingJTree, duration) {\n  if (!(this instanceof TrackingEvent)) {\n    return new TrackingEvent(trackingJTree, duration);\n  }\n\n  this.name = trackingJTree.attr('event');\n  this.uri = xml.keyValue(trackingJTree);\n\n  if('progress' === this.name) {\n    this.offset = vastUtil.parseOffset(trackingJTree.attr('offset'), duration);\n  }\n}\n","function VASTClient(options) {\n  if (!(this instanceof VASTClient)) {\n    return new VASTClient(options);\n  }\n  var defaultOptions = {\n    WRAPPER_LIMIT: 5\n  };\n\n  options = options || {};\n  this.settings = extend({}, options, defaultOptions);\n  this.errorURLMacros = [];\n}\n\nVASTClient.prototype.getVASTResponse = function getVASTResponse(url, callback) {\n  var that = this;\n\n  //We reset the errorURLMacros before doing anything.\n  this.errorURLMacros = [];\n\n  async.waterfall([\n      this._getAd.bind(this, url),\n      buildVASTResponse\n    ],\n    this._sendVASTResponse(callback));\n\n  /*** Local functions ***/\n  function buildVASTResponse(adsChain, cb) {\n    try {\n      var response = that._buildVASTResponse(adsChain);\n      cb(null, response);\n    } catch (e) {\n      cb(e);\n    }\n  }\n};\n\nVASTClient.prototype._sendVASTResponse = function sendVASTResponse(callback) {\n  var that = this;\n  callback = callback || noop;\n\n  return function (error, response) {\n    if (error) {\n      vastUtil.track(that.errorURLMacros, {ERRORCODE: error.code || 900});  //900 <== Undefined error\n    }\n    callback(error, response);\n  };\n};\n\nVASTClient.prototype._getAd = function getVASTAd(url, callback) {\n  var error;\n  var that = this;\n  var options = isObject(url) && !isNull(url) ? url : {url: url};\n  options.ads = options.ads || [];\n  error = sanityCheck(options, callback);\n  if (error) {\n    if (isFunction(callback)) {\n      return callback(error, null);\n    }\n    throw error;\n  }\n\n  async.waterfall([\n    requestVASTXml,\n    buildAd\n  ], callback);\n\n  /*** local function ***/\n  function sanityCheck(opts, cb) {\n    if (!isString(opts.url)) {\n      return new VASTError('on VASTClient._getAd, missing video tag URL');\n    }\n\n    if (!isFunction(cb)) {\n      return new VASTError('on VASTClient._getAd, missing callback function');\n    }\n\n    if (opts.ads.length >= that.WRAPPER_LIMIT) {\n      return new VASTError(\"on VASTClient._getAd, players wrapper limit reached (the limit is \" + that.WRAPPER_LIMIT + \")\", 302);\n    }\n  }\n\n  function requestVASTXml(callback) {\n    that._requestVASTXml(options.url, callback);\n  }\n\n  function buildAd(adXML, callback) {\n    var adTree;\n    try {\n      adTree = that._buildVastTree(adXML);\n      getValidAd(adTree.ads, options.ads, callback);\n    } catch (e) {\n      callback(e);\n    }\n\n    /*** local Functions  ***/\n    function getValidAd(possibleAds, previousAds, callback) {\n      getAd(possibleAds.shift(), previousAds, function (error, adChain) {\n        if (error) {\n          if (possibleAds.length > 0) {\n            return getValidAd(possibleAds, previousAds, callback);\n          }\n          return callback(error);\n        }\n        callback(null, adChain);\n      });\n    }\n\n    function getAd(adTree, previousAds, callback) {\n      try {\n        var ad = that._buildAd(adTree);\n\n        if (ad.wrapper) {\n          return getNextAd(ad, previousAds, callback);\n        }\n        return callback(null, previousAds.concat(ad));\n      } catch (e) {\n        callback(e);\n      }\n    }\n\n    function getNextAd(ad, previousAds, callback) {\n      return that._getAd({\n        url: ad.wrapper.VASTAdTagURI,\n        ads: previousAds.concat(ad)\n      }, callback);\n    }\n  }\n};\n\nVASTClient.prototype._requestVASTXml = function requestVASTXml(url, callback) {\n  http.get(url, function (error, response, status){\n    if(error) {\n      return callback(new VASTError(\"on VASTClient.requestVastXML, HTTP request error with status '\" + status + \"'\", 301));\n    }\n    callback(null, response);\n  });\n};\n\nVASTClient.prototype._buildVastTree = function buildVastTree(xmlStr) {\n  var vastTree, vastVersion;\n\n  try {\n    vastTree = xml.toJXONTree(xmlStr);\n    vastVersion = xml.attr(vastTree, 'version');\n    vastTree.ads = isArray(vastTree.ad) ? vastTree.ad : [vastTree.ad];\n\n  } catch (e) {\n    throw new VASTError(\"on VASTClient.buildVastTree, error parsing xml\", 100);\n  }\n\n  if (!vastTree.ad) {\n    throw new VASTError('on VASTClient.buildVastTree, no Ad in VAST tree', 303);\n  }\n\n  if(vastVersion && (vastVersion != 3 && vastVersion != 2)){\n    throw new VASTError('on VASTClient.buildVastTree, not supported VAST version \"'+vastVersion+'\"', 102);\n  }\n\n  return vastTree;\n\n};\n\nVASTClient.prototype._buildAd = function buildAd(adJxonTree) {\n  var ad;\n  var that = this;\n\n  try {\n    ad = new Ad(adJxonTree);\n  } catch (e) {\n    throw new VASTError('on VASTClient._buildAd, ' + e.message, 900);\n  }\n\n  addErrorUrlMacros(ad);\n  validateAd(ad);\n\n  return ad;\n  /*** Local Functions ***/\n\n  function addErrorUrlMacros(ad) {\n    if(ad.wrapper && ad.wrapper.error) {\n      that.errorURLMacros.push(ad.wrapper.error);\n    }\n\n    if(ad.inLine && ad.inLine.error){\n      that.errorURLMacros.push(ad.inLine.error);\n    }\n  }\n\n  function validateAd(ad) {\n    var wrapper = ad.wrapper;\n    var inLine = ad.inLine;\n\n    if (inLine && wrapper) {\n      throw new VASTError('on VASTClient._buildAd, InLine and Wrapper both found on the same Ad', 101);\n    }\n\n    if (!inLine && !wrapper) {\n      throw new VASTError('on VASTClient._buildAd, nor wrapper nor inline elements found on the Ad', 101);\n    }\n\n    if (inLine) {\n      if (inLine.creatives.length === 0) {\n        throw new VASTError(\"on VASTClient._buildAd, missing creative in InLine element\", 101);\n      }\n    }\n\n    if (wrapper) {\n      if (!wrapper.VASTAdTagURI) {\n        throw new VASTError(\"on VASTClient._buildAd, missing 'VASTAdTagURI' in wrapper\", 101);\n      }\n    }\n  }\n};\n\nVASTClient.prototype._buildVASTResponse = function buildVASTResponse(adsChain) {\n  var response = new VASTResponse();\n  addAdsToResponse(response, adsChain);\n  validateResponse(response);\n\n  return response;\n\n  //*** Local function ****\n  function addAdsToResponse(response, ads) {\n    ads.forEach(function (ad) {\n      response.addAd(ad);\n    });\n  }\n\n  function validateResponse(response) {\n    var progressEvents = response.trackingEvents.progress;\n\n    if(!response.hasLinear()){\n      throw new VASTError(\"on VASTClient._buildVASTResponse, Received an Ad type that is not supported\", 200);\n    }\n\n    if (!response.duration) {\n      throw new VASTError(\"on VASTClient._buildVASTResponse, Missing duration field in VAST response\", 101);\n    }\n\n    if (progressEvents) {\n      if (progressEvents.length > 1) {\n        throw new VASTError(\"on VASTClient._buildVASTResponse, found more than one progress tracking event in VAST response\", 101);\n      }\n\n      if (!isNumber(progressEvents[0].offset)) {\n        throw new VASTError(\"on VASTClient._buildVASTResponse, missing offset attribute on progress tracking event\", 101);\n      }\n    }\n  }\n};\n","var VAST = {};\n\nfunction VASTError(message, code) {\n  this.message = 'VAST Error: ' + (message || '');\n  if (code) {\n    this.code = code;\n  }\n}\n\nVASTError.prototype = new Error();\nVASTError.prototype.name = \"VAST Error\";","/**\n * Inner helper class that deals with the logic of the individual steps needed to setup an ad in the player.\n *\n * @param player {object} instance of the player that will play the ad. It assumes that the videojs-contrib-ads plugin\n *                        has been initialized when you use its utility functions.\n *\n * @constructor\n */\nfunction VASTIntegrator(player) {\n  if (!(this instanceof VASTIntegrator)) {\n    return new VASTIntegrator(player);\n  }\n\n  this.player = player;\n}\n\nVASTIntegrator.prototype.playAd = function playAd(vastResponse, callback) {\n  var that = this;\n  callback = callback || noop;\n\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('On VASTIntegrator, missing required VASTResponse'));\n  }\n\n  async.waterfall([\n    function (next) {\n      next(null, vastResponse);\n    },\n    this._selectAdSource.bind(this),\n    this._createVASTTracker.bind(this),\n    this._addClickThrough.bind(this),\n    this._addSkipButton.bind(this),\n    this._setupEvents.bind(this),\n    this._playSelectedAd.bind(this)\n  ], function (error, response) {\n    if (error && response) {\n      that._trackError(error, response);\n    }\n    callback(error, response);\n  });\n};\n\nVASTIntegrator.prototype._selectAdSource = function selectAdSource(response, callback) {\n  var source = this.player.selectSource(response.mediaFiles).source;\n  if (source) {\n    return callback(null, source, response);\n  }\n\n  // code 403 <== Couldn't find MediaFile that is supported by this video player\n  callback(new VASTError(\"Could not find Ad mediafile supported by this player\", 403), response);\n};\n\nVASTIntegrator.prototype._createVASTTracker = function createVASTTracker(adMediaFile, response, callback) {\n  try {\n    callback(null, adMediaFile, new VASTTracker(adMediaFile.src, response), response);\n  } catch (e) {\n    callback(e, response);\n  }\n};\n\nVASTIntegrator.prototype._setupEvents = function setupEvents(adMediaFile, tracker, response, callback) {\n  var previouslyMuted;\n  var player = this.player;\n  player.on('adfullscreenchange', trackFullscreenChange);\n  player.on('vast.adstart', trackImpressions);\n  player.on('adpause', trackPause);\n  player.on('adtimeupdate', trackProgress);\n  player.on('advolumechange', trackVolumeChange);\n\n  player.one('vast.adend', unbindEvents);\n  player.one('vast.aderror', unbindEvents);\n\n  //NOTE: Pending tracking events skip, close, closeLinear, expand, collapse and creativeView. See VAST implementation\n\n  return callback(null, adMediaFile, response);\n\n  /*** Local Functions ***/\n  function unbindEvents() {\n    tracker.trackComplete();\n    player.off('adfullscreenchange', trackFullscreenChange);\n    player.off('vast.adstart', trackImpressions);\n    player.off('adpause', trackPause);\n    player.off('adtimeupdate', trackProgress);\n    player.off('advolumechange', trackVolumeChange);\n  }\n\n  function trackFullscreenChange() {\n    if (player.isFullscreen()) {\n      tracker.trackFullscreen();\n    } else {\n      tracker.trackExitFullscreen();\n    }\n  }\n\n  function trackPause() {\n    tracker.trackPause();\n    player.one('play', function () {\n      tracker.trackResume();\n    });\n  }\n\n  function trackProgress() {\n    var currentTimeInMs = player.currentTime() * 1000;\n    tracker.trackProgress(currentTimeInMs);\n  }\n\n  function trackImpressions() {\n    tracker.trackImpressions();\n  }\n\n  function trackVolumeChange() {\n    var muted = player.muted();\n    if (muted) {\n      tracker.trackMute();\n    } else if (previouslyMuted) {\n      tracker.trackUnmute();\n    }\n    previouslyMuted = muted;\n  }\n};\n\nVASTIntegrator.prototype._addSkipButton = function addSkipButton(source, tracker, response, callback) {\n  var skipOffsetInSec;\n\n  if (isNumber(response.skipoffset)) {\n    skipOffsetInSec = response.skipoffset / 1000;\n    addSkipButtonToPlayer(this.player, skipOffsetInSec);\n  }\n  callback(null, source, tracker, response);\n\n  /*** Local function ***/\n  function addSkipButtonToPlayer(player, skipOffset) {\n    var skipButton = createSkipButton(player);\n    var updateSkipButton = updateSkipButtonState.bind(this, skipButton, skipOffset, player);\n\n    player.el().appendChild(skipButton);\n    player.on('adtimeupdate', updateSkipButton);\n\n    player.one('vast.adend', removeSkipButton);\n    player.one('vast.aderror', removeSkipButton);\n\n    function removeSkipButton() {\n      player.off('adtimeupdate', updateSkipButton);\n      dom.remove(skipButton);\n    }\n  }\n\n  function createSkipButton(player) {\n    var skipButton = window.document.createElement(\"div\");\n    dom.addClass(skipButton, \"vast-skip-button\");\n\n    skipButton.onclick = function (e) {\n      if (dom.hasClass(skipButton, 'enabled')) {\n        tracker.trackSkip();\n        player.trigger('adended');//We trigger the end of the ad playing\n      }\n\n      //We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation !== undefined) {\n        e.stopPropagation();\n      } else {\n        return false;\n      }\n    };\n\n    return skipButton;\n  }\n\n  function updateSkipButtonState(skipButton, skipOffset, player) {\n    var timeLeft = Math.ceil(skipOffset - player.currentTime());\n    if (timeLeft > 0) {\n      skipButton.innerHTML = \"Skip in \" + toFixedDigits(timeLeft, 2) + \"...\";\n    } else {\n      if (!dom.hasClass(skipButton, 'enabled')) {\n        dom.addClass(skipButton, 'enabled');\n        skipButton.innerHTML = \"Skip ad\";\n      }\n    }\n  }\n};\n\nVASTIntegrator.prototype._addClickThrough = function addClickThrough(mediaFile, tracker, response, callback) {\n  var player = this.player;\n  var blocker = createClickThroughBlocker(player, tracker, response);\n  var updateBlocker = updateBlockerURL.bind(this, blocker, response, player);\n\n  player.el().insertBefore(blocker, player.controlBar.el());\n  player.on('adtimeupdate', updateBlocker);\n  player.one('vast.adend', removeBlocker);\n  player.one('vast.aderror', removeBlocker);\n\n  return callback(null, mediaFile, tracker, response);\n\n  /*** Local Functions ***/\n\n  function createClickThroughBlocker(player, tracker, response) {\n    var blocker = window.document.createElement(\"a\");\n    var clickThroughMacro = response.clickThrough;\n\n    dom.addClass(blocker, 'vast-blocker');\n    blocker.href = generateClickThroughURL(clickThroughMacro, player);\n\n    if (isString(clickThroughMacro)) {\n      blocker.target = \"_blank\";\n    }\n\n    blocker.onclick = function (e) {\n      if (player.paused()) {\n        player.play();\n\n        //We prevent event propagation to avoid problems with the player's normal pause mechanism\n        if (window.Event.prototype.stopPropagation !== undefined) {\n          e.stopPropagation();\n        }\n        return false;\n      }\n\n      player.pause();\n      tracker.trackClick();\n    };\n\n    return blocker;\n  }\n\n  function updateBlockerURL(blocker, response, player) {\n    blocker.href = generateClickThroughURL(response.clickThrough, player);\n  }\n\n  function generateClickThroughURL(clickThroughMacro, player) {\n    var variables = {\n      ASSETURI: mediaFile.src,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(player.currentTime() * 1000)\n    };\n\n    return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : '#';\n  }\n\n   function removeBlocker(){\n     player.off('adtimeupdate', updateBlocker);\n     dom.remove(blocker);\n   }\n};\n\nVASTIntegrator.prototype._playSelectedAd = function playSelectedAd(source, response, callback) {\n  var player = this.player;\n\n  player.src(source);\n\n  player.one('addurationchange', playAd);\n  player.one('adended', finishPlayingAd);\n  player.one('error', handlePlayerError);\n\n  /**** local functions ******/\n  function playAd() {\n    player.one('adplaying', function () {\n      player.trigger('vast.adstart');\n    });\n  }\n\n  function finishPlayingAd() {\n    player.off('error', handlePlayerError);\n    player.trigger('vast.adend');\n    callback(null, response);\n  }\n\n  function handlePlayerError() {\n    player.off('addurationchange', playAd);\n    player.off('contentended', finishPlayingAd);\n    callback(new VASTError(\"on VASTIntegrator, Player is unable to play the Ad\", 400), response);\n  }\n};\n\nVASTIntegrator.prototype._trackError = function trackError(error, response) {\n  vastUtil.track(response.errorURLMacros, {ERRORCODE: error.code || 900});\n};\n","function VASTTracker(assetURI, vastResponse) {\n  if (!(this instanceof VASTTracker)) {\n    return new VASTTracker(assetURI, vastResponse);\n  }\n\n  sanityCheck(assetURI, vastResponse);\n  this.response = vastResponse;\n  this.assetURI = assetURI;\n  this.progress = 0;\n  this.quartiles = {\n    firstQuartile: Math.round(25 * vastResponse.duration) / 100,\n    midpoint: Math.round(50 * vastResponse.duration) / 100,\n    thirdQuartile: Math.round(75 * vastResponse.duration) / 100\n  };\n\n  /*** Local Functions ***/\n  function sanityCheck(assetURI, vastResponse) {\n    if (!isString(assetURI) || isEmptyString(assetURI)) {\n      throw new VASTError('on VASTTracker constructor, missing required the URI of the ad asset being played');\n    }\n\n    if (!(vastResponse instanceof VASTResponse)) {\n      throw new VASTError('on VASTTracker constructor, missing required VAST response');\n    }\n  }\n}\n\nVASTTracker.prototype.trackURLs = function trackURLs(urls, variables) {\n  if (isArray(urls) && urls.length > 0) {\n    variables = extend({\n      ASSETURI: this.assetURI,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(this.progress)\n    }, variables || {});\n\n    vastUtil.track(urls, variables);\n  }\n};\n\nVASTTracker.prototype.trackEvent = function trackEvent(eventName, trackOnce) {\n  this.trackURLs(getEventUris(this.response.trackingEvents[eventName]));\n  if (trackOnce) {\n    this.response.trackingEvents[eventName] = undefined;\n  }\n\n  /*** Local function ***/\n  function getEventUris(trackingEvents) {\n    var uris;\n\n    if (trackingEvents) {\n      uris = [];\n      trackingEvents.forEach(function (event) {\n        uris.push(event.uri);\n      });\n    }\n    return uris;\n  }\n};\n\nVASTTracker.prototype.trackProgress = function trackProgress(newProgress) {\n  var events = [];\n  var ONCE = true;\n  var ALWAYS = false;\n  var trackingEvents = this.response.trackingEvents;\n\n  if (isNumber(newProgress)) {\n    addTrackEvent('start', ONCE, newProgress > 0);\n    addTrackEvent('rewind', ALWAYS, this.progress > newProgress);\n    addQuartileEvents.call(this, newProgress);\n    addProgressEvent.call(this, newProgress);\n    trackEvents.call(this);\n    this.progress = newProgress;\n  }\n\n  /*** Local function ***/\n  function addTrackEvent(eventName, trackOnce, canBeAdded) {\n    if (trackingEvents[eventName] && canBeAdded) {\n      events.push({\n        name: eventName,\n        trackOnce: !!trackOnce\n      });\n    }\n  }\n\n  function addQuartileEvents(progress) {\n    forEach(this.quartiles, function (quartileTime, eventName) {\n      //We only fire the quartile event if the progress is bigger than the quartile time by one second at most.\n      addTrackEvent(eventName, ONCE, progress >= quartileTime && progress <= (quartileTime + 1000));\n    });\n  }\n\n  function addProgressEvent(progress) {\n    var progressEvent = trackingEvents.progress && trackingEvents.progress[0];\n    if (progressEvent) {\n      addTrackEvent('progress', ONCE, progressEvent.offset <= progress);\n    }\n  }\n\n  function trackEvents() {\n    events.forEach(function (event) {\n      this.trackEvent(event.name, event.trackOnce);\n    }, this);\n  }\n};\n\n[\n  'start',\n  'rewind',\n  'fullscreen',\n  'exitFullscreen',\n  'complete',\n  'pause',\n  'resume',\n  'close',\n  'closeLinear',\n  'skip',\n  'mute',\n  'unmute',\n  'firstQuartile',\n  'midpoint',\n  'thirdQuartile',\n  'acceptInvitation',\n  'acceptInvitationLinear',\n  'collapse',\n  'expand'\n].forEach(function (eventName) {\n    VASTTracker.prototype['track' + capitalize(eventName)] = function () {\n      this.trackEvent(eventName);\n    };\n  });\n\nVASTTracker.prototype.trackErrorWithCode = function trackErrorWithCode(errorcode) {\n  if (isNumber(errorcode)) {\n    this.trackURLs(this.response.errorURLMacros, {ERRORCODE: errorcode});\n  }\n};\n\nVASTTracker.prototype.trackImpressions = function trackImpressions() {\n  this.trackURLs(this.response.impressions);\n};\n\nVASTTracker.prototype.trackClick = function trackClick() {\n  this.trackURLs(this.response.clickTrackings);\n};\n","function VideoClicks(videoClickJTree) {\n  if (!(this instanceof VideoClicks)) {\n    return new VideoClicks(videoClickJTree);\n  }\n\n  this.clickThrough = xml.keyValue(videoClickJTree.clickThrough);\n  this.clickTrackings = parseClickTrackings(videoClickJTree.clickTracking);\n  this.customClicks = parseClickTrackings(videoClickJTree.customClick);\n\n  /*** Local functions ***/\n  function parseClickTrackings(trackingData) {\n    var clickTrackings = [];\n    if (trackingData) {\n      trackingData = isArray(trackingData) ? trackingData : [trackingData];\n      trackingData.forEach(function (clickTrackingData) {\n        clickTrackings.push(xml.keyValue(clickTrackingData));\n      });\n    }\n    return clickTrackings;\n  }\n}","function Wrapper(wrapperJTree) {\n  if(!(this instanceof Wrapper)) {\n    return new Wrapper(wrapperJTree);\n  }\n\n  //Required elements\n  this.adSystem = xml.keyValue(wrapperJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(wrapperJTree.impression);\n  this.VASTAdTagURI = xml.keyValue(wrapperJTree.vASTAdTagURI);\n\n  //Optional elements\n  this.creatives = vastUtil.parseCreatives(wrapperJTree.creatives);\n  this.error = xml.keyValue(wrapperJTree.error);\n  this.extensions = wrapperJTree.extensions;\n\n  //Optional attrs\n  this.followAdditionalWrappers = isDefined(xml.attr(wrapperJTree, 'followAdditionalWrappers'))? xml.attr(wrapperJTree, 'followAdditionalWrappers'): true;\n  this.allowMultipleAds = xml.attr(wrapperJTree, 'allowMultipleAds');\n  this.fallbackOnNoAd = xml.attr(wrapperJTree, 'fallbackOnNoAd');\n}\n\n\n","/**\n There is a bug on android 4.2 ont the way it parses string\n The code bellow fixes the problem if there is a problem\n */\n(function () {\n var parseNum;\n if(parseInt('09') !== 9) {\n  parseNum = window.parseInt;\n  window.parseInt = function(str) {\n   if(typeof str === 'string' && !/^(\\s+)?0+(\\s+)?$/.test(str)){\n    //We remove the 0 from the left of the number\n    return parseNum(str.replace(/^0+/, ''));\n   }\n\n   return parseNum(str);\n  };\n }\n})();","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar METHODS = [\n    'handshakeVersion',\n    'initAd',\n    'startAd',\n    'stopAd',\n    'skipAd', // VPAID 2.0 new method\n    'resizeAd',\n    'pauseAd',\n    'resumeAd',\n    'expandAd',\n    'collapseAd',\n    'subscribe',\n    'unsubscribe'\n];\n\nvar EVENTS = [\n    'AdLoaded',\n    'AdStarted',\n    'AdStopped',\n    'AdSkipped',\n    'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange',\n    'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange',\n    'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange',\n    'AdImpression',\n    'AdVideoStart',\n    'AdVideoFirstQuartile',\n    'AdVideoMidpoint',\n    'AdVideoThirdQuartile',\n    'AdVideoComplete',\n    'AdClickThru',\n    'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation',\n    'AdUserMinimize',\n    'AdUserClose',\n    'AdPaused',\n    'AdPlaying',\n    'AdLog',\n    'AdError'\n];\n\nvar GETTERS = [\n    'getAdLinear',\n    'getAdWidth', // VPAID 2.0 new getter\n    'getAdHeight', // VPAID 2.0 new getter\n    'getAdExpanded',\n    'getAdSkippableState', // VPAID 2.0 new getter\n    'getAdRemainingTime',\n    'getAdDuration', // VPAID 2.0 new getter\n    'getAdVolume',\n    'getAdCompanions', // VPAID 2.0 new getter\n    'getAdIcons' // VPAID 2.0 new getter\n];\n\nvar SETTERS = [\n    'setAdVolume'\n];\n\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n\n/**\n * IVPAIDAdUnit\n *\n * @class\n *\n * @param {object} creative\n * @param {HTMLElement} el\n * @param {HTMLVideoElement} video\n */\nfunction IVPAIDAdUnit(creative, el, video) {}\n\n\n/**\n * handshakeVersion\n *\n * @param {string} VPAIDVersion\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.handshakeVersion = function (VPAIDVersion, callback) {};\n\n/**\n * initAd\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version\n * @param {NodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.initAd = function(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {};\n\n/**\n * startAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.startAd = function(callback) {};\n\n/**\n * stopAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.stopAd = function(callback) {};\n\n/**\n * skipAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.skipAd = function(callback) {};\n\n/**\n * resizeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resizeAd = function(callback) {};\n\n/**\n * pauseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.pauseAd = function(callback) {};\n\n/**\n * resumeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resumeAd = function(callback) {};\n\n/**\n * expandAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.expandAd = function(callback) {};\n\n/**\n * collapseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.collapseAd = function(callback) {};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nIVPAIDAdUnit.prototype.subscribe = function(event, handler, context) {};\n\n/**\n * startAd\n *\n * @param {string} event\n * @param {function} handler\n */\nIVPAIDAdUnit.prototype.unsubscribe = function(event, handler) {};\n\n\n\n/**\n * getAdLinear\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdLinear = function(callback) {};\n\n/**\n * getAdWidth\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdWidth = function(callback) {};\n\n/**\n * getAdHeight\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdHeight = function(callback) {};\n\n/**\n * getAdExpanded\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdExpanded = function(callback) {};\n\n/**\n * getAdSkippableState\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdSkippableState = function(callback) {};\n\n/**\n * getAdRemainingTime\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdRemainingTime = function(callback) {};\n\n/**\n * getAdDuration\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdDuration = function(callback) {};\n\n/**\n * getAdVolume\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdVolume = function(callback) {};\n\n/**\n * getAdCompanions\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdCompanions = function(callback) {};\n\n/**\n * getAdIcons\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdIcons = function(callback) {};\n\n/**\n * setAdVolume\n *\n * @param {number} volume\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.setAdVolume = function(volume, callback) {};\n\naddStaticToInterface(IVPAIDAdUnit, 'METHODS', METHODS);\naddStaticToInterface(IVPAIDAdUnit, 'GETTERS', GETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'SETTERS', SETTERS);\n\n\nvar VPAID1_METHODS = METHODS.filter(function(method) {\n    return ['skipAd'].indexOf(method) === -1;\n});\n\naddStaticToInterface(IVPAIDAdUnit, 'checkVPAIDInterface', function checkVPAIDInterface (creative) {\n    var result = VPAID1_METHODS.every(function(key) {\n        return typeof creative[key] === 'function';\n    });\n    return result;\n});\n\nmodule.exports = IVPAIDAdUnit;\n\nfunction addStaticToInterface(Interface, name, value) {\n    Object.defineProperty(Interface, name, {\n        writable: false,\n        configurable: false,\n        value: value\n    });\n}\n\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar IVPAIDAdUnit = require('./IVPAIDAdUnit');\nvar checkVPAIDInterface = IVPAIDAdUnit.checkVPAIDInterface;\nvar utils = require('./utils');\nvar METHODS = IVPAIDAdUnit.METHODS;\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n\n/**\n * VPAIDAdUnit\n * @class\n *\n * @param VPAIDCreative\n * @param {HTMLElement} [el] this will be used in initAd environmentVars.slot if defined\n * @param {HTMLVideoElement} [video] this will be used in initAd environmentVars.videoSlot if defined\n */\nfunction VPAIDAdUnit(VPAIDCreative, el, video) {\n    this._isValid = checkVPAIDInterface(VPAIDCreative);\n    if (this._isValid) {\n        this._creative = VPAIDCreative;\n        this._el = el;\n        this._videoEl = video;\n    }\n}\n\nVPAIDAdUnit.prototype = Object.create(IVPAIDAdUnit.prototype);\n\n/**\n * isValidVPAIDAd will return if the VPAIDCreative passed in constructor is valid or not\n *\n * @return {boolean}\n */\nVPAIDAdUnit.prototype.isValidVPAIDAd = function isValidVPAIDAd() {\n    return this._isValid;\n};\n\nIVPAIDAdUnit.METHODS.forEach(function(method) {\n    //this methods arguments order are implemented differently from the spec\n    var ignores = [\n        'subscribe',\n        'unsubscribe',\n        'initAd'\n    ];\n\n    if (ignores.indexOf(method) !== -1) return;\n\n    VPAIDAdUnit.prototype[method] = function () {\n        var ariaty = IVPAIDAdUnit.prototype[method].length;\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        var args = Array.prototype.slice.call(arguments);\n        var callback = (ariaty === args.length) ? args.pop() : undefined;\n\n        setTimeout(function () {\n            var result, error = null;\n            try {\n                result = this._creative[method].apply(this._creative, args);\n            } catch(e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, error, result);\n        }.bind(this), 0);\n    };\n});\n\n\n/**\n * initAd concreate implementation\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version, if el & video was used in constructor slot & videoSlot will be added to the object\n * @param {NodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.initAd = function initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {\n    creativeData = creativeData || {};\n    environmentVars = utils.extend({\n        slot: this._el,\n        videoSlot: this._videoEl\n    }, environmentVars || {});\n\n    setTimeout(function () {\n        var error;\n        try {\n            this._creative.initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars);\n        } catch (e) {\n            error = e;\n        }\n\n        callOrTriggerEvent(callback, error);\n    }.bind(this), 0);\n};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nVPAIDAdUnit.prototype.subscribe = function subscribe(event, handler, context) {\n    this._creative.subscribe(handler, event, context);\n};\n\n\n/**\n * unsubscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n */\nVPAIDAdUnit.prototype.unsubscribe = function unsubscribe(event, handler) {\n    this._creative.unsubscribe(handler, event);\n};\n\n//alias\nVPAIDAdUnit.prototype.on = VPAIDAdUnit.prototype.subscribe;\nVPAIDAdUnit.prototype.off = VPAIDAdUnit.prototype.unsubscribe;\n\nIVPAIDAdUnit.GETTERS.forEach(function(getter) {\n    VPAIDAdUnit.prototype[getter] = function (callback) {\n        setTimeout(function () {\n\n            var result, error = null;\n            try {\n                result = this._creative[getter]();\n            } catch(e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, error, result);\n        }.bind(this), 0);\n    };\n});\n\n/**\n * setAdVolume\n *\n * @param volume\n * @param {nodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.setAdVolume = function setAdVolume(volume, callback) {\n    setTimeout(function () {\n\n        var result, error = null;\n        try {\n            this._creative.setAdVolume(volume);\n            result = this._creative.getAdVolume();\n        } catch(e) {\n            error = e;\n        }\n\n        if (!error) {\n            error = utils.validate(result === volume, 'failed to apply volume: ' + volume);\n        }\n        callOrTriggerEvent(callback, error, result);\n    }.bind(this), 0);\n};\n\n\nfunction callOrTriggerEvent(callback, error, result) {\n    if (callback) {\n        callback(error, result);\n    } else if (error) {\n        //todo use error subscribe\n    }\n}\n\nmodule.exports = VPAIDAdUnit;\n\n\n},{\"./IVPAIDAdUnit\":1,\"./utils\":4}],3:[function(require,module,exports){\n'use strict';\n\n\nvar utils = require('./utils');\nvar unique = utils.unique('vpaidIframe');\nvar VPAIDAdUnit = require('./VPAIDAdUnit');\nvar defaultTemplate = \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n</head>\\n<body>\\n    <script type=\\\"text/javascript\\\" src=\\\"{{iframeURL_JS}}\\\"></script>\\n    <script>\\n        parent.postMessage('{\\\"event\\\": \\\"ready\\\", \\\"id\\\": \\\"{{iframeID}}\\\"}', window.location.origin);\\n    </script>\\n</body>\\n</html>\\n\";\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n/**\n * VPAIDHTML5Client\n * @class\n *\n * @param {HTMLElement} el that will contain the iframe to load adUnit and a el to add to adUnit slot\n * @param {HTMLVideoElement} video default video element to be used by adUnit\n * @param {object} [templateConfig] template: html template to be used instead of the default, extraOptions: to be used when rendering the template\n * @param {object} [vpaidOptions] timeout: when loading adUnit\n */\nfunction VPAIDHTML5Client(el, video, templateConfig, vpaidOptions) {\n    templateConfig = templateConfig || {};\n\n    this._id = unique();\n    this._destroyed = false;\n\n    this._el = utils.createElementInEl(el, 'div', this._id);\n    this._frameContainer = utils.createElementInEl(this._el, 'div');\n    this._adElContainer = utils.createElementInEl(this._el, 'div');\n    this._adElContainer.className = 'adEl';\n    this._videoEl = video;\n    this._vpaidOptions = vpaidOptions || {timeout: 1000};\n\n    this._templateConfig = {\n        template: templateConfig.template || defaultTemplate,\n        extraOptions: templateConfig.extraOptions || {}\n    };\n\n}\n\n/**\n * destroy\n *\n */\nVPAIDHTML5Client.prototype.destroy = function destroy() {\n    this._destroyed = true;\n    this.unloadAdUnit();\n};\n\n/**\n * isDestroyed\n *\n * @return {boolean}\n */\nVPAIDHTML5Client.prototype.isDestroyed = function isDestroyed() {\n    return this._destroyed;\n};\n\n/**\n * loadAdUnit\n *\n * @param {string} adURL url of the js of the adUnit\n * @param {nodeStyleCallback} callback\n */\nVPAIDHTML5Client.prototype.loadAdUnit = function loadAdUnit(adURL, callback) {\n    $throwIfDestroyed.call(this);\n\n    this._frame = utils.createIframeWithContent(\n        this._frameContainer,\n        this._templateConfig.template,\n        utils.extend({\n            iframeURL_JS: adURL,\n            iframeID: this.getID()\n        }, this._templateConfig.extraOptions)\n    );\n\n    //TODO maybe rethink the timeout if is too hidden logic\n    this._onLoad = utils.callbackTimeout(\n        this._vpaidOptions.timeout,\n        onLoad.bind(this),\n        onTimeout.bind(this)\n    );\n\n    window.addEventListener('message', this._onLoad);\n\n    function onLoad (e) {\n        //don't clear timeout\n        if (e.origin !== window.location.origin) return;\n        var result = JSON.parse(e.data);\n\n        //don't clear timeout\n        if (result.id !== this.getID()) return;\n\n        var adUnit, error;\n        if (!this._frame.contentWindow) {\n\n            error = 'the iframe is not anymore in the DOM tree';\n\n        } else {\n            var createAd = this._frame.contentWindow.getVPAIDAd;\n            error = utils.validate(typeof createAd === 'function', 'the ad didn\\'t return a function to create an ad');\n        }\n\n        if (!error) {\n            adUnit = new VPAIDAdUnit(createAd(), this._adElContainer, this._videoEl);\n            error = utils.validate(adUnit.isValidVPAIDAd(), 'the add is not fully complaint with VPAID specification');\n        }\n\n        this._adUnit = adUnit;\n        $destroyLoadListener.call(this);\n        callback(error, error ? null : adUnit);\n\n        //clear timeout\n        return true;\n    }\n\n    function onTimeout() {\n        callback('timeout', null);\n    }\n};\n\n/**\n * unloadAdUnit\n *\n */\nVPAIDHTML5Client.prototype.unloadAdUnit = function unloadAdUnit() {\n    $destroyLoadListener.call(this);\n\n    $removeEl.call(this, '_frame');\n    $removeEl.call(this, '_adEl');\n\n    if (this._adUnit) {\n        this._adUnit.stopAd();\n        delete this._adUnit;\n    }\n\n};\n\n/**\n * getID will return the unique id\n *\n * @return {string}\n */\nVPAIDHTML5Client.prototype.getID = function () {\n    return this._id;\n};\n\n/**\n * $removeEl\n *\n * @param {string} key\n * @param {HTMLElement} parent\n */\nfunction $removeEl(key, parent) {\n    if (this[key]) {\n        this[key].parentElement.remove(this[key]);\n        delete this[key];\n    }\n}\n\n/**\n * $destroyLoadListener\n *\n */\nfunction $destroyLoadListener() {\n    if (this._onLoad) {\n        window.removeEventListener('message', this._onLoad);\n        utils.clearCallbackTimeout(this._onLoad);\n        delete this._onLoad;\n    }\n};\n\n/**\n * $throwIfDestroyed\n *\n */\nfunction $throwIfDestroyed() {\n    if (this._destroyed) {\n        throw new Error ('VPAIDHTML5Client already destroyed!');\n    }\n};\n\nmodule.exports = VPAIDHTML5Client;\nwindow.VPAIDHTML5Client = VPAIDHTML5Client;\n\n\n},{\"./VPAIDAdUnit\":2,\"./utils\":4}],4:[function(require,module,exports){\n'use strict';\n\n/**\n * noop a empty function\n */\nfunction noop() {}\n\n/**\n * validate if is not validate will return an Error with the message\n *\n * @param {boolean} isValid\n * @param {string} message\n */\nfunction validate(isValid, message) {\n    return isValid ? null : new Error(message);\n}\n\nvar timeouts = {};\n/**\n * clearCallbackTimeout\n *\n * @param {function} func handler to remove\n */\nfunction clearCallbackTimeout(func) {\n    var timeout = timeouts[func];\n    if (timeout) {\n        clearTimeout(timeout);\n        delete timeouts[func];\n    }\n}\n\n/**\n * callbackTimeout if the onSuccess is not called and returns true in the timelimit then onTimeout will be called\n *\n * @param {number} timer\n * @param {function} onSuccess\n * @param {function} onTimeout\n */\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n    var callback, timeout;\n\n    timeout = setTimeout(function () {\n        onSuccess = noop;\n        delete timeout[callback]\n        onTimeout();\n    }, timer);\n\n    callback = function () {\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        if (onSuccess.apply(this, arguments)) {\n            clearCallbackTimeout(callback);\n        }\n    };\n\n    timeouts[callback] = timeout;\n\n    return callback;\n}\n\n\n/**\n * createElementInEl\n *\n * @param {HTMLElement} parent\n * @param {string} tagName\n * @param {string} id\n */\nfunction createElementInEl(parent, tagName, id) {\n    var nEl = document.createElement(tagName);\n    if (id) nEl.id = id;\n    parent.appendChild(nEl);\n    return nEl;\n}\n\n/**\n * createIframeWithContent\n *\n * @param {HTMLElement} parent\n * @param {string} template simple template using {{var}}\n * @param {object} data\n */\nfunction createIframeWithContent(parent, template, data) {\n    var iframe = createIframe(parent);\n    if (!setIframeContent(iframe, simpleTemplate(template, data))) return;\n    return iframe;\n}\n\n/**\n * createIframe\n *\n * @param {HTMLElement} parent\n * @param {string} url\n */\nfunction createIframe(parent, url) {\n    var nEl = document.createElement('iframe');\n    nEl.src = url || 'about:blank';\n    nEl.width = 0;\n    nEl.height = 0;\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\n/**\n * simpleTemplate\n *\n * @param {string} template\n * @param {object} data\n */\nfunction simpleTemplate(template, data) {\n    Object.keys(data).forEach(function (key) {\n        var value = (typeof value === 'object') ? JSON.stringify(data[key]) : data[key];\n        template = template.replace(new RegExp('{{' + key + '}}', 'g'), value);\n    });\n    return template;\n}\n\n/**\n * setIframeContent\n *\n * @param {HTMLIframeElement} iframeEl\n * @param content\n */\nfunction setIframeContent(iframeEl, content) {\n    var iframeDoc = iframeEl.contentWindow && iframeEl.contentWindow.document;\n    if (!iframeDoc) return false;\n\n    iframeDoc.write(content);\n\n    return true;\n}\n\n\n/**\n * extend object with keys from another object\n *\n * @param {object} toExtend\n * @param {object} fromSource\n */\nfunction extend(toExtend, fromSource) {\n    Object.keys(fromSource).forEach(function(key) {\n        toExtend[key] = fromSource[key];\n    });\n    return toExtend;\n}\n\n\n/**\n * unique will create a unique string everytime is called, sequentially and prefixed\n *\n * @param {string} prefix\n */\nfunction unique(prefix) {\n    var count = -1;\n    return function () {\n        return prefix + '_' + (++count);\n    };\n}\n\nmodule.exports = {\n    noop: noop,\n    validate: validate,\n    clearCallbackTimeout: clearCallbackTimeout,\n    callbackTimeout: callbackTimeout,\n    createElementInEl: createElementInEl,\n    createIframeWithContent: createIframeWithContent,\n    createIframe: createIframe,\n    simpleTemplate: simpleTemplate,\n    setIframeContent: setIframeContent,\n    extend: extend,\n    unique: unique\n};\n\n\n},{}]},{},[3])\n\n\n//# sourceMappingURL=VPAIDHTML5Client.js.map","//Small subset of async\nvar async = {};\n\nasync.setImmediate = function (fn) {\n  setTimeout(fn, 0);\n};\n\nasync.iterator = function (tasks) {\n  var makeCallback = function (index) {\n    var fn = function () {\n      if (tasks.length) {\n        tasks[index].apply(null, arguments);\n      }\n      return fn.next();\n    };\n    fn.next = function () {\n      return (index < tasks.length - 1) ? makeCallback(index + 1) : null;\n    };\n    return fn;\n  };\n  return makeCallback(0);\n};\n\n\nasync.waterfall = function (tasks, callback) {\n  callback = callback || function () { };\n  if (!isArray(tasks)) {\n    var err = new Error('First argument to waterfall must be an array of functions');\n    return callback(err);\n  }\n  if (!tasks.length) {\n    return callback();\n  }\n  var wrapIterator = function (iterator) {\n    return function (err) {\n      if (err) {\n        callback.apply(null, arguments);\n        callback = function () {\n        };\n      }\n      else {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var next = iterator.next();\n        if (next) {\n          args.push(wrapIterator(next));\n        }\n        else {\n          args.push(callback);\n        }\n        async.setImmediate(function () {\n          iterator.apply(null, args);\n        });\n      }\n    };\n  };\n  wrapIterator(async.iterator(tasks))();\n};\n\nasync.when = function (condition, callback) {\n  if (!isFunction(callback)) {\n    throw new Error(\"async.when error: missing callback argument\");\n  }\n\n  var isAllowed = isFunction(condition) ? condition : function () {\n    return !!condition;\n  };\n\n  return function () {\n    var args = arrayLikeObjToArray(arguments);\n    var next = args.pop();\n\n    if (isAllowed.apply(null, args)) {\n      return callback.apply(this, arguments);\n    }\n\n    args.unshift(null);\n    return next.apply(null, args);\n  };\n};\n\n\n","/*! videojs-contrib-ads - v2.1.0 - 2015-06-11\n* Copyright (c) 2015 Brightcove; Licensed  */\n(function(window, document, vjs, undefined) {\n\"use strict\";\n\nvar\n\n  /**\n   * Copies properties from one or more objects onto an original.\n   */\n  extend = function(obj /*, arg1, arg2, ... */) {\n    var arg, i, k;\n    for (i=1; i<arguments.length; i++) {\n      arg = arguments[i];\n      for (k in arg) {\n        if (arg.hasOwnProperty(k)) {\n          obj[k] = arg[k];\n        }\n      }\n    }\n    return obj;\n  },\n\n  /**\n   * Add a handler for multiple listeners to an object that supports addEventListener() or on().\n   *\n   * @param {object} obj The object to which the handler will be assigned.\n   * @param {mixed} events A string, array of strings, or hash of string/callback pairs.\n   * @param {function} callback Invoked when specified events occur, if events param is not a hash.\n   *\n   * @return {object} obj The object passed in.\n   */\n  on = function(obj, events, handler) {\n\n    var\n\n      type = Object.prototype.toString.call(events),\n\n      register = function(obj, event, handler) {\n        if (obj.addEventListener) {\n          obj.addEventListener(event, handler);\n        } else if (obj.on) {\n          obj.on(event, handler);\n        } else if (obj.attachEvent) {\n          obj.attachEvent('on' + event, handler);\n        } else {\n          throw new Error('object has no mechanism for adding event listeners');\n        }\n      },\n\n      i,\n      ii;\n\n    switch (type) {\n      case '[object String]':\n        register(obj, events, handler);\n        break;\n      case '[object Array]':\n        for (i = 0, ii = events.length; i<ii; i++) {\n          register(obj, events[i], handler);\n        }\n        break;\n      case '[object Object]':\n        for (i in events) {\n          if (events.hasOwnProperty(i)) {\n            register(obj, i, events[i]);\n          }\n        }\n        break;\n      default:\n        throw new Error('Unrecognized events parameter type: ' + type);\n    }\n\n    return obj;\n\n  },\n\n  /**\n   * Runs the callback at the next available opportunity.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/window.setImmediate\n   */\n  setImmediate = function(callback) {\n    return (\n      window.setImmediate ||\n      window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.setTimeout\n    )(callback, 0);\n  },\n\n  /**\n   * Clears a callback previously registered with `setImmediate`.\n   * @param {id} id The identifier of the callback to abort\n   */\n  clearImmediate = function(id) {\n    return (window.clearImmediate ||\n            window.cancelAnimationFrame ||\n            window.webkitCancelAnimationFrame ||\n            window.mozCancelAnimationFrame ||\n            window.clearTimeout)(id);\n  },\n\n  /**\n   * If ads are not playing, pauses the player at the next available\n   * opportunity. Has no effect if ads have started. This function is necessary\n   * because pausing a video element while processing a `play` event on iOS can\n   * cause the video element to continuously toggle between playing and paused\n   * states.\n   *\n   * @param {object} player The video player\n   */\n  cancelContentPlay = function(player) {\n    if (player.ads.cancelPlayTimeout) {\n      // another cancellation is already in flight, so do nothing\n      return;\n    }\n    player.ads.cancelPlayTimeout = setImmediate(function() {\n      // deregister the cancel timeout so subsequent cancels are scheduled\n      player.ads.cancelPlayTimeout = null;\n\n      // pause playback so ads can be handled.\n      if (!player.paused()) {\n        player.pause();\n      }\n\n      // add a contentplayback handler to resume playback when ads finish.\n      player.one('contentplayback', function() {\n        if (player.paused()) {\n          player.play();\n        }\n      });\n    });\n  },\n\n  /**\n   * Returns an object that captures the portions of player state relevant to\n   * video playback. The result of this function can be passed to\n   * restorePlayerSnapshot with a player to return the player to the state it\n   * was in when this function was invoked.\n   * @param {object} player The videojs player object\n   */\n  getPlayerSnapshot = function(player) {\n    var\n      tech = player.el().querySelector('.vjs-tech'),\n      tracks = player.remoteTextTracks ? player.remoteTextTracks() : [],\n      track,\n      i,\n      suppressedTracks = [],\n      snapshot = {\n        ended: player.ended(),\n        src: player.currentSrc(),\n        currentTime: player.currentTime(),\n        type: player.currentType()\n      };\n\n    if (tech) {\n      snapshot.nativePoster = tech.poster;\n      snapshot.style = tech.getAttribute('style');\n    }\n\n    i = tracks.length;\n    while (i--) {\n      track = tracks[i];\n      suppressedTracks.push({\n        track: track,\n        mode: track.mode\n      });\n      track.mode = 'disabled';\n    }\n    snapshot.suppressedTracks = suppressedTracks;\n\n    return snapshot;\n  },\n\n  removeClass = function(element, className) {\n    var\n      classes = element.className.split(/\\s+/),\n      i = classes.length,\n      newClasses = [];\n    while (i--) {\n      if (classes[i] !== className) {\n        newClasses.push(classes[i]);\n      }\n    }\n    element.className = newClasses.join(' ');\n  },\n\n  /**\n   * Attempts to modify the specified player so that its state is equivalent to\n   * the state of the snapshot.\n   * @param {object} snapshot - the player state to apply\n   */\n  restorePlayerSnapshot = function(player, snapshot) {\n    var\n      // the playback tech\n      tech = player.el().querySelector('.vjs-tech'),\n\n      // the number of remaining attempts to restore the snapshot\n      attempts = 20,\n\n      suppressedTracks = snapshot.suppressedTracks,\n      trackSnapshot,\n      restoreTracks =  function() {\n        var i = suppressedTracks.length;\n        while (i--) {\n          trackSnapshot = suppressedTracks[i];\n          trackSnapshot.track.mode = trackSnapshot.mode;\n        }\n      },\n\n      // finish restoring the playback state\n      resume = function() {\n        var\n          ended = false,\n          updateEnded = function() {\n            ended = true;\n          };\n        player.currentTime(snapshot.currentTime);\n\n        // Resume playback if this wasn't a postroll\n        if (!snapshot.ended) {\n          player.play();\n        } else {\n          // On iOS 8.1, the \"ended\" event will not fire if you seek\n          // directly to the end of a video. To make that behavior\n          // consistent with the standard, fire a synthetic event if\n          // \"ended\" does not fire within 250ms. Note that the ended\n          // event should occur whether the browser actually has data\n          // available for that position\n          // (https://html.spec.whatwg.org/multipage/embedded-content.html#seeking),\n          // so it should not be necessary to wait for the seek to\n          // indicate completion.\n          window.setTimeout(function() {\n            if (!ended) {\n              player.play();\n            }\n            player.off('ended', updateEnded);\n          }, 250);\n          player.on('ended', updateEnded);\n        }\n      },\n\n      // determine if the video element has loaded enough of the snapshot source\n      // to be ready to apply the rest of the state\n      tryToResume = function() {\n        if (tech.readyState > 1) {\n          // some browsers and media aren't \"seekable\".\n          // readyState greater than 1 allows for seeking without exceptions\n          return resume();\n        }\n\n        if (tech.seekable === undefined) {\n          // if the tech doesn't expose the seekable time ranges, try to\n          // resume playback immediately\n          return resume();\n        }\n\n        if (tech.seekable.length > 0) {\n          // if some period of the video is seekable, resume playback\n          return resume();\n        }\n\n        // delay a bit and then check again unless we're out of attempts\n        if (attempts--) {\n          setTimeout(tryToResume, 50);\n        } else {\n          (function() {\n            try {\n              resume();\n            } catch(e) {\n              videojs.log.warn('Failed to resume the content after an advertisement', e);\n            }\n          })();\n        }\n      },\n\n      // whether the video element has been modified since the\n      // snapshot was taken\n      srcChanged;\n\n    if (snapshot.nativePoster) {\n      tech.poster = snapshot.nativePoster;\n    }\n\n    if ('style' in snapshot) {\n      // overwrite all css style properties to restore state precisely\n      tech.setAttribute('style', snapshot.style || '');\n    }\n\n    // Determine whether the player needs to be restored to its state\n    // before ad playback began. With a custom ad display or burned-in\n    // ads, the content player state hasn't been modified and so no\n    // restoration is required\n\n    if (player.src()) {\n      // the player was in src attribute mode before the ad and the\n      // src attribute has not been modified, no restoration is required\n      // to resume playback\n      srcChanged = player.src() !== snapshot.src;\n    } else {\n      // the player was configured through source element children\n      // and the currentSrc hasn't changed, no restoration is required\n      // to resume playback\n      srcChanged = player.currentSrc() !== snapshot.src;\n    }\n\n    if (srcChanged) {\n      // on ios7, fiddling with textTracks too early will cause safari to crash\n      player.one('contentloadedmetadata', restoreTracks);\n\n      // if the src changed for ad playback, reset it\n      player.src({ src: snapshot.src, type: snapshot.type });\n      // safari requires a call to `load` to pick up a changed source\n      player.load();\n      // and then resume from the snapshots time once the original src has loaded\n      player.one('contentcanplay', tryToResume);\n    } else if (!player.ended() || !snapshot.ended) {\n      // if we didn't change the src, just restore the tracks\n      restoreTracks();\n\n      // the src didn't change and this wasn't a postroll\n      // just resume playback at the current time.\n      player.play();\n    }\n  },\n\n  /**\n   * Remove the poster attribute from the video element tech, if present. When\n   * reusing a video element for multiple videos, the poster image will briefly\n   * reappear while the new source loads. Removing the attribute ahead of time\n   * prevents the poster from showing up between videos.\n   * @param {object} player The videojs player object\n   */\n  removeNativePoster = function(player) {\n    var tech = player.el().querySelector('.vjs-tech');\n    if (tech) {\n      tech.removeAttribute('poster');\n    }\n  },\n\n  // ---------------------------------------------------------------------------\n  // Ad Framework\n  // ---------------------------------------------------------------------------\n\n  // default framework settings\n  defaults = {\n    // maximum amount of time in ms to wait to receive `adsready` from the ad\n    // implementation after play has been requested. Ad implementations are\n    // expected to load any dynamic libraries and make any requests to determine\n    // ad policies for a video during this time.\n    timeout: 5000,\n\n    // maximum amount of time in ms to wait for the ad implementation to start\n    // linear ad mode after `readyforpreroll` has fired. This is in addition to\n    // the standard timeout.\n    prerollTimeout: 100,\n\n    // maximum amount of time in ms to wait for the ad implementation to start\n    // linear ad mode after `contentended` has fired.\n    postrollTimeout: 100,\n\n    // when truthy, instructs the plugin to output additional information about\n    // plugin state to the video.js log. On most devices, the video.js log is\n    // the same as the developer console.\n    debug: false\n  },\n\n  adFramework = function(options) {\n    var\n      player = this,\n\n      // merge options and defaults\n      settings = extend({}, defaults, options || {}),\n\n      fsmHandler;\n\n    // prefix all video element events during ad playback\n    // if the video element emits ad-related events directly,\n    // plugins that aren't ad-aware will break. prefixing allows\n    // plugins that wish to handle ad events to do so while\n    // avoiding the complexity for common usage\n    (function() {\n      var\n        videoEvents = videojs.Html5.Events,\n        i = videoEvents.length,\n        returnTrue = function() { return true; },\n        triggerEvent = function(type, event) {\n          // pretend we called stopImmediatePropagation because we want the native\n          // element events to continue propagating\n          event.isImmediatePropagationStopped = returnTrue;\n          event.cancelBubble = true;\n          event.isPropagationStopped = returnTrue;\n          player.trigger({\n            type: type + event.type,\n            state: player.ads.state,\n            originalEvent: event\n          });\n        },\n        redispatch = function(event) {\n          //TODO: the if bellow was added while waiting for the PR https://github.com/videojs/videojs-contrib-ads/issues/93\n          if(event.type === 'play'){\n            player.hasStarted(true);\n          }\n\n          if (player.ads.state === 'ad-playback') {\n            triggerEvent('ad', event);\n          } else if (player.ads.state === 'content-playback' && event.type === 'ended') {\n            triggerEvent('content', event);\n\n          } else if (player.ads.state === 'content-resuming') {\n            if (player.ads.snapshot) {\n              // the video element was recycled for ad playback\n              if (player.currentSrc() !== player.ads.snapshot.src) {\n                if (event.type === 'loadstart') {\n                  return;\n                }\n                return triggerEvent('content', event);\n\n              // we ended playing postrolls and the video itself\n              // the content src is back in place\n              } else if (player.ads.snapshot.ended) {\n                if ((event.type === 'pause' ||\n                    event.type === 'ended')) {\n                  // after loading a video, the natural state is to not be started\n                  // in this case, it actually has, so, we do it manually\n                  player.addClass('vjs-has-started');\n                  // let `pause` and `ended` events through, naturally\n                  return;\n                }\n                // prefix all other events in content-resuming with `content`\n                return triggerEvent('content', event);\n              }\n            }\n            if (event.type !== 'playing') {\n              triggerEvent('content', event);\n            }\n          }\n        };\n\n      while (i--) {\n        player.on(videoEvents[i], redispatch);\n      }\n      return redispatch;\n    })();\n\n    // We now auto-play when an ad gets loaded if we're playing ads in the same video element as the content.\n    // The problem is that in IE11, we cannot play in addurationchange but in iOS8, we cannot play from adcanplay.\n    // This will allow ad-integrations from needing to do this themselves.\n    player.on(['addurationchange', 'adcanplay'], function() {\n      var snapshot = player.ads.snapshot;\n      if (player.currentSrc() === snapshot.src) {\n        return;  // do nothing\n      }\n\n      player.play();\n    });\n\n    // replace the ad initializer with the ad namespace\n    player.ads = {\n      state: 'content-set',\n\n      startLinearAdMode: function() {\n        player.trigger('adstart');\n      },\n\n      endLinearAdMode: function() {\n        player.trigger('adend');\n      }\n    };\n\n    fsmHandler = function(event) {\n      // Ad Playback State Machine\n      var\n        fsm = {\n          'content-set': {\n            events: {\n              'adscanceled': function() {\n                this.state = 'content-playback';\n              },\n              'adsready': function() {\n                this.state = 'ads-ready';\n              },\n              'play': function() {\n                this.state = 'ads-ready?';\n                cancelContentPlay(player);\n                // remove the poster so it doesn't flash between videos\n                removeNativePoster(player);\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ads-ready': {\n            events: {\n              'play': function() {\n                this.state = 'preroll?';\n                cancelContentPlay(player);\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'preroll?': {\n            enter: function() {\n              // change class to show that we're waiting on ads\n              player.el().className += ' vjs-ad-loading';\n              // schedule an adtimeout event to fire if we waited too long\n              player.ads.timeout = window.setTimeout(function() {\n                player.trigger('adtimeout');\n              }, settings.prerollTimeout);\n              // signal to ad plugin that it's their opportunity to play a preroll\n              player.trigger('readyforpreroll');\n            },\n            leave: function() {\n              window.clearTimeout(player.ads.timeout);\n              removeClass(player.el(), 'vjs-ad-loading');\n            },\n            events: {\n              'play': function() {\n                cancelContentPlay(player);\n              },\n              'adstart': function() {\n                this.state = 'ad-playback';\n                player.el().className += ' vjs-ad-playing';\n              },\n              'adtimeout': function() {\n                this.state = 'content-playback';\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ads-ready?': {\n            enter: function() {\n              player.el().className += ' vjs-ad-loading';\n              player.ads.timeout = window.setTimeout(function() {\n                player.trigger('adtimeout');\n              }, settings.timeout);\n            },\n            leave: function() {\n              window.clearTimeout(player.ads.timeout);\n              removeClass(player.el(), 'vjs-ad-loading');\n            },\n            events: {\n              'play': function() {\n                cancelContentPlay(player);\n              },\n              'adscanceled': function() {\n                this.state = 'content-playback';\n              },\n              'adsready': function() {\n                this.state = 'preroll?';\n              },\n              'adtimeout': function() {\n                this.state = 'content-playback';\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ad-playback': {\n            enter: function() {\n              // capture current player state snapshot (playing, currentTime, src)\n              this.snapshot = getPlayerSnapshot(player);\n\n              // remove the poster so it doesn't flash between videos\n              removeNativePoster(player);\n              // We no longer need to supress play events once an ad is playing.\n              // Clear it if we were.\n              if (player.ads.cancelPlayTimeout) {\n                clearImmediate(player.ads.cancelPlayTimeout);\n                player.ads.cancelPlayTimeout = null;\n              }\n            },\n            leave: function() {\n              removeClass(player.el(), 'vjs-ad-playing');\n\n              restorePlayerSnapshot(player, this.snapshot);\n              if (player.ads.triggerevent !== 'adend') {\n                // trigger 'adend' as a consistent notification\n                // event that we're exiting ad-playback.\n                player.trigger('adend');\n              }\n            },\n            events: {\n              'adend': function() {\n                this.state = 'content-resuming';\n              },\n              'adserror': function() {\n                this.state = 'content-resuming';\n              }\n            }\n          },\n          'content-resuming': {\n            enter: function() {\n              if (this.snapshot.ended) {\n                window.clearTimeout(player.ads._fireEndedTimeout);\n                // in some cases, ads are played in a swf or another video element\n                // so we do not get an ended event in this state automatically.\n                // If we don't get an ended event we can use, we need to trigger\n                // one ourselves or else we won't actually ever end the current video.\n                player.ads._fireEndedTimeout = window.setTimeout(function() {\n                  player.trigger('ended');\n                }, 1000);\n              }\n            },\n            leave: function() {\n              window.clearTimeout(player.ads._fireEndedTimeout);\n            },\n            events: {\n              'contentupdate': function() {\n                this.state = 'content-set';\n              },\n              'playing': function() {\n                this.state = 'content-playback';\n              },\n              'ended': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'postroll?': {\n            enter: function() {\n              this.snapshot = getPlayerSnapshot(player);\n\n              player.el().className += ' vjs-ad-loading';\n\n              player.ads.timeout = window.setTimeout(function() {\n                player.trigger('adtimeout');\n              }, settings.postrollTimeout);\n            },\n            leave: function() {\n              window.clearTimeout(player.ads.timeout);\n              removeClass(player.el(), 'vjs-ad-loading');\n            },\n            events: {\n              'adstart': function() {\n                this.state = 'ad-playback';\n                player.el().className += ' vjs-ad-playing';\n              },\n              'adtimeout': function() {\n                this.state = 'content-resuming';\n                setImmediate(function() {\n                  player.trigger('ended');\n                });\n              },\n              'adserror': function() {\n                this.state = 'content-resuming';\n                setImmediate(function() {\n                  player.trigger('ended');\n                });\n              }\n            }\n          },\n          'content-playback': {\n            enter: function() {\n              // make sure that any cancelPlayTimeout is cleared\n              if (player.ads.cancelPlayTimeout) {\n                clearImmediate(player.ads.cancelPlayTimeout);\n                player.ads.cancelPlayTimeout = null;\n              }\n              // this will cause content to start if a user initiated\n              // 'play' event was canceled earlier.\n              player.trigger({\n                type: 'contentplayback',\n                triggerevent: player.ads.triggerevent\n              });\n            },\n            events: {\n              // in the case of a timeout, adsready might come in late.\n              'adsready': function() {\n                player.trigger('readyforpreroll');\n              },\n              'adstart': function() {\n                this.state = 'ad-playback';\n                player.el().className += ' vjs-ad-playing';\n                // remove the poster so it doesn't flash between videos\n                removeNativePoster(player);\n              },\n              'contentupdate': function() {\n                if (player.paused()) {\n                  this.state = 'content-set';\n                } else {\n                  this.state = 'ads-ready?';\n                }\n              },\n              'contentended': function() {\n                this.state = 'postroll?';\n              }\n            }\n          }\n        };\n\n      (function(state) {\n        var noop = function() {};\n\n        // process the current event with a noop default handler\n        ((fsm[state].events || {})[event.type] || noop).apply(player.ads);\n\n        // check whether the state has changed\n        if (state !== player.ads.state) {\n\n          // record the event that caused the state transition\n          player.ads.triggerevent = event.type;\n\n          // execute leave/enter callbacks if present\n          (fsm[state].leave || noop).apply(player.ads);\n          (fsm[player.ads.state].enter || noop).apply(player.ads);\n\n          // output debug logging\n          if (settings.debug) {\n            videojs.log('ads', player.ads.triggerevent + ' triggered: ' + state + ' -> ' + player.ads.state);\n          }\n        }\n\n      })(player.ads.state);\n\n    };\n\n    // register for the events we're interested in\n    on(player, vjs.Html5.Events.concat([\n      // events emitted by ad plugin\n      'adtimeout',\n      'contentupdate',\n      'contentplaying',\n      'contentended',\n\n      // events emitted by third party ad implementors\n      'adsready',\n      'adserror',\n      'adscanceled',\n      'adstart',  // startLinearAdMode()\n      'adend'     // endLinearAdMode()\n    ]), fsmHandler);\n\n    // keep track of the current content source\n    // if you want to change the src of the video without triggering\n    // the ad workflow to restart, you can update this variable before\n    // modifying the player's source\n    player.ads.contentSrc = player.currentSrc();\n\n    // implement 'contentupdate' event.\n    (function(){\n      var\n        // check if a new src has been set, if so, trigger contentupdate\n        checkSrc = function() {\n          var src;\n          if (player.ads.state !== 'ad-playback') {\n            src = player.currentSrc();\n            if (src !== player.ads.contentSrc) {\n              player.trigger({\n                type: 'contentupdate',\n                oldValue: player.ads.contentSrc,\n                newValue: src\n              });\n              player.ads.contentSrc = src;\n            }\n          }\n        };\n      // loadstart reliably indicates a new src has been set\n      player.on(['loadstart'], checkSrc);\n      // check immediately in case we missed the loadstart\n      setImmediate(checkSrc);\n    })();\n\n    // kick off the fsm\n    if (!player.paused()) {\n      // simulate a play event if we're autoplaying\n      fsmHandler({type:'play'});\n    }\n\n  };\n\n  // register the ad plugin framework\n  vjs.plugin('ads', adFramework);\n\n})(window, document, videojs);\n","\"use strict\";\n\nvar dom = {};\n\ndom.isVisible = function isVisible(el) {\n  var style = window.getComputedStyle(el);\n  return style.visibility !== 'hidden';\n};\n\ndom.isHidden = function isHidden(el) {\n  var style = window.getComputedStyle(el);\n  return style.display === 'none';\n};\n\ndom.isShown = function isShown(el) {\n  return !dom.isHidden(el);\n};\n\ndom.hide = function hide(el) {\n  el.__prev_style_display_ = el.style.display;\n  el.style.display = 'none';\n};\n\ndom.show = function show(el) {\n  if (dom.isHidden(el)) {\n    el.style.display = el.__prev_style_display_;\n  }\n  el.__prev_style_display_ = undefined;\n};\n\ndom.hasClass = function hasClass(el, cssClass) {\n  var classes, i, len;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.contains(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    cssClass = (cssClass || '');\n\n    for (i = 0, len = classes.length; i < len; i += 1) {\n      if (classes[i] === cssClass) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndom.addClass = function (el, cssClass) {\n  var classes;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.add(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    if (isString(cssClass) && isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n      classes.push(cssClass);\n      el.setAttribute('class', classes.join(' '));\n    }\n  }\n};\n\ndom.removeClass = function (el, cssClass) {\n  var classes;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.remove(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    var newClasses = [];\n    var i, len;\n    if (isString(cssClass) && isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n\n      for (i = 0, len = classes.length; i < len; i += 1) {\n        if (cssClass !== classes[i]) {\n          newClasses.push(classes[i]);\n        }\n      }\n      el.setAttribute('class', newClasses.join(' '));\n    }\n  }\n};\n\ndom.addEventListener = function addEventListener(el, type, handler) {\n  if(isArray(el)){\n    forEach(el, function(e) {\n      dom.addEventListener(e, type, handler);\n    });\n    return;\n  }\n\n  if(isArray(type)){\n    forEach(type, function(t) {\n      dom.addEventListener(el, t, handler);\n    });\n    return;\n  }\n\n  if (el.addEventListener) {\n    el.addEventListener(type, handler, false);\n  } else if (el.attachEvent) {\n    // WARNING!!! this is a very naive implementation !\n    // the event object that should be passed to the handler\n    // would not be there for IE8\n    // we should use \"window.event\" and then \"event.srcElement\"\n    // instead of \"event.target\"\n    el.attachEvent(\"on\" + type, handler);\n  }\n};\n\ndom.removeEventListener = function removeEventListener(el, type, handler) {\n  if(isArray(el)){\n    forEach(el, function(e) {\n      dom.removeEventListener(e, type, handler);\n    });\n    return;\n  }\n\n  if(isArray(type)){\n    forEach(type, function(t) {\n      dom.removeEventListener(el, t, handler);\n    });\n    return;\n  }\n\n  if (el.removeEventListener) {\n    el.removeEventListener(type, handler, false);\n  } else if (el.detachEvent) {\n    el.detachEvent(\"on\" + type, handler);\n  } else {\n    el[\"on\" + type] = null;\n  }\n};\n\ndom.dispatchEvent = function dispatchEvent(el, event) {\n  if (el.dispatchEvent) {\n    el.dispatchEvent(event);\n  } else {\n    el.fireEvent(\"on\" + event.eventType, event);\n  }\n};\n\ndom.isDescendant = function isDescendant(parent, child) {\n  var node = child.parentNode;\n  while (node !== null) {\n    if (node === parent) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n  return false;\n};\n\ndom.getTextContent = function getTextContent(el){\n  return el.textContent || el.text;\n};\n\ndom.prependChild = function prependChild(parent, child) {\n  if(child.parentNode){\n    child.parentNode.removeChild(child);\n  }\n  return parent.insertBefore(child, parent.firstChild);\n};\n\ndom.remove = function removeNode(node){\n  if(node && node.parentNode){\n    node.parentNode.removeChild(node);\n  }\n};\n\ndom.isDomElement = function isDomElement(o) {\n  return o instanceof Element;\n};\n\ndom.click = function(el, handler) {\n  dom.addEventListener(el, 'click', handler);\n};\n\ndom.once = function(el, type, handler) {\n  function handlerWrap() {\n    handler.apply(null, arguments);\n    dom.removeEventListener(el, type, handlerWrap);\n  }\n\n  dom.addEventListener(el, type, handlerWrap);\n};\n\n\n\n//Note: there is no getBoundingClientRect on iPad so we need a fallback\ndom.getDimension = function getDimension(element) {\n  var rect;\n\n  if(element.getBoundingClientRect) {\n    rect = element.getBoundingClientRect();\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  return {\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n};\n","var xml = {};\n\nxml.strToXMLDoc = function strToXMLDoc(stringContainingXMLSource){\n  //IE 8\n  if(!DOMParser){\n    var xmlDocument = new ActiveXObject('Microsoft.XMLDOM');\n    xmlDocument.async = false;\n    xmlDocument.loadXML(stringContainingXMLSource);\n    return xmlDocument;\n  }\n\n  return parseString(stringContainingXMLSource);\n\n  function parseString(stringContainingXMLSource){\n    var parser = new DOMParser();\n    var parsedDocument;\n\n    //Note: This try catch is to deal with the fact that on IE parser.parseFromString does throw an error but the rest of the browsers don't.\n    try {\n      parsedDocument = parser.parseFromString(stringContainingXMLSource, \"application/xml\");\n\n      if(isParseError(parsedDocument) || isEmptyString(stringContainingXMLSource)){\n        throw new Error();\n      }\n    }catch(e){\n      throw new Error(\"xml.strToXMLDOC: Error parsing the string: '\" + stringContainingXMLSource + \"'\");\n    }\n\n    return parsedDocument;\n  }\n\n  function isParseError(parsedDocument) {\n    try { // parser and parsererrorNS could be cached on startup for efficiency\n      var parser = new DOMParser(),\n        errorneousParse = parser.parseFromString('INVALID', 'text/xml'),\n        parsererrorNS = errorneousParse.getElementsByTagName(\"parsererror\")[0].namespaceURI;\n\n      if (parsererrorNS === 'http://www.w3.org/1999/xhtml') {\n        // In PhantomJS the parseerror element doesn't seem to have a special namespace, so we are just guessing here :(\n        return parsedDocument.getElementsByTagName(\"parsererror\").length > 0;\n      }\n\n      return parsedDocument.getElementsByTagNameNS(parsererrorNS, 'parsererror').length > 0;\n    } catch (e) {\n      //Note on IE parseString throws an error by itself and it will never reach this code. Because it will have failed before\n    }\n  }\n};\n\nxml.parseText = function parseText (sValue) {\n  if (/^\\s*$/.test(sValue)) { return null; }\n  if (/^(?:true|false)$/i.test(sValue)) { return sValue.toLowerCase() === \"true\"; }\n  if (isFinite(sValue)) { return parseFloat(sValue); }\n  if (isISO8601(sValue)) { return new Date(sValue); }\n  return sValue.trim();\n};\n\nxml.JXONTree = function JXONTree (oXMLParent) {\n  var parseText = xml.parseText;\n\n  //The document object is an especial object that it may miss some functions or attrs depending on the browser.\n  //To prevent this problem with create the JXONTree using the root childNode which is a fully fleshed node on all supported\n  //browsers.\n  if(oXMLParent.documentElement){\n    return new xml.JXONTree(oXMLParent.documentElement);\n  }\n\n  if (oXMLParent.hasChildNodes()) {\n    var sCollectedTxt = \"\";\n    for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n      oNode = oXMLParent.childNodes.item(nItem);\n      /*jshint bitwise: false*/\n      if ((oNode.nodeType - 1 | 1) === 3) { sCollectedTxt += oNode.nodeType === 3 ? oNode.nodeValue.trim() : oNode.nodeValue; }\n      else if (oNode.nodeType === 1 && !oNode.prefix) {\n        sProp = decapitalize(oNode.nodeName);\n        vContent = new xml.JXONTree(oNode);\n        if (this.hasOwnProperty(sProp)) {\n          if (this[sProp].constructor !== Array) { this[sProp] = [this[sProp]]; }\n          this[sProp].push(vContent);\n        } else { this[sProp] = vContent; }\n      }\n    }\n    if (sCollectedTxt) { this.keyValue = parseText(sCollectedTxt); }\n  }\n\n  if (oXMLParent.hasAttributes()) {\n    var oAttrib;\n    for (var nAttrib = 0; nAttrib < oXMLParent.attributes.length; nAttrib++) {\n      oAttrib = oXMLParent.attributes.item(nAttrib);\n      this[\"@\" + decapitalize(oAttrib.name)] = parseText(oAttrib.value.trim());\n    }\n  }\n};\n\nxml.JXONTree.prototype.attr = function(attr) {\n  return this['@' + decapitalize(attr)];\n};\n\nxml.toJXONTree = function toJXONTree(xmlString){\n  var xmlDoc = xml.strToXMLDoc(xmlString);\n  return new xml.JXONTree(xmlDoc);\n};\n\n/**\n * Helper function to extract the keyvalue of a JXONTree obj\n *\n * @param xmlObj {JXONTree}\n * return the key value or undefined;\n */\nxml.keyValue = function getKeyValue(xmlObj) {\n  if(xmlObj){\n    return xmlObj.keyValue;\n  }\n  return undefined;\n};\n\nxml.attr = function getAttrValue(xmlObj, attr) {\n  if(xmlObj) {\n    return xmlObj['@' + decapitalize(attr)];\n  }\n  return undefined;\n};\n\nxml.encode = function encodeXML(str) {\n  return str.replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&apos;');\n};\n\nxml.decode = function decodeXML(str) {\n  return str.replace(/&apos;/g, \"'\")\n    .replace(/&quot;/g, '\"')\n    .replace(/&gt;/g, '>')\n    .replace(/&lt;/g, '<')\n    .replace(/&amp;/g, '&');\n};","vjs.AdsLabel = vjs.Component.extend({\n  /** @constructor */\n  init: function (player, options) {\n    vjs.Component.call(this, player, options);\n\n    var that = this;\n\n    // We asynchronously reposition the ads label element\n    setTimeout(function () {\n      var currentTimeComp = player.controlBar &&( player.controlBar.getChild(\"timerControls\") || player.controlBar.getChild(\"currentTimeDisplay\") );\n      if(currentTimeComp) {\n        player.controlBar.el().insertBefore(that.el(), currentTimeComp.el());\n      }\n      dom.removeClass(that.el(), 'vjs-label-hidden');\n    }, 0);\n  }\n});\n\nvjs.AdsLabel.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-ads-label vjs-control vjs-label-hidden',\n    innerHTML: 'Advertisement'\n  });\n};","vjs.plugin('vastClient', function VASTPlugin(options) {\n  var player = this;\n  var vast = new VASTClient();\n  var adsCanceled = false;\n\n  var defaultOpts = {\n    // maximum amount of time in ms to wait to receive `adsready` from the ad\n    // implementation after play has been requested. Ad implementations are\n    // expected to load any dynamic libraries and make any requests to determine\n    // ad policies for a video during this time.\n    timeout: 500,\n\n    // for the moment we don't support post roll ads\n    postrollTimeout: 0,\n\n    // maximun amount of time for the ad to actually start playing. If this timeout gets\n    // triggered the ads will be cancelled\n    adCancelTimeout: 3000,\n\n    // Boolean flag that configures the player to play a new ad before the user sees the video again\n    // the current video\n    playAdAlways: false,\n\n    // Flag to enable or disable the ads by default.\n    adsEnabled: true\n  };\n\n  var settings = extend({}, defaultOpts, options || {});\n\n  if(!settings.prerollTimeout) {\n    settings.prerollTimeout = settings.adCancelTimeout;\n  }\n\n  if (isString(settings.url)) {\n    settings.url = echoFn(settings.url);\n  }\n\n  if (!isDefined(settings.url)) {\n    return trackAdError(new VASTError('on VideoJS VAST plugin, missing url on options object'));\n  }\n\n  player.on('play', playAdHandler);\n  player.on('readyforpreroll', playPrerollAd);\n\n  if (settings.playAdAlways) {\n    // No matter what happens we play a new ad before the user sees the video again.\n    player.on('ended', function () {\n      setTimeout(function () {\n        player.trigger('contentupdate');\n      }, 0);\n    });\n  }\n\n  // initialize videojs contrib ads plugin\n  player.ads(settings);\n\n  player.vast = {\n    isEnabled: function () {\n      return settings.adsEnabled;\n    },\n\n    enable: function () {\n      settings.adsEnabled = true;\n    },\n\n    disable: function () {\n      settings.adsEnabled = false;\n    }\n  };\n\n  return player.vast;\n\n  /**** Local functions ****/\n  function playAdHandler() {\n    if(settings.adsEnabled){\n      if(player.ads.state === 'content-set' && canPlayPrerollAd()){\n        initAds();\n      }\n    }else{\n      cancelAds();\n    }\n\n    /*** Local functions ***/\n    function canPlayPrerollAd(){\n      //TODO: add the preroll delay to the options and remove this substraction\n      var allowedPrerollDelay = settings.adCancelTimeout - settings.prerollTimeout;\n      return player.currentTime() <= allowedPrerollDelay;\n    }\n\n    function initAds() {\n      var adCancelTimeoutId;\n      adsCanceled = false;\n\n      if(player.paused()){\n        player.pause();\n      }\n\n      player.trigger('adsready');\n      addSpinnerIcon();\n      player.on('vast.adstart', removeSpinnerIcon);\n      player.on('vast.aderror', removeSpinnerIcon);\n\n      adCancelTimeoutId = setTimeout(function () {\n        trackAdError(new VASTError('timeout while waiting for the video to start playing', 402));\n      }, settings.adCancelTimeout);\n\n      player.one('vast.adstart', clearAdCancelTimeout);\n      player.one('vast.aderror', clearAdCancelTimeout);\n\n      /*** local functions ***/\n      function clearAdCancelTimeout(){\n        if(adCancelTimeoutId) {\n          clearTimeout(adCancelTimeoutId);\n          adCancelTimeoutId = null;\n          player.off('vast.adstart', clearAdCancelTimeout);\n          player.off('vast.aderror', clearAdCancelTimeout);\n        }\n      }\n    }\n\n    function addSpinnerIcon() {\n      dom.addClass(player.el(), 'vjs-vast-ad-loading');\n    }\n\n    function removeSpinnerIcon() {\n      //IMPORTANT NOTE: We remove the spinnerIcon asynchronously to give time to the browser to start the video.\n      // If we remove it synchronously we see a flash of the content video before the ad starts playing.\n      setTimeout(function() {\n        dom.removeClass(player.el(), 'vjs-vast-ad-loading');\n        player.off('vast.adstart', removeSpinnerIcon);\n        player.off('vast.aderror', removeSpinnerIcon);\n      }, 100);\n    }\n\n  }\n\n  function cancelAds() {\n    // We trigger 'adscanceled' to cancel the ads if they are in 'content-set' or 'ads-read?' state\n    player.trigger('adscanceled');\n    //We trigger 'adserror' to cancel the ads if they are in 'adsready' or 'preroll?' or 'ad-playback' state\n    player.trigger('adserror');\n    adsCanceled = true;\n  }\n\n  function playPrerollAd() {\n    async.waterfall([\n      getVastResponse,\n      playAd,\n      finishPlayingAd\n    ], function (error, response) {\n      if (error) {\n        trackAdError(error, response);\n      }\n    });\n  }\n\n  function getVastResponse(callback) {\n    vast.getVASTResponse(settings.url(), callback);\n  }\n\n  function playAd(vastResponse, callback) {\n    //TODO: Find a better way to stop the play. The 'playPrerollWaterfall' ends in an inconsistent situation\n    //If the state is not 'preroll?' it means the ads were canceled therefore, we break the waterfall\n    if(adsCanceled){\n      return;\n    }\n\n    var adIntegrator = isVPAID(vastResponse) ? new VPAIDIntegrator(player) : new VASTIntegrator(player);\n    var adFinished = false;\n\n    player.ads.startLinearAdMode();\n    adIntegrator.playAd(vastResponse, callback);\n    player.one('vast.adstart', adAdsLabel);\n    player.one('adend', removeAdsLabel);\n    player.one('adserror', removeAdsLabel);\n    player.one('vast.aderror', removeAdsLabel);\n\n    if(isIDevice()) {\n      preventManualProgress();\n    }\n\n    /*** Local functions ****/\n\n    function adAdsLabel(){\n      if(adFinished) {\n        return;\n      }\n      player.controlBar.addChild('AdsLabel');\n    }\n\n    function removeAdsLabel() {\n      if(adFinished) {\n        return;\n      }\n      player.controlBar.removeChild('AdsLabel');\n      adFinished = true;\n    }\n\n    function preventManualProgress(){\n      var PROGRESS_THRESHOLD = 1;\n      var previousTime = player.currentTime();\n      var tech = player.el().querySelector('.vjs-tech');\n      var skipad_attempts = 0;\n\n      player.on('adtimeupdate', adTimeupdateHandler);\n      player.one('adended', function () {\n        player.off('adtimeupdate', adTimeupdateHandler);\n      });\n\n      /*** Local functions ***/\n      function adTimeupdateHandler() {\n        var currentTime = player.currentTime();\n        var progressDelta = Math.abs(currentTime - previousTime);\n\n        if (progressDelta > PROGRESS_THRESHOLD) {\n          skipad_attempts+=1;\n          if(skipad_attempts >= 2){\n            player.pause();\n          }\n          player.currentTime(previousTime);\n        } else {\n          previousTime = currentTime;\n        }\n      }\n    }\n  }\n\n  function finishPlayingAd(vastResponse, callback) {\n    player.ads.endLinearAdMode();\n    callback(null, vastResponse);\n  }\n\n  function trackAdError(error, vastResponse) {\n    player.trigger({type: 'vast.aderror', error: error});\n    cancelAds();\n    if (console && console.log) {\n      console.log('AD ERROR:', error.message, error, vastResponse);\n    }\n  }\n\n  function isVPAID(vastResponse) {\n    var i, len;\n    var mediaFiles = vastResponse.mediaFiles;\n    for (i = 0, len = mediaFiles.length; i < len; i++) {\n      if (vastUtil.isVPAID(mediaFiles[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n});\n","(function (window) {\n  \"use strict\";\n\n\n  function VASTResponse() {\n    if (!(this instanceof VASTResponse)) {\n      return new VASTResponse();\n    }\n\n    this._linearAdded = false;\n    this.ads = [];\n    this.errorURLMacros = [];\n    this.impressions = [];\n    this.clickTrackings = [];\n    this.customClicks = [];\n    this.trackingEvents = {};\n    this.mediaFiles = [];\n    this.clickThrough = undefined;\n    this.adTitle = '';\n    this.duration = undefined;\n    this.skipoffset = undefined;\n  }\n\n  VASTResponse.prototype.addAd = function (ad) {\n    var inLine, wrapper;\n\n    if (ad instanceof Ad) {\n      inLine = ad.inLine;\n      wrapper = ad.wrapper;\n\n      this.ads.push(ad);\n\n      if (inLine) {\n        this._addInLine(inLine);\n      }\n\n      if (wrapper) {\n        this._addWrapper(wrapper);\n      }\n    }\n  };\n\n  VASTResponse.prototype._addErrorTrackUrl = function (error) {\n    var errorURL = error instanceof xml.JXONTree ? xml.keyValue(error) : error;\n    if (errorURL) {\n      this.errorURLMacros.push(errorURL);\n    }\n  };\n\n  VASTResponse.prototype._addImpressions = function (impressions) {\n    isArray(impressions) && appendToArray(this.impressions, impressions);\n  };\n\n  VASTResponse.prototype._addClickThrough = function (clickThrough) {\n    if (isNotEmptyString(clickThrough)) {\n      this.clickThrough = clickThrough;\n    }\n  };\n\n  VASTResponse.prototype._addClickTrackings = function (clickTrackings) {\n    isArray(clickTrackings) && appendToArray(this.clickTrackings, clickTrackings);\n  };\n\n  VASTResponse.prototype._addCustomClicks = function (customClicks) {\n    isArray(customClicks) && appendToArray(this.customClicks, customClicks);\n  };\n\n  VASTResponse.prototype._addTrackingEvents = function (trackingEvents) {\n    var eventsMap = this.trackingEvents;\n\n    if (trackingEvents) {\n      trackingEvents = isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach(function (trackingEvent) {\n        if (!eventsMap[trackingEvent.name]) {\n          eventsMap[trackingEvent.name] = [];\n        }\n        eventsMap[trackingEvent.name].push(trackingEvent);\n      });\n    }\n  };\n\n  VASTResponse.prototype._addTitle = function (title) {\n    if (isNotEmptyString(title)) {\n      this.adTitle = title;\n    }\n  };\n\n  VASTResponse.prototype._addDuration = function (duration) {\n    if (isNumber(duration)) {\n      this.duration = duration;\n    }\n  };\n\n  VASTResponse.prototype._addVideoClicks = function (videoClicks) {\n    if (videoClicks instanceof VideoClicks) {\n      this._addClickThrough(videoClicks.clickThrough);\n      this._addClickTrackings(videoClicks.clickTrackings);\n      this._addCustomClicks(videoClicks.customClicks);\n    }\n  };\n\n  VASTResponse.prototype._addMediaFiles = function (mediaFiles) {\n    isArray(mediaFiles) && appendToArray(this.mediaFiles, mediaFiles);\n  };\n\n  VASTResponse.prototype._addSkipoffset = function (offset) {\n    if (offset) {\n      this.skipoffset = offset;\n    }\n  };\n\n  VASTResponse.prototype._addAdParameters = function (adParameters) {\n    if (adParameters) {\n      this.adParameters = adParameters;\n    }\n  };\n\n  VASTResponse.prototype._addLinear = function (linear) {\n    if (linear instanceof Linear) {\n      this._addDuration(linear.duration);\n      this._addTrackingEvents(linear.trackingEvents);\n      this._addVideoClicks(linear.videoClicks);\n      this._addMediaFiles(linear.mediaFiles);\n      this._addSkipoffset(linear.skipoffset);\n      this._addAdParameters(linear.adParameters);\n      this._linearAdded = true;\n    }\n  };\n\n  VASTResponse.prototype._addInLine = function (inLine) {\n    var that = this;\n\n    if (inLine instanceof InLine) {\n      this._addTitle(inLine.adTitle);\n      this._addErrorTrackUrl(inLine.error);\n      this._addImpressions(inLine.impressions);\n\n      inLine.creatives.forEach(function (creative) {\n        if (creative.linear) {\n          that._addLinear(creative.linear);\n        }\n      });\n    }\n  };\n\n  VASTResponse.prototype._addWrapper = function (wrapper) {\n    var that = this;\n\n    if (wrapper instanceof Wrapper) {\n      this._addErrorTrackUrl(wrapper.error);\n      this._addImpressions(wrapper.impressions);\n\n      wrapper.creatives.forEach(function (creative) {\n        var linear = creative.linear;\n        if (linear) {\n          that._addVideoClicks(linear.videoClicks);\n          that.clickThrough = undefined;//We ensure that no clickThrough has been added\n          that._addTrackingEvents(linear.trackingEvents);\n        }\n      });\n    }\n  };\n\n  VASTResponse.prototype.hasLinear = function(){\n    return this._linearAdded;\n  };\n\n  function appendToArray(array, items) {\n    items.forEach(function (item) {\n      array.push(item);\n    });\n  }\n\n  window.VASTResponse = VASTResponse;\n})(window);\n","\"use strict\";\n\nvar vastUtil = {\n\n  track: function track(URLMacros, variables) {\n    var sources = vastUtil.parseURLMacros(URLMacros, variables);\n    var trackImgs = [];\n    sources.forEach(function (src) {\n      var img = new Image();\n      img.src = src;\n      trackImgs.push(img);\n    });\n    return trackImgs;\n  },\n\n  parseURLMacros: function parseMacros(URLMacros, variables) {\n    var parsedURLs = [];\n\n    variables = variables || {};\n\n    if (!(variables[\"CACHEBUSTING\"])) {\n      variables[\"CACHEBUSTING\"] = Math.round(Math.random() * 1.0e+10);\n    }\n\n    URLMacros.forEach(function (URLMacro) {\n      parsedURLs.push(vastUtil._parseURLMacro(URLMacro, variables));\n    });\n\n    return parsedURLs;\n  },\n\n  parseURLMacro: function parseMacro(URLMacro, variables) {\n    variables = variables || {};\n\n    if (!(variables[\"CACHEBUSTING\"])) {\n      variables[\"CACHEBUSTING\"] = Math.round(Math.random() * 1.0e+10);\n    }\n\n    return vastUtil._parseURLMacro(URLMacro, variables);\n  },\n\n  _parseURLMacro: function parseMacro(URLMacro, variables) {\n    variables = variables || {};\n\n    forEach(variables, function (value, key) {\n      URLMacro = URLMacro.replace(new RegExp(\"\\\\[\" + key + \"\\\\\\]\", 'gm'), value);\n    });\n\n    return URLMacro;\n  },\n\n  parseDuration: function parseDuration(durationStr) {\n    var durationRegex = /(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/;\n    var match, durationInMs;\n\n    if (isString(durationStr)) {\n      match = durationStr.match(durationRegex);\n      if (match) {\n        durationInMs = parseHoursToMs(match[1]) + parseMinToMs(match[2]) + parseSecToMs(match[3]) + parseInt(match[5] || 0);\n      }\n    }\n\n    return isNaN(durationInMs) ? null : durationInMs;\n\n    /*** local functions ***/\n    function parseHoursToMs(hourStr) {\n      return parseInt(hourStr) * 60 * 60 * 1000;\n    }\n\n    function parseMinToMs(minStr) {\n      return parseInt(minStr) * 60 * 1000;\n    }\n\n    function parseSecToMs(secStr) {\n      return parseInt(secStr) * 1000;\n    }\n  },\n\n  parseImpressions: function parseImpressions(impressions) {\n    if (impressions) {\n      impressions = isArray(impressions) ? impressions : [impressions];\n      return transformArray(impressions, function (impression) {\n        if (isNotEmptyString(impression.keyValue)) {\n          return impression.keyValue;\n        }\n        return undefined;\n      });\n    }\n    return [];\n  },\n\n  parseCreatives: function parseCreatives(creativesJTree) {\n    var creatives = [];\n    var creativesData;\n    if (isDefined(creativesJTree) && isDefined(creativesJTree.creative)) {\n      creativesData = isArray(creativesJTree.creative) ? creativesJTree.creative : [creativesJTree.creative];\n      creativesData.forEach(function (creative) {\n        creatives.push(new Creative(creative));\n      });\n    }\n    return creatives;\n  },\n\n  //We assume that the progress is going to arrive in milliseconds\n  formatProgress: function formatProgress(progress) {\n    var hours, minutes, seconds, milliseconds;\n    hours = progress / (60 * 60 * 1000);\n    hours = Math.floor(hours);\n    minutes = (progress / (60 * 1000)) % 60;\n    minutes = Math.floor(minutes);\n    seconds = (progress / 1000) % 60;\n    seconds = Math.floor(seconds);\n    milliseconds = progress % 1000;\n    return toFixedDigits(hours, 2) + ':' + toFixedDigits(minutes, 2) + ':' + toFixedDigits(seconds, 2) + '.' + toFixedDigits(milliseconds, 3);\n  },\n\n  parseOffset:   function parseOffset(offset, duration) {\n    if(isPercentage(offset)){\n      return calculatePercentage(offset, duration);\n    }\n    return vastUtil.parseDuration(offset);\n\n    /*** Local function ***/\n    function isPercentage(offset) {\n      var percentageRegex = /^\\d+(\\.\\d+)?%$/g;\n      return percentageRegex.test(offset);\n    }\n\n    function calculatePercentage(percentStr, duration) {\n      if(duration) {\n        return calcPercent(duration, parseFloat(percentStr.replace('%', '')));\n      }\n      return null;\n    }\n\n    function calcPercent(quantity, percent){\n      return quantity * percent / 100;\n    }\n  },\n\n  isVPAID: function isVPAIDMediaFile(mediaFile) {\n    return !!mediaFile && mediaFile.apiFramework === 'VPAID';\n  }\n};"],"sourceRoot":"/source/"}