{"version":3,"sources":["VPAIDFlashToJS.js","utilityFunctions.js","http.js","urlUtils.js","ads/vpaid/VPAIDAdUnitWrapper.js","ads/vpaid/VPAIDFlashTech.js","ads/vpaid/VPAIDIntegrator.js","ads/vast/client/Ad.js","ads/vast/client/Creative.js","ads/vast/client/Inline.js","ads/vast/client/Linear.js","ads/vast/client/MediaFile.js","ads/vast/client/TrackingEvent.js","ads/vast/client/VASTClient.js","ads/vast/client/VASTError.js","ads/vast/client/VASTIntegrator.js","ads/vast/client/VASTTracker.js","ads/vast/client/VideoClicks.js","ads/vast/client/Wrapper.js","pollyfill.js","videojs.ads.js","async.js","dom.js","xml.js","ads/ads-label.js","ads/videojs.vast.js","ads/vast/client/VASTResponse.js","ads/vast/client/vastUtil.js"],"names":["noop","isNull","o","isDefined","undefined","isObject","obj","isFunction","str","isNumber","num","isArray","array","Object","prototype","toString","call","isString","isEmptyString","length","isNotEmptyString","arrayLikeObjToArray","args","Array","slice","forEach","iterator","context","key","hasOwnProperty","isPrimitive","extend","arg","i","k","arguments","capitalize","s","charAt","toUpperCase","decapitalize","toLowerCase","transformArray","transformer","transformedArray","item","index","transformedItem","push","toFixedDigits","digits","formattedNum","parseInt","isNaN","NaN","echoFn","val","isISO8601","value","iso8086Regex","test","trim","HttpRequestError","message","this","HttpRequest","createXhr","window","XMLHttpRequest","urlParts","url","href","msie","urlParsingNode","setAttribute","host","protocol","replace","search","hash","hostname","port","pathname","VPAIDAdUnitWrapper","vpaidAdUnit","opts","sanityCheck","adUnit","checkVPAIDInterface","VASTError","defaultOpts","responseTimeout","options","_adUnit","VPAIDFlashTech","mediaFile","src","containerEl","vpaidFlashToJS","VPAIDIntegrator","player","adStartTimeout","createVPAIDContainerEl","document","createElement","dom","addClass","el","insertBefore","controlBar","VIEW_MODE","NORMAL","FULLSCREEN","THUMBNAIL","VPAID_VERSION","full","major","minor","Ad","adJTree","id","attr","sequence","inLine","InLine","wrapper","Wrapper","Creative","creativeJTree","adId","apiFramework","linear","Linear","inlineJTree","parseSurveys","inlineSurveys","survey","keyValue","uri","type","adTitle","xml","adSystem","impressions","vastUtil","parseImpressions","impression","creatives","parseCreatives","description","advertiser","surveys","error","pricing","extensions","linearJTree","parseTrackingEvents","trackingEvents","duration","trackings","trackingData","TrackingEvent","parseMediaFiles","mediaFilesJxonTree","mediaFiles","mfData","MediaFile","parseDuration","tracking","skipoffset","parseOffset","videoClicks","VideoClicks","adParameters","decode","mediaFileJTree","delivery","width","height","codec","bitrate","minBitrate","maxBitrate","scalable","maintainAspectRatio","trackingJTree","name","offset","VASTClient","defaultOptions","WRAPPER_LIMIT","settings","errorURLMacros","code","VASTIntegrator","VASTTracker","assetURI","vastResponse","VASTResponse","response","progress","quartiles","firstQuartile","Math","round","midpoint","thirdQuartile","videoClickJTree","parseClickTrackings","clickTrackings","clickTrackingData","clickThrough","clickTracking","customClicks","customClick","wrapperJTree","VASTAdTagURI","vASTAdTagURI","followAdditionalWrappers","allowMultipleAds","fallbackOnNoAd","e","t","n","r","u","a","require","f","Error","l","exports",1,"module","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","VPAIDFlashToJS","JSFlashBridge","VPAIDAdUnit","isPositiveInt","createElementWithID","uniqueVPAID","unique","vpaidParentEl","callback","swfConfig","data","version","params","wmode","salign","align","allowScriptAccess","scale","allowFullScreen","quality","debug","swfobject","_vpaidParentEl","_flashID","_load","_destroyed","movie","FlashVars","VPAID_FLASH_HANDLER","hasFlashPlayerVersion","createSWF","_flash","destroy","_adUnitLoad","_destroy","adURL","_this","err","callFlashMethod","removeCallback","getFlashID","getFlashURL","./VPAIDAdUnit","./jsFlashBridge","./utils",2,"IVPAIDAdUnit","viewMode","desiredBitrate","soundVolume",3,"_inherits","subClass","superClass","create","constructor","__proto__","_get","_x15","_x16","_x17","_again","desc","parent","getter","object","property","receiver","getOwnPropertyDescriptor","get","getPrototypeOf","ALL_VPAID_METHODS","getOwnPropertyNames","filter","indexOf","_IVPAIDAdUnit","flash","_this2","methodName","removeCallbackByMethodName","EVENTS","event","offEvent","eventName","on","off","playerVPAIDVersion","creativeData","environmentVars","setSize","getWidth","getHeight","volume","./IVPAIDAdUnit",4,"SingleValueRegistry","MultipleValuesRegistry","registry","ERROR","flashURL","flashID","loadHandShake","_el","_flashURL","_width","_height","_handlers","_callbacks","_uniqueMethodIdentifier","_loadHandShake","addInstance","add","remove","removeByKey","removeAll","callbackID","concat","setTimeout","_trigger","removeByValue","suffix","filterKeys","endsWith","result","trigger","newWidth","newHeight","offAll","removeAllCallbacks","removeInstanceByID","parentElement","removeChild","callID","getInstanceByID","_callCallback","./jsFlashBridgeRegistry","./registry",5,"instances","JSFlashBridgeRegistry",6,"_registries","handler","keys","splice","old","findByValue","map","_this3","_this4",7,"prefix","count","nEl","innerHTML","appendChild","newVal","oldVal","Number","isSafeInteger","parseNum","factory","define","amd","vjs","videojs","events","ii","register","addEventListener","attachEvent","setImmediate","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","clearImmediate","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","clearTimeout","cancelContentPlay","ads","cancelPlayTimeout","paused","pause","one","play","getPlayerSnapshot","track","tech","querySelector","tracks","remoteTextTracks","suppressedTracks","snapshot","currentSrc","currentTime","currentType","nativePoster","poster","style","getAttribute","mode","removeClass","element","className","classes","split","newClasses","join","restorePlayerSnapshot","trackSnapshot","srcChanged","attempts","restoreTracks","resume","ended","tryToResume","seekable","load","removeNativePoster","removeAttribute","defaults","timeout","prerollTimeout","adFramework","fsmHandler","state","startLinearAdMode","endLinearAdMode","fsm","content-set","adscanceled","adsready","adserror","ads-ready","preroll?","enter","leave","adstart","adtimeout","ads-ready?","ad-playback","triggerevent","adend","content-playback","contentupdate","apply","log","Html5","Events","contentSrc","checkSrc","oldValue","newValue","plugin","async","fn","tasks","makeCallback","next","waterfall","wrapIterator","when","condition","isAllowed","pop","unshift","isVisible","getComputedStyle","visibility","isHidden","display","isShown","hide","__prev_style_display_","show","hasClass","cssClass","len","classList","contains","removeEventListener","detachEvent","dispatchEvent","fireEvent","eventType","isDescendant","child","node","parentNode","getTextContent","textContent","text","prependChild","firstChild","isDomElement","Element","click","once","handlerWrap","getDimension","rect","getBoundingClientRect","offsetWidth","offsetHeight","run","method","setHeaders","xhr","headers","setRequestHeader","requestError","timeoutId","open","withCredentials","onload","statusText","status","responseText","getAllResponseHeaders","onerror","onabort","send","abort","processResponse","headersString","isSuccess","getJSONP","cb","callback_name","has_callback_called","floor","random","head","http","documentMode","strToXMLDoc","stringContainingXMLSource","parseString","parsedDocument","parser","DOMParser","parseFromString","isParseError","errorneousParse","parsererrorNS","getElementsByTagName","namespaceURI","getElementsByTagNameNS","xmlDocument","ActiveXObject","loadXML","parseText","sValue","isFinite","parseFloat","Date","JXONTree","oXMLParent","documentElement","hasChildNodes","oNode","sProp","vContent","sCollectedTxt","nItem","childNodes","nodeType","nodeValue","nodeName","hasAttributes","oAttrib","nAttrib","attributes","toJXONTree","xmlString","xmlDoc","xmlObj","encode","AdsLabel","Component","init","that","currentTimeComp","getChild","createEl","initAds","adsEnabled","cancelAds","getVastResponse","vast","getVASTResponse","playAd","adIntegrator","isVPAID","adCancelTimeout","addChild","finishPlayingAd","trackAdError","console","playAdAlways","addSpinnerIcon","removeSpinnerIcon","isEnabled","enable","disable","canSubscribeToEvents","subscribe","canUnsubscribeFromEvents","unsubscribe","VPAIDInterfaceMethods","adUnitAsyncCall","wrapCallback","shift","evtName","waitForEvent","responseListener","handshakeVersion","initAd","adUnitData","resizeAd","startAd","stopAd","pauseAd","resumeAd","expandAd","collapseAd","skipAd","getterName","setAdVolume","supports","loadAdUnit","container","unloadAdUnit","techs","clearAdStartTimeout","adStartTimeoutId","removeAdUnit","_trackError","_findSupportedTech","_loadAdUnit","bind","_playAdUnit","_finishPlaying","findSupportedTech","mediafile","VPAIDTech","vpaidMediaFiles","_handshake","_initAd","_setupEvents","_linkPlayerControls","_startAd","isSupportedVersion","majorNum","parts","dimension","adUnitSrc","tracker","trackSkip","trackImpressions","trackStart","trackFirstQuartile","trackMidpoint","trackThirdQuartile","trackComplete","trackClick","trackAcceptInvitation","trackAcceptInvitationLinear","trackClose","trackCloseLinear","trackPause","trackCollapse","trackErrorWithCode","trackResume","lastVolume","getAdVolume","currentVolume","trackMute","trackUnmute","linkVolumeControl","updateAdUnitVolume","vol","muted","logError","updatePlayerVolume","linkFullScreenControl","updateViewSize","MODE","isFullscreen","ERRORCODE","buildVASTResponse","adsChain","_buildVASTResponse","_getAd","_sendVASTResponse","requestVASTXml","_requestVASTXml","buildAd","adXML","getValidAd","possibleAds","previousAds","getAd","adChain","adTree","ad","_buildAd","getNextAd","_buildVastTree","xmlStr","vastTree","vastVersion","adJxonTree","addErrorUrlMacros","validateAd","addAdsToResponse","addAd","validateResponse","progressEvents","hasLinear","_selectAdSource","_createVASTTracker","_addClickThrough","_addSkipButton","_playSelectedAd","source","selectSource","adMediaFile","trackFullscreenChange","trackFullscreen","trackExitFullscreen","trackProgress","currentTimeInMs","trackVolumeChange","previouslyMuted","addSkipButtonToPlayer","skipOffset","removeSkipButton","updateSkipButton","skipButton","createSkipButton","updateSkipButtonState","onclick","Event","stopPropagation","timeLeft","ceil","skipOffsetInSec","createClickThroughBlocker","blocker","clickThroughMacro","generateClickThroughURL","updateBlockerURL","variables","ASSETURI","CONTENTPLAYHEAD","formatProgress","parseURLMacro","removeBlocker","updateBlocker","adStartTimeoutID","handlePlayerError","_linearAdded","appendToArray","items","_addInLine","_addWrapper","_addErrorTrackUrl","errorURL","_addImpressions","_addClickTrackings","_addCustomClicks","_addTrackingEvents","eventsMap","trackingEvent","_addTitle","title","_addDuration","_addVideoClicks","_addMediaFiles","_addSkipoffset","_addAdParameters","_addLinear","creative","trackURLs","urls","trackEvent","trackOnce","getEventUris","uris","newProgress","addTrackEvent","canBeAdded","addQuartileEvents","quartileTime","ONCE","addProgressEvent","progressEvent","trackEvents","ALWAYS","errorcode","URLMacros","sources","parseURLMacros","trackImgs","img","Image","parsedURLs","URLMacro","_parseURLMacro","RegExp","durationStr","parseHoursToMs","hourStr","parseMinToMs","minStr","parseSecToMs","secStr","match","durationInMs","durationRegex","creativesJTree","creativesData","hours","minutes","seconds","milliseconds","isPercentage","percentageRegex","calculatePercentage","percentStr","calcPercent","quantity","percent"],"mappings":"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","file":"videojs-vast-plugin.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n//if this code already run once don't do anything\nvar VPAIDFlashToJS = (function () {\n    if (window.VPAIDFlashToJS) return;\n\n    var JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\n    var VPAIDAdUnit = require('./VPAIDAdUnit').VPAIDAdUnit;\n\n    var noop = require('./utils').noop;\n    var isPositiveInt = require('./utils').isPositiveInt;\n    var createElementWithID = require('./utils').createElementWithID;\n    var uniqueVPAID = require('./utils').unique('vpaid');\n\n    var ERROR = 'error';\n\n    var VPAIDFlashToJS = (function () {\n        function VPAIDFlashToJS(vpaidParentEl, callback) {\n            var swfConfig = arguments[2] === undefined ? { data: 'VPAIDFlash.swf', width: 800, height: 400 } : arguments[2];\n            var version = arguments[3] === undefined ? '9' : arguments[3];\n            var params = arguments[4] === undefined ? { wmode: 'transparent', salign: 'tl', align: 'left', allowScriptAccess: 'always', scale: 'noScale', allowFullScreen: 'true', quality: 'high' } : arguments[4];\n            var debug = arguments[5] === undefined ? false : arguments[5];\n\n            _classCallCheck(this, VPAIDFlashToJS);\n\n            if (!swfobject) throw new Error('no swfobject in global scope. check: https://github.com/swfobject/swfobject or https://code.google.com/p/swfobject/');\n\n            this._vpaidParentEl = vpaidParentEl;\n            this._flashID = uniqueVPAID();\n            this._load = callback || noop;\n            this._destroyed = false;\n\n            //validate the height\n            swfConfig.width = isPositiveInt(swfConfig.width, 800);\n            swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n            createElementWithID(vpaidParentEl, this._flashID);\n\n            params.movie = swfConfig.data;\n            params.FlashVars = 'flashid=' + this._flashID + '&handler=' + JSFlashBridge.VPAID_FLASH_HANDLER + '&debug=' + debug + '&salign=' + params.salign;\n\n            if (swfobject.hasFlashPlayerVersion(version)) {\n                this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n                this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, callback || noop);\n            }\n        }\n\n        _createClass(VPAIDFlashToJS, [{\n            key: 'destroy',\n            value: function destroy() {\n                this._flash.destroy();\n                this._flash = null;\n                this.el = null;\n                this._adUnitLoad._destroy();\n                this._adUnitLoad = null;\n                this._destroyed = true;\n            }\n        }, {\n            key: 'isDestroyed',\n            value: function isDestroyed() {\n                return this._destroyed;\n            }\n        }, {\n            key: 'loadAdUnit',\n            value: function loadAdUnit(adURL, callback) {\n                var _this = this;\n\n                if (this._adUnit) {\n                    throw new error('AdUnit still exists');\n                }\n\n                this._adUnitLoad = function (err, message) {\n                    if (!err) {\n                        _this._adUnit = new VPAIDAdUnit(_this._flash);\n                    }\n                    _this._adUnitLoad = null;\n                    callback(err, _this._adUnit);\n                };\n\n                this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\n            }\n        }, {\n            key: 'unloadAdUnit',\n            value: function unloadAdUnit() {\n                var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n                if (!this._adUnit) {\n                    throw new Error('Can\\'t unload a adUnit that doesn\\'t exist');\n                }\n\n                if (this._adUnitLoad) {\n                    this._adUnitLoad = null;\n                    this._flash.removeCallback(this._adUnitLoad);\n                }\n\n                this._adUnit._destroy();\n                this._adUnit = null;\n\n                this._flash.callFlashMethod('unloadAdUnit', [], callback);\n            }\n        }, {\n            key: 'getFlashID',\n            value: function getFlashID() {\n                return this._flash.getFlashID();\n            }\n        }, {\n            key: 'getFlashURL',\n            value: function getFlashURL() {\n                return this._flash.getFlashURL();\n            }\n        }]);\n\n        return VPAIDFlashToJS;\n    })();\n\n    window.VPAIDFlashToJS = VPAIDFlashToJS;\n\n    return VPAIDFlashToJS;\n})();\n\nmodule.exports = VPAIDFlashToJS;\n\n},{\"./VPAIDAdUnit\":3,\"./jsFlashBridge\":4,\"./utils\":7}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n//simple representation of the API\n\nvar IVPAIDAdUnit = (function () {\n    function IVPAIDAdUnit() {\n        _classCallCheck(this, IVPAIDAdUnit);\n    }\n\n    _createClass(IVPAIDAdUnit, [{\n        key: 'handshakeVersion',\n\n        //all methods below\n        //are async methods\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments[0] === undefined ? '2.0' : arguments[0];\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n        }\n    }, {\n        key: 'initAd',\n\n        //width and height is not in the beginning because we will use the default width/height used in the constructor\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments[4] === undefined ? '' : arguments[4];\n            var environmentVars = arguments[5] === undefined ? '' : arguments[5];\n            var callback = arguments[6] === undefined ? undefined : arguments[6];\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments[3] === undefined ? undefined : arguments[3];\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'adLinear',\n\n        //properties that will be treat as async methods\n        value: function adLinear(callback) {}\n    }, {\n        key: 'adWidth',\n        value: function adWidth(callback) {}\n    }, {\n        key: 'adHeight',\n        value: function adHeight(callback) {}\n    }, {\n        key: 'adExpanded',\n        value: function adExpanded(callback) {}\n    }, {\n        key: 'adSkippableState',\n        value: function adSkippableState(callback) {}\n    }, {\n        key: 'adRemainingTime',\n        value: function adRemainingTime(callback) {}\n    }, {\n        key: 'adDuration',\n        value: function adDuration(callback) {}\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(soundVolume) {\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {}\n    }, {\n        key: 'adCompanions',\n        value: function adCompanions(callback) {}\n    }, {\n        key: 'adIcons',\n        value: function adIcons(callback) {}\n    }]);\n\n    return IVPAIDAdUnit;\n})();\n\nexports.IVPAIDAdUnit = IVPAIDAdUnit;\n\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\n    writable: false,\n    configurable: false,\n    value: ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', 'AdSizeChange', 'AdLinearChange', 'AdDurationChange', 'AdExpandedChange', 'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', 'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError']\n});\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x15, _x16, _x17) { var _again = true; _function: while (_again) { desc = parent = getter = undefined; _again = false; var object = _x15,\n    property = _x16,\n    receiver = _x17; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x15 = parent; _x16 = property; _x17 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; }\n\nvar IVPAIDAdUnit = require('./IVPAIDAdUnit').IVPAIDAdUnit;\nvar ALL_VPAID_METHODS = Object.getOwnPropertyNames(IVPAIDAdUnit.prototype).filter(function (property) {\n    return ['constructor'].indexOf(property) === -1;\n});\n\nvar VPAIDAdUnit = (function (_IVPAIDAdUnit) {\n    function VPAIDAdUnit(flash) {\n        _classCallCheck(this, VPAIDAdUnit);\n\n        _get(Object.getPrototypeOf(VPAIDAdUnit.prototype), 'constructor', this).call(this);\n        this._flash = flash;\n    }\n\n    _inherits(VPAIDAdUnit, _IVPAIDAdUnit);\n\n    _createClass(VPAIDAdUnit, [{\n        key: '_destroy',\n        value: function _destroy() {\n            var _this2 = this;\n\n            ALL_VPAID_METHODS.forEach(function (methodName) {\n                _this2._flash.removeCallbackByMethodName(methodName);\n            });\n            IVPAIDAdUnit.EVENTS.forEach(function (event) {\n                _this2._flash.offEvent(event);\n            });\n        }\n    }, {\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._flash.on(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            this._flash.off(eventName, callback);\n        }\n    }, {\n        key: 'handshakeVersion',\n\n        //VPAID interface\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments[0] === undefined ? '2.0' : arguments[0];\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n\n            this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n        }\n    }, {\n        key: 'initAd',\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments[4] === undefined ? '' : arguments[4];\n            var environmentVars = arguments[5] === undefined ? '' : arguments[5];\n            var callback = arguments[6] === undefined ? undefined : arguments[6];\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n\n            this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData, environmentVars], callback);\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments[3] === undefined ? undefined : arguments[3];\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n\n            //resize ad inside the flash\n            this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('startAd', [], callback);\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('stopAd', [], callback);\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('pauseAd', [], callback);\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('resumeAd', [], callback);\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('expandAd', [], callback);\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('collapseAd', [], callback);\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('skipAd', [], callback);\n        }\n    }, {\n        key: 'adLinear',\n\n        //properties that will be treat as async methods\n        value: function adLinear(callback) {\n            this._flash.callFlashMethod('adLinear', [], callback);\n        }\n    }, {\n        key: 'adWidth',\n        value: function adWidth(callback) {\n            this._flash.callFlashMethod('adWidth', [], callback);\n        }\n    }, {\n        key: 'adHeight',\n        value: function adHeight(callback) {\n            this._flash.callFlashMethod('adHeight', [], callback);\n        }\n    }, {\n        key: 'adExpanded',\n        value: function adExpanded(callback) {\n            this._flash.callFlashMethod('adExpanded', [], callback);\n        }\n    }, {\n        key: 'adSkippableState',\n        value: function adSkippableState(callback) {\n            this._flash.callFlashMethod('adSkippableState', [], callback);\n        }\n    }, {\n        key: 'adRemainingTime',\n        value: function adRemainingTime(callback) {\n            this._flash.callFlashMethod('adRemainingTime', [], callback);\n        }\n    }, {\n        key: 'adDuration',\n        value: function adDuration(callback) {\n            this._flash.callFlashMethod('adDuration', [], callback);\n        }\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(volume) {\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n\n            this._flash.callFlashMethod('setAdVolume', [volume], callback);\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {\n            this._flash.callFlashMethod('getAdVolume', [], callback);\n        }\n    }, {\n        key: 'adCompanions',\n        value: function adCompanions(callback) {\n            this._flash.callFlashMethod('adCompanions', [], callback);\n        }\n    }, {\n        key: 'adIcons',\n        value: function adIcons(callback) {\n            this._flash.callFlashMethod('adIcons', [], callback);\n        }\n    }]);\n\n    return VPAIDAdUnit;\n})(IVPAIDAdUnit);\n\nexports.VPAIDAdUnit = VPAIDAdUnit;\n\n},{\"./IVPAIDAdUnit\":2}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar unique = require('./utils').unique;\nvar isPositiveInt = require('./utils').isPositiveInt;\nvar SingleValueRegistry = require('./registry').SingleValueRegistry;\nvar MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\nvar registry = require('./jsFlashBridgeRegistry');\nvar VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\nvar ERROR = 'error';\n\nvar JSFlashBridge = (function () {\n    function JSFlashBridge(el, flashURL, flashID, width, height, loadHandShake) {\n        _classCallCheck(this, JSFlashBridge);\n\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = new MultipleValuesRegistry();\n        this._callbacks = new SingleValueRegistry();\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        this._loadHandShake = loadHandShake;\n\n        registry.addInstance(this._flashID, this);\n    }\n\n    _createClass(JSFlashBridge, [{\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._handlers.add(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            return this._handlers.remove(eventName, callback);\n        }\n    }, {\n        key: 'offEvent',\n        value: function offEvent(eventName) {\n            return this._handlers.removeByKey(eventName);\n        }\n    }, {\n        key: 'offAll',\n        value: function offAll() {\n            return this._handlers.removeAll();\n        }\n    }, {\n        key: 'callFlashMethod',\n        value: function callFlashMethod(methodName) {\n            var args = arguments[1] === undefined ? [] : arguments[1];\n            var callback = arguments[2] === undefined ? undefined : arguments[2];\n\n            var callbackID = '';\n            // if no callback, some methods the return is void so they don't need callback\n            if (callback) {\n                var callbackID = '' + this._uniqueMethodIdentifier() + '_' + methodName;\n                this._callbacks.add(callbackID, callback);\n            }\n\n            try {\n                //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n                //this code will throw an error\n                this._el[methodName]([callbackID].concat(args));\n            } catch (e) {\n                if (callback) {\n                    this._callbacks.remove(callbackID);\n                    setTimeout(function () {\n                        callback(e);\n                    }, 0);\n                } else {\n\n                    //if there isn't any callback to return error use error event handler\n                    this._trigger(ERROR, [e]);\n                }\n            }\n        }\n    }, {\n        key: 'removeCallback',\n        value: function removeCallback(callback) {\n            return this._callbacks.removeByValue(callback);\n        }\n    }, {\n        key: 'removeCallbackByMethodName',\n        value: function removeCallbackByMethodName(suffix) {\n            var _this = this;\n\n            this._callbacks.filterKeys(function (key) {\n                return key.endsWith(suffix);\n            }).forEach(function (key) {\n                _this._callbacks.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAllCallbacks',\n        value: function removeAllCallbacks() {\n            return this._callbacks.removeAll();\n        }\n    }, {\n        key: '_trigger',\n        value: function _trigger(eventName, err, result) {\n            //TODO: check if forEach and isArray is added to the browser with babeljs\n            this._handlers.get(eventName).forEach(function (callback) {\n                setTimeout(function () {\n                    callback(err, result);\n                }, 0);\n            });\n        }\n    }, {\n        key: '_callCallback',\n        value: function _callCallback(methodName, callbackID, err, result) {\n\n            var callback = this._callbacks.get(callbackID);\n\n            //not all methods callback's are mandatory\n            //but if there exist an error, fire the error event\n            if (!callback) {\n                if (err && callbackID === '') {\n                    this.trigger(ERROR, err, result);\n                }\n                return;\n            }\n\n            setTimeout(function () {\n                callback(err, result);\n            }, 0);\n\n            this._callbacks.remove(callbackID);\n        }\n    }, {\n        key: 'getSize',\n\n        //methods like properties specific to this implementation of VPAID\n        value: function getSize() {\n            return { width: this._width, height: this._height };\n        }\n    }, {\n        key: 'setSize',\n        value: function setSize(newWidth, newHeight) {\n            this._width = isPositiveInt(newWidth, this._width);\n            this._height = isPositiveInt(newHeight, this._height);\n            this._el.setAttribute('width', this._width);\n            this._el.setAttribute('height', this._height);\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this._width;\n        }\n    }, {\n        key: 'setWidth',\n        value: function setWidth(newWidth) {\n            this.setSize(newWidth, this._height);\n        }\n    }, {\n        key: 'getHeight',\n        value: function getHeight() {\n            return this._height;\n        }\n    }, {\n        key: 'setHeight',\n        value: function setHeight(newHeight) {\n            this.setSize(this._width, newHeight);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            return this._flashID;\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            return this._flashURL;\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.offAll();\n            this.removeAllCallbacks();\n            registry.removeInstanceByID(this._flashID);\n            if (this._el.parentElement) {\n                this._el.parentElement.removeChild(this._el);\n            }\n        }\n    }]);\n\n    return JSFlashBridge;\n})();\n\nexports.JSFlashBridge = JSFlashBridge;\n\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\nwindow[VPAID_FLASH_HANDLER] = function (flashID, type, event, callID, error, data) {\n    var instance = registry.getInstanceByID(flashID);\n    if (!instance) return;\n    if (event === 'handShake') {\n        instance._loadHandShake(error, data);\n    } else {\n        if (type !== 'event') {\n            instance._callCallback(event, callID, error, data);\n        } else {\n            instance._trigger(event, error, data);\n        }\n    }\n};\n\n},{\"./jsFlashBridgeRegistry\":5,\"./registry\":6,\"./utils\":7}],5:[function(require,module,exports){\n'use strict';\n\nvar SingleValueRegistry = require('./registry').SingleValueRegistry;\nvar instances = new SingleValueRegistry();\n\nvar JSFlashBridgeRegistry = {};\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\n    writable: false,\n    configurable: false,\n    value: function value(id, instance) {\n        instances.add(id, instance);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.get(id);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.remove(id);\n    }\n});\n\nmodule.exports = JSFlashBridgeRegistry;\n\n},{\"./registry\":6}],6:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MultipleValuesRegistry = (function () {\n    function MultipleValuesRegistry() {\n        _classCallCheck(this, MultipleValuesRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(MultipleValuesRegistry, [{\n        key: \"add\",\n        value: function add(id, value) {\n            if (!this._registries[id]) {\n                this._registries[id] = [];\n            }\n            if (this._registries[id].indexOf(value) === -1) {\n                this._registries[id].push(value);\n            }\n        }\n    }, {\n        key: \"get\",\n        value: function get(id) {\n            return this._registries[id] || [];\n        }\n    }, {\n        key: \"filterKeys\",\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: \"findByValue\",\n        value: function findByValue(value) {\n            var _this = this;\n\n            //TODO: check if keys and find is added to the browser with babeljs\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this._registries[key].indexOf(value) !== -1;\n            });\n\n            return keys;\n        }\n    }, {\n        key: \"remove\",\n        value: function remove(key, value) {\n            if (!this._registries[key]) {\n                return;\n            }\n\n            var index = this._registries[key].indexOf(value);\n\n            if (index < 0) {\n                return;\n            }\n            return this._registries[key].splice(index, 1);\n        }\n    }, {\n        key: \"removeByKey\",\n        value: function removeByKey(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: \"removeByValue\",\n        value: function removeByValue(value) {\n            var _this2 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this2.remove(key, value);\n            });\n        }\n    }, {\n        key: \"removeAll\",\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: \"size\",\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return MultipleValuesRegistry;\n})();\n\nexports.MultipleValuesRegistry = MultipleValuesRegistry;\n\nvar SingleValueRegistry = (function () {\n    function SingleValueRegistry() {\n        _classCallCheck(this, SingleValueRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(SingleValueRegistry, [{\n        key: \"add\",\n        value: function add(id, value) {\n            this._registries[id] = value;\n        }\n    }, {\n        key: \"get\",\n        value: function get(id) {\n            return this._registries[id];\n        }\n    }, {\n        key: \"filterKeys\",\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: \"findByValue\",\n        value: function findByValue(value) {\n            var _this3 = this;\n\n            //TODO: check if keys is added to the browser with babeljs\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this3._registries[key] === value;\n            });\n\n            return keys;\n        }\n    }, {\n        key: \"remove\",\n        value: function remove(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: \"removeByValue\",\n        value: function removeByValue(value) {\n            var _this4 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this4.remove(key);\n            });\n        }\n    }, {\n        key: \"removeAll\",\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: \"size\",\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return SingleValueRegistry;\n})();\n\nexports.SingleValueRegistry = SingleValueRegistry;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports.unique = unique;\nexports.noop = noop;\nexports.createElementWithID = createElementWithID;\nexports.isPositiveInt = isPositiveInt;\n'use strict';\n\nfunction unique(prefix) {\n    var count = -1;\n    return function (f) {\n        return '' + prefix + '_' + ++count;\n    };\n}\n\nfunction noop() {}\n\nfunction createElementWithID(parent, id) {\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nfunction isPositiveInt(newVal, oldVal) {\n    return Number.isSafeInteger(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\n},{}]},{},[1])\n\n\n//# sourceMappingURL=VPAIDFlashToJS.js.map","\"use strict\";\n\nvar NODE_TYPE_ELEMENT = 1;\n\nfunction noop(){ }\n\nfunction isNull(o) {\n  return o === null;\n}\n\nfunction isDefined(o){\n  return o !== undefined;\n}\n\nfunction isUndefined(o){\n  return o === undefined;\n}\n\nfunction isObject(obj) {\n  return typeof obj === 'object';\n}\n\nfunction isFunction(str){\n  return typeof str === 'function';\n}\n\nfunction isNumber(num){\n  return typeof num === 'number';\n}\n\nfunction isWindow(obj) {\n  return isObject(obj) && obj.window === obj;\n}\n\nfunction isArray(array){\n  return Object.prototype.toString.call( array ) === '[object Array]'\n}\n\nfunction isArrayLike(obj) {\n  if (obj === null || isWindow(obj) || isFunction(obj) || isUndefined(obj)) {\n    return false;\n  }\n\n  var length = obj.length;\n\n  if (obj.nodeType === NODE_TYPE_ELEMENT && length) {\n    return true;\n  }\n\n  return isString(obj) || isArray(obj) || length === 0 ||\n    typeof length === 'number' && length > 0 && (length - 1) in obj;\n}\n\nfunction isString(str){\n  return typeof str === 'string';\n}\n\nfunction isEmptyString(str) {\n  return isString(str) && str.length === 0;\n}\n\nfunction isNotEmptyString(str) {\n  return isString(str) && str.length !== 0;\n}\n\nfunction arrayLikeObjToArray(args) {\n  return Array.prototype.slice.call(args);\n}\n\nfunction forEach(obj, iterator, context) {\n  var key, length;\n  if (obj) {\n    if (isFunction(obj)) {\n      for (key in obj) {\n        // Need to check if hasOwnProperty exists,\n        // as on IE8 the result of querySelectorAll is an object without a hasOwnProperty function\n        if (key != 'prototype' && key != 'length' && key != 'name' && (!obj.hasOwnProperty || obj.hasOwnProperty(key))) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (isArray(obj)) {\n      var isPrimitive = typeof obj !== 'object';\n      for (key = 0, length = obj.length; key < length; key++) {\n        if (isPrimitive || key in obj) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (obj.forEach && obj.forEach !== forEach) {\n      obj.forEach(iterator, context, obj);\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    }\n  }\n  return obj;\n}\n\n\nvar SNAKE_CASE_REGEXP = /[A-Z]/g;\nfunction snake_case(name, separator) {\n  separator = separator || '_';\n  return name.replace(SNAKE_CASE_REGEXP, function(letter, pos) {\n    return (pos ? separator : '') + letter.toLowerCase();\n  });\n}\n\nfunction isValidEmail(email){\n  if(!isString(email)){\n    return false;\n  }\n  var EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i;\n  return EMAIL_REGEXP.test(email.trim());\n}\n\nfunction extend (obj) {\n  var arg, i, k;\n  for (i = 1; i < arguments.length; i++) {\n    arg = arguments[i];\n    for (k in arg) {\n      if (arg.hasOwnProperty(k)) {\n        if(isObject(obj[k]) && !isNull(obj[k]) && isObject(arg[k])){\n          obj[k] = extend({}, obj[k], arg[k]);\n        }else {\n          obj[k] = arg[k];\n        }\n      }\n    }\n  }\n  return obj;\n}\n\nfunction capitalize(s){\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nfunction decapitalize(s) {\n  return s.charAt(0).toLowerCase() + s.slice(1);\n}\n\n/**\n * This method works the same way array.prototype.map works but if the transformer returns undefine, then\n * it won't be added to the transformed Array.\n */\nfunction transformArray(array, transformer) {\n  var transformedArray = [];\n\n  array.forEach(function(item, index){\n    var transformedItem = transformer(item, index);\n    if(isDefined(transformedItem)) {\n      transformedArray.push(transformedItem);\n    }\n  });\n\n  return transformedArray;\n}\n\nfunction toFixedDigits(num, digits) {\n  var formattedNum = num + '';\n  digits = isNumber(digits) ? digits : 0;\n  num = isNumber(num) ? num : parseInt(num);\n  if(isNumber(num) && !isNaN(num)){\n    formattedNum = num + '';\n    while(formattedNum.length < digits) {\n      formattedNum = '0' + formattedNum;\n    }\n    return formattedNum;\n  }\n  return NaN + '';\n}\n\nfunction throttle(callback, delay) {\n  var previousCall = new Date().getTime() - (delay + 1);\n  return function() {\n    var time = new Date().getTime();\n    if ((time - previousCall) >= delay) {\n      previousCall = time;\n      callback.apply(this, arguments);\n    }\n  };\n}\n\nfunction debounce (callback, wait) {\n  var timeoutId;\n\n  return function (){\n    timeoutId && clearTimeout(timeoutId);\n    timeoutId = setTimeout(function(){\n      callback.apply(this, arguments);\n      timeoutId = undefined;\n    }, wait);\n  };\n}\n\n// a function designed to blow up the stack in a naive way\n// but it is ok for videoJs children components\nfunction treeSearch(root, getChildren, found){\n  var children = getChildren(root);\n  for (var i = 0; i < children.length; i++){\n    if (found(children[i])) {\n      return children[i];\n    }\n    else {\n      var el = treeSearch(children[i], getChildren, found);\n      if (el){\n        return el;\n      }\n    }\n  }\n}\n\nfunction echoFn(val) {\n  return function () {\n    return val;\n  };\n}\n\n//Note: Supported formats come from http://www.w3.org/TR/NOTE-datetime\n// and the iso8601 regex comes from http://www.pelagodesign.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/\nfunction isISO8601(value) {\n  if(isNumber(value)){\n    value = value + '';  //we make sure that we are working with strings\n  }\n\n  if(!isString(value)){\n    return false;\n  }\n\n  var iso8086Regex = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n  return iso8086Regex.test(value.trim());\n}","\"use strict\";\n\nfunction HttpRequestError(message) {\n  this.message = 'HttpRequest Error: ' + (message || '');\n}\nHttpRequestError.prototype = new Error();\nHttpRequestError.prototype.name = \"HttpRequest Error\";\n\nfunction HttpRequest(createXhr) {\n  if (!isFunction(createXhr)) {\n    throw new HttpRequestError('Missing XMLHttpRequest factory method');\n  }\n\n  this.createXhr = createXhr;\n}\n\nHttpRequest.prototype.run = function (method, url, callback, options) {\n  sanityCheck(url, callback, options);\n  var timeout, timeoutId;\n  var xhr = this.createXhr();\n  options = options || {};\n  timeout = isNumber(options.timeout)? options.timeout : 0;\n\n  xhr.open(method, urlParts(url).href, true);\n\n  if (options.headers) {\n    setHeaders(xhr, options.headers);\n  }\n\n  if (options.withCredentials) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function () {\n    var statusText, response, status;\n\n    if(isDefined(timeoutId)){\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n\n    statusText = xhr.statusText || '';\n\n    // responseText is the old-school way of retrieving response (supported by IE8 & 9)\n    // response/responseType properties were introduced in XHR Level2 spec (supported by IE10)\n    response = ('response' in xhr) ? xhr.response : xhr.responseText;\n\n    // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n    status = xhr.status === 1223 ? 204 : xhr.status;\n\n    callback(\n      status,\n      response,\n      xhr.getAllResponseHeaders(),\n      statusText);\n  };\n\n  xhr.onerror = requestError;\n  xhr.onabort = requestError;\n\n  xhr.send();\n\n  if(timeout > 0){\n    timeoutId = setTimeout(function () {\n      xhr && xhr.abort();\n    }, timeout);\n  }\n\n  function sanityCheck(url, callback, options) {\n    if (!isString(url) || isEmptyString(url)) {\n      throw new HttpRequestError(\"Invalid url '\" + url + \"'\");\n    }\n\n    if (!isFunction(callback)) {\n      throw new HttpRequestError(\"Invalid handler '\" + callback + \"' for the http request\");\n    }\n\n    if (isDefined(options) && !isObject(options)) {\n      throw new HttpRequestError(\"Invalid options map '\" + options + \"'\");\n    }\n  }\n\n  function setHeaders(xhr, headers) {\n    forEach(headers, function (value, key) {\n      if (isDefined(value)) {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n  }\n\n  function requestError() {\n    callback(-1, null, null, '');\n  }\n};\n\nHttpRequest.prototype.get = function (url, callback, options) {\n  this.run('GET', url, processResponse, options);\n\n  function processResponse(status, response, headersString, statusText) {\n    if (isSuccess(status)) {\n      callback(null, response, status, headersString, statusText);\n    } else {\n      callback(new HttpRequestError(statusText), response, status, headersString, statusText);\n    }\n  }\n\n  function isSuccess(status) {\n    return 200 <= status && status < 300;\n  }\n};\n\nHttpRequest.getJSONP = function getJSONP (url, cb, timeout, callback_name){\n  var has_callback_called = false;\n  timeout = timeout || 3000;\n  callback_name = callback_name || (\"_cb_\" + Math.floor((Math.random()*100000)).toString()); // for jsonp\n\n  setTimeout(function (){\n    if (has_callback_called){ // function has timed out\n      return;\n    }\n    cb(\"JSONP request timed up (or returned an error)\");\n    delete window[callback_name]; //cleaning up\n  }, timeout);\n\n  // I create the callback\n  window[callback_name] = function (data){\n    has_callback_called = true;\n    cb(null, data);\n    delete window[callback_name]; //cleaning up\n  };\n\n  var s = document.createElement('script');\n  s.src = url + \"?cb=\" + callback_name;\n  document.head.appendChild(s);\n};\n\nfunction createXhr() {\n  return new window.XMLHttpRequest();\n}\n\nvar http = new HttpRequest(createXhr);\n","'use strict';\n\n/**\n * documentMode is an IE-only property\n * http://msdn.microsoft.com/en-us/library/ie/cc196988(v=vs.85).aspx\n */\nvar msie = document.documentMode;\n\n/**\n *\n * IMPORTANT NOTE: This function comes from angularJs and was originally called urlResolve\n *                 you can take a look at the original code here https://github.com/angular/angular.js/blob/master/src/ng/urlUtils.js\n *\n * Implementation Notes for non-IE browsers\n * ----------------------------------------\n * Assigning a URL to the href property of an anchor DOM node, even one attached to the DOM,\n * results both in the normalizing and parsing of the URL.  Normalizing means that a relative\n * URL will be resolved into an absolute URL in the context of the application document.\n * Parsing means that the anchor node's host, hostname, protocol, port, pathname and related\n * properties are all populated to reflect the normalized URL.  This approach has wide\n * compatibility - Safari 1+, Mozilla 1+, Opera 7+,e etc.  See\n * http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *\n * Implementation Notes for IE\n * ---------------------------\n * IE >= 8 and <= 10 normalizes the URL when assigned to the anchor node similar to the other\n * browsers.  However, the parsed components will not be set if the URL assigned did not specify\n * them.  (e.g. if you assign a.href = \"foo\", then a.protocol, a.host, etc. will be empty.)  We\n * work around that by performing the parsing in a 2nd step by taking a previously normalized\n * URL (e.g. by assigning to a.href) and assigning it a.href again.  This correctly populates the\n * properties such as protocol, hostname, port, etc.\n *\n * IE7 does not normalize the URL when assigned to an anchor node.  (Apparently, it does, if one\n * uses the inner HTML approach to assign the URL as part of an HTML snippet -\n * http://stackoverflow.com/a/472729)  However, setting img[src] does normalize the URL.\n * Unfortunately, setting img[src] to something like \"javascript:foo\" on IE throws an exception.\n * Since the primary usage for normalizing URLs is to sanitize such URLs, we can't use that\n * method and IE < 8 is unsupported.\n *\n * References:\n *   http://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n *   http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *   http://url.spec.whatwg.org/#urlutils\n *   https://github.com/angular/angular.js/pull/2902\n *   http://james.padolsey.com/javascript/parsing-urls-with-the-dom/\n *\n * @kind function\n * @param {string} url The URL to be parsed.\n * @description Normalizes and parses a URL.\n * @returns {object} Returns the normalized URL as a dictionary.\n *\n *   | member name   | Description    |\n *   |---------------|----------------|\n *   | href          | A normalized version of the provided URL if it was not an absolute URL |\n *   | protocol      | The protocol including the trailing colon                              |\n *   | host          | The host and port (if the port is non-default) of the normalizedUrl    |\n *   | search        | The search params, minus the question mark                             |\n *   | hash          | The hash string, minus the hash symbol\n *   | hostname      | The hostname\n *   | port          | The port, without \":\"\n *   | pathname      | The pathname, beginning with \"/\"\n *\n */\n\nvar urlParsingNode = document.createElement(\"a\");\n\nfunction urlParts(url) {\n  var href = url;\n\n  if (msie) {\n    // Normalize before parse.  Refer Implementation Notes on why this is\n    // done in two steps on IE.\n    urlParsingNode.setAttribute(\"href\", href);\n    href = urlParsingNode.href;\n  }\n\n  urlParsingNode.setAttribute('href', href);\n\n  //On some IE the host contains the port and the port property is empty\n  if(/(.*)\\:(\\d+)/.test(urlParsingNode.host)) {\n\n  }\n\n  // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n  return {\n    href: urlParsingNode.href,\n    protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n    host: urlParsingNode.host,\n    search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n    hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n    hostname: urlParsingNode.hostname,\n    port: isNotEmptyString(urlParsingNode.port)? urlParsingNode.port: 80,\n    pathname: (urlParsingNode.pathname.charAt(0) === '/')\n      ? urlParsingNode.pathname\n      : '/' + urlParsingNode.pathname\n  };\n}\n\n\n/**\n * This function accepts a query string (search part of a url) and returns a dictionary with\n * the different key value pairs\n * @param {string} qs queryString\n */\nfunction queryStringToObj(qs, cond) {\n  var pairs, qsObj;\n\n  cond = isFunction(cond)? cond : function() {\n    return true;\n  };\n\n  qs = qs.trim().replace(/^\\?/, '');\n  pairs = qs.split('&');\n  qsObj = {};\n\n  forEach(pairs, function (pair) {\n    var keyValue, key, value;\n    if (pair !== '') {\n      keyValue = pair.split('=');\n      key = keyValue[0];\n      value = keyValue[1];\n      if(cond(key, value)){\n        qsObj[key] = value;\n      }\n    }\n  });\n\n  return qsObj;\n}\n\n/**\n * This function accepts an object and serializes it into a query string without the leading '?'\n * @param obj\n * @returns {string}\n */\nfunction objToQueryString(obj) {\n  var pairs = [];\n  forEach(obj, function (value, key) {\n    pairs.push(key + '=' + value);\n  });\n  return pairs.join('&');\n}\n\n","function VPAIDAdUnitWrapper(vpaidAdUnit, opts) {\n  if (!(this instanceof VPAIDAdUnitWrapper)) {\n    return new VPAIDAdUnitWrapper(vpaidAdUnit);\n  }\n  sanityCheck(vpaidAdUnit, opts);\n  var defaultOpts = {\n    responseTimeout: 2000\n  };\n\n  this.options = extend({}, defaultOpts, opts || {});\n  this._adUnit = vpaidAdUnit;\n\n  /*** Local Functions ***/\n  function sanityCheck(adUnit, opts) {\n    if (!adUnit || !VPAIDAdUnitWrapper.checkVPAIDInterface(adUnit)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface');\n    }\n\n    if (opts && !isObject(opts)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper, expected options hash  but got '\" + opts + \"'\");\n    }\n  }\n}\n\nVPAIDAdUnitWrapper.checkVPAIDInterface = function checkVPAIDInterface(VPAIDAdUnit) {\n  var VPAIDInterfaceMethods = [\n    'handshakeVersion', 'initAd', 'startAd', 'stopAd', 'skipAd', 'resizeAd', 'pauseAd', 'expandAd', 'collapseAd'\n  ];\n\n  for (var i = 0, len = VPAIDInterfaceMethods.length; i < len; i++) {\n    if (!VPAIDAdUnit || !isFunction(VPAIDAdUnit[VPAIDInterfaceMethods[i]])) {\n      return false;\n    }\n  }\n\n\n  return canSubscribeToEvents(VPAIDAdUnit) && canUnsubscribeFromEvents(VPAIDAdUnit);\n\n  /*** Local Functions ***/\n\n  function canSubscribeToEvents(adUnit) {\n    return isFunction(adUnit.subscribe) || isFunction(adUnit.addEventListener) || isFunction(adUnit.on)\n  }\n\n  function canUnsubscribeFromEvents(adUnit) {\n    return isFunction(adUnit.unsubscribe) || isFunction(adUnit.removeEventListener) || isFunction(adUnit.off)\n\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.adUnitAsyncCall = function () {\n  var args = arrayLikeObjToArray(arguments);\n  var method = args.shift();\n  var cb = args.pop();\n  var timeoutId;\n\n  sanityCheck(method, cb, this._adUnit);\n  args.push(wrapCallback());\n\n  this._adUnit[method].apply(this._adUnit, args);\n  timeoutId = setTimeout(function () {\n    timeoutId = null;\n    cb(new VASTError(\"on VPAIDAdUnitWrapper, timeout while waiting for a response on call '\" + method + \"'\"));\n    cb = noop;\n  }, this.options.responseTimeout);\n\n  /*** Local functions ***/\n  function sanityCheck(method, cb, adUnit) {\n    if (!isString(method) || !isFunction(adUnit[method])) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name\")\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback\")\n    }\n  }\n\n  function wrapCallback() {\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      cb.apply(this, arguments);\n    };\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.on = function (evtName, handler) {\n  var addEventListener = this._adUnit.addEventListener || this._adUnit.subscribe || this._adUnit.on;\n  addEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.off = function (evtName, handler) {\n  var removeEventListener = this._adUnit.removeEventListener || this._adUnit.unsubscribe || this._adUnit.off;\n  removeEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.waitForEvent = function (evtName, cb, context) {\n  var timeoutId;\n  sanityCheck(evtName, cb);\n  context = context || null;\n\n  this.on(evtName, responseListener);\n\n  timeoutId = setTimeout(function () {\n    cb(new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event '\" + evtName + \"'\"));\n    timeoutId = null;\n    cb = noop;\n  }, this.options.responseTimeout);\n\n  /*** Local functions ***/\n  function sanityCheck(evtName, cb) {\n    if (!isString(evtName)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, missing evt name\")\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, missing callback\")\n    }\n  }\n\n  function responseListener() {\n    var args = arrayLikeObjToArray(arguments);\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n\n    args.unshift(null);\n    cb.apply(context, args);\n  }\n};\n\n// VPAID METHODS\nVPAIDAdUnitWrapper.prototype.handshakeVersion = function (version, cb) {\n  this.adUnitAsyncCall('handshakeVersion', version, cb)\n};\n\nVPAIDAdUnitWrapper.prototype.initAd = function (width, height, viewMode, desiredBitrate, adUnitData, cb) {\n  this._adUnit.initAd(width, height, viewMode, desiredBitrate, adUnitData);\n  this.waitForEvent('AdLoaded', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.resizeAd = function (width, height, viewMode, cb) {\n  this._adUnit.resizeAd(width, height, viewMode);\n  this.waitForEvent('AdSizeChange', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.startAd = function (cb) {\n  this._adUnit.startAd();\n  this.waitForEvent('AdStarted', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.stopAd = function (cb) {\n  this._adUnit.stopAd();\n  this.waitForEvent('AdStopped', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.pauseAd = function (cb) {\n  this._adUnit.pauseAd();\n  this.waitForEvent('AdPaused', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.resumeAd = function (cb) {\n  this._adUnit.resumeAd();\n  this.waitForEvent('AdPlaying', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.expandAd = function (cb) {\n  this._adUnit.expandAd();\n  this.waitForEvent('AdExpandedChange', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.collapseAd = function (cb) {\n  this._adUnit.collapseAd();\n  this.waitForEvent('AdExpandedChange', cb);\n};\n\nVPAIDAdUnitWrapper.prototype.skipAd = function (cb) {\n  this._adUnit.skipAd();\n  this.waitForEvent('AdSkipped', cb);\n\n  //TODO: what about: AdSkippableStateChange\n};\n\n//VPAID property getters\n[\n  'adLinear',\n  'adWidth',\n  'adHeight',\n  'adExpanded',\n  'adSkippableState',\n  'adRemainingTime',\n  'adDuration',\n  'adVolume',\n  'adCompanions',\n  'adIcons'\n].forEach(function (property) {\n  var getterName = 'get' + capitalize(property);\n\n  VPAIDAdUnitWrapper.prototype[getterName] = function (cb) {\n    this.adUnitAsyncCall(getterName, cb)\n  };\n});\n\n//VPAID property setters\nVPAIDAdUnitWrapper.prototype.setAdVolume = function(volume, cb){\n  this.adUnitAsyncCall('setAdVolume',volume, cb)\n};","function VPAIDFlashTech(mediaFile) {\n  if (!(this instanceof VPAIDFlashTech)) {\n    return new VPAIDFlashTech(mediaFile);\n  }\n  sanityCheck(mediaFile);\n  this.mediaFile = mediaFile;\n  this.containerEl = null;\n  this.vpaidFlashToJS = null;\n\n  /*** local functions ***/\n  function sanityCheck(mediaFile) {\n    if (!mediaFile || !isString(mediaFile.src)) {\n      throw new VASTError('on VPAIDFlashTech, invalid MediaFile');\n    }\n  }\n}\n\nVPAIDFlashTech.supports = function (type) {\n  return type === 'application/x-shockwave-flash';\n};\n\nVPAIDFlashTech.prototype.loadAdUnit = function loadFlashCreative(containerEl, callback) {\n  var that = this;\n  sanityCheck(containerEl, callback);\n\n  this.containerEl = containerEl;\n  this.vpaidFlashToJS = new VPAIDFlashToJS(containerEl, function (error) {\n    if (error) {\n      callback(error);\n    }\n\n    that.vpaidFlashToJS.loadAdUnit(that.mediaFile.src, callback)\n  });\n\n  /*** Local Functions ***/\n  function sanityCheck(container, cb) {\n\n    if (!dom.isDomElement(container)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, invalid dom container element');\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, missing valid callback');\n    }\n  }\n};\n\n\nVPAIDFlashTech.prototype.unloadAdUnit = function () {\n  if (this.vpaidFlashToJS) {\n    try{\n      this.vpaidFlashToJS.destroy();\n    } catch(e){\n      if(console && isFunction(console.log)){\n        console.log('VAST ERROR: trying to unload the VPAID adunit');\n      }\n    }\n    this.vpaidFlashToJS = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n};\n","function VPAIDIntegrator(player, adStartTimeout) {\n  if (!(this instanceof VPAIDIntegrator)) {\n    return new VPAIDIntegrator(player, adStartTimeout);\n  }\n\n  this.VIEW_MODE = {\n    NORMAL: 'normal',\n    FULLSCREEN: \"fullscreen\",\n    THUMBNAIL: \"thumbnail\"\n  };\n  this.player = player;\n  this.adStartTimeout = adStartTimeout || 5000;\n  this.containerEl = createVPAIDContainerEl(player);\n  this.options = {\n    adStartTimeout: adStartTimeout || 5000,\n    responseTimeout: 2000,\n    VPAID_VERSION: {\n      full: '2.0',\n      major: 2,\n      minor: 0\n    }\n  };\n\n  /*** Local functions ***/\n\n  function createVPAIDContainerEl() {\n    var containerEl = document.createElement('div');\n    dom.addClass(containerEl, 'VPAID-container');\n    player.el().insertBefore(containerEl, player.controlBar.el());\n    return containerEl;\n\n  }\n}\n\n//List of supported VPAID technologies\nVPAIDIntegrator.techs = [\n  VPAIDFlashTech\n];\n\nVPAIDIntegrator.prototype.playAd = function playVPaidAd(vastResponse, callback) {\n  var that = this;\n  var tech, adStartTimeoutId;\n  var player = this.player;\n\n  callback = callback || noop;\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('on VASTIntegrator.playAd, missing required VASTResponse'));\n  }\n\n  adStartTimeoutId = setTimeout(function () {\n    var error = new VASTError('on VPAIDIntegrator, timeout while waiting for the ad to start');\n    callback(error);\n    callback = noop;\n    removeAdUnit(error);\n  }, this.adStartTimeout);\n\n  tech = this._findSupportedTech(vastResponse);\n  dom.addClass(player.el(), 'vjs-vpaid-ad');\n\n  if (tech) {\n    async.waterfall([\n      function (next) {\n        next(null, tech, vastResponse);\n      },\n      this._loadAdUnit.bind(this),\n      this._playAdUnit.bind(this),\n      clearAdStartTimeout,\n      this._finishPlaying.bind(this)\n\n    ], function (error, adUnit, vastResponse) {\n      removeAdUnit(error);\n\n      callback(error, vastResponse);\n    });\n  } else {\n    callback(new VASTError('on VPAIDIntegrator.playAd, could not find a supported mediaFile'));\n  }\n  /*** Local functions ***/\n\n  function clearAdStartTimeout(adUnit, vastResponse, next) {\n    clearTimeout(adStartTimeoutId);\n    adStartTimeoutId = null;\n    next(null, adUnit, vastResponse);\n  }\n\n  function removeAdUnit(error) {\n    if (error) {\n      that._trackError(vastResponse);\n      player.trigger('vast.aderror');\n    }\n\n    tech.unloadAdUnit();\n    dom.removeClass(player.el(), 'vjs-vpaid-ad');\n    player.trigger('VPAID-adfinished');\n  }\n};\n\nVPAIDIntegrator.prototype._findSupportedTech = function (vastResponse) {\n  if (!(vastResponse instanceof VASTResponse)) {\n    return null;\n  }\n\n  var vpaidMediaFiles = vastResponse.mediaFiles.filter(vastUtil.isVPAID);\n  var i, len, mediaFile, VPAIDTech;\n\n  for (i = 0, len = vpaidMediaFiles.length; i < len; i += 1) {\n    mediaFile = vpaidMediaFiles[i];\n    VPAIDTech = findSupportedTech(mediaFile);\n    if (VPAIDTech) {\n      return new VPAIDTech(mediaFile);\n    }\n  }\n\n  return null;\n\n  /*** Local functions ***/\n\n  function findSupportedTech(mediafile) {\n    var type = mediafile.type;\n    var i, len, VPAIDTech;\n\n    for (i = 0, len = VPAIDIntegrator.techs.length; i < len; i += 1) {\n      VPAIDTech = VPAIDIntegrator.techs[i];\n      if (VPAIDTech.supports(type)) {\n        return VPAIDTech;\n      }\n    }\n    return null;\n  }\n};\n\nVPAIDIntegrator.prototype._loadAdUnit = function (tech, vastResponse, next) {\n  tech.loadAdUnit(this.containerEl, function (error, adUnit) {\n    next(error, new VPAIDAdUnitWrapper(adUnit, {src: tech.mediaFile.src}), vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._playAdUnit = function (adUnit, vastResponse, callback) {\n  async.waterfall([\n    function (next) {\n      next(null, adUnit, vastResponse);\n    },\n    this._handshake.bind(this),\n    this._initAd.bind(this),\n    this._setupEvents.bind(this),\n    this._linkPlayerControls.bind(this),\n    this._startAd.bind(this)\n  ], callback);\n};\n\nVPAIDIntegrator.prototype._handshake = function handshake(adUnit, vastResponse, next) {\n  adUnit.handshakeVersion('2.0', function (error, version) {\n    if (error) {\n      return next(error, adUnit, vastResponse);\n    }\n\n    if (version && isSupportedVersion(version)) {\n      return next(null, adUnit, vastResponse);\n    }\n\n    return next(new VASTError('on VPAIDIntegrator._handshake, unsupported version \"' + version + '\"'), adUnit, vastResponse);\n  });\n\n  function isSupportedVersion(version) {\n    var majorNum = major(version);\n    return majorNum >= 1 && majorNum <= 2;\n  }\n\n  function major(version) {\n    var parts = version.split('.');\n    return parseInt(parts[0], 10);\n  }\n};\n\nVPAIDIntegrator.prototype._initAd = function (adUnit, vastResponse, next) {\n  var dimension = dom.getDimension(this.player.el());\n  adUnit.initAd(dimension.width, dimension.height, this.VIEW_MODE.NORMAL, -1, vastResponse.adParameters || '', function (error) {\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._setupEvents = function (adUnit, vastResponse, next) {\n  var adUnitSrc = adUnit.options.src;\n  var tracker = new VASTTracker(adUnitSrc, vastResponse);\n  var player = this.player;\n\n  adUnit.on('AdSkipped', function () {\n    tracker.trackSkip();\n  });\n\n  adUnit.on('AdImpression', function () {\n    tracker.trackImpressions();\n  });\n\n  adUnit.on('AdVideoStart', function () {\n    tracker.trackStart();\n  });\n\n  adUnit.on('AdVideoFirstQuartile', function () {\n    tracker.trackFirstQuartile();\n  });\n\n  adUnit.on('AdVideoMidpoint', function () {\n    tracker.trackMidpoint();\n  });\n\n  adUnit.on('AdVideoThirdQuartile', function () {\n    tracker.trackThirdQuartile();\n  });\n\n  adUnit.on('AdVideoComplete', function () {\n    tracker.trackComplete();\n  });\n\n  adUnit.on('AdClickThru', function () {\n    tracker.trackClick();\n  });\n\n  adUnit.on('AdUserAcceptInvitation', function () {\n    tracker.trackAcceptInvitation();\n    tracker.trackAcceptInvitationLinear();\n  });\n\n  adUnit.on('AdUserClose', function () {\n    tracker.trackClose();\n    tracker.trackCloseLinear();\n  });\n\n  adUnit.on('AdPaused', function () {\n    tracker.trackPause();\n  });\n\n  adUnit.on('AdUserMinimize', function () {\n    tracker.trackCollapse();\n  });\n\n  adUnit.on('AdError', function () {\n    //NOTE: we track errors code 901, as noted in VAST 3.0\n    tracker.trackErrorWithCode(901);\n  });\n\n  adUnit.on('AdPlaying', function () {\n    //NOTE: we track errors code 901, as noted in VAST 3.0\n    tracker.trackResume();\n  });\n\n  adUnit.on('AdVolumeChange', function () {\n    var lastVolume = player.volume();\n    adUnit.getAdVolume(function (currentVolume) {\n      if (currentVolume == 0 && lastVolume > 0) {\n        tracker.trackMute();\n      }\n\n      if (currentVolume > 0 && lastVolume == 0) {\n        tracker.trackUnmute();\n      }\n\n      player.volume(currentVolume);\n    });\n  });\n\n  next(null, adUnit, vastResponse);\n};\n\n\nVPAIDIntegrator.prototype._linkPlayerControls = function (adUnit, vastResponse, next) {\n  linkVolumeControl(this.player, adUnit);\n  linkFullScreenControl(this.player, adUnit, this.VIEW_MODE);\n\n  next(null, adUnit, vastResponse);\n\n  /*** Local functions ***/\n  function linkVolumeControl(player, adUnit) {\n    player.on('volumechange', updateAdUnitVolume);\n    adUnit.on('AdVolumeChange', updatePlayerVolume);\n\n    player.on('VPAID-adfinished', function() {\n      player.off('volumechange', updateAdUnitVolume);\n    });\n\n\n    /*** local functions ***/\n    function updateAdUnitVolume() {\n      var vol = player.muted() ? 0 : player.volume();\n      adUnit.setAdVolume(vol, logError);\n    }\n\n    function updatePlayerVolume() {\n      adUnit.getAdVolume(function (error, vol) {\n        if (error) {\n          logError(error);\n        } else {\n          player.volume(vol);\n        }\n      });\n    }\n  }\n\n  function linkFullScreenControl(player, adUnit, VIEW_MODE) {\n    player.on('fullscreenchange', updateViewSize);\n    \n    player.on('VPAID-adfinished', function() {\n      player.off('fullscreenchange', updateViewSize);\n    });\n\n    /*** local functions ***/\n    function updateViewSize() {\n      var dimension = dom.getDimension(player.el());\n      var MODE = player.isFullscreen()? VIEW_MODE.FULLSCREEN: VIEW_MODE.NORMAL;\n      adUnit.resizeAd(dimension.width, dimension.height, MODE, logError);\n    }\n  }\n\n  function logError(error) {\n    if (error && console && console.log) {\n      console.log('ERROR: ' + error.message, error);\n    }\n  }\n};\n\nVPAIDIntegrator.prototype._startAd = function (adUnit, vastResponse, next) {\n  var player = this.player;\n\n  adUnit.startAd(function (error) {\n    if(!error) {\n      player.trigger('vast.adstart');\n    }\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._finishPlaying = function (adUnit, vastResponse, next) {\n  adUnit.on('AdVideoComplete', function () {\n    next(null, adUnit, vastResponse);\n  });\n\n  adUnit.on('AdError', function () {\n    next(new VASTError('on VPAIDIntegrator, error while waiting for the adUnit to finish playing'), adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._trackError = function trackError(response) {\n  vastUtil.track(response.errorURLMacros, {ERRORCODE: 901});\n};\n\n","function Ad(adJTree) {\n  if (!(this instanceof Ad)) {\n    return new Ad(adJTree);\n  }\n\n  this.id = adJTree.attr('id');\n  this.sequence = adJTree.attr('sequence');\n\n  if(adJTree.inLine) {\n    this.inLine = new InLine(adJTree.inLine);\n  }\n\n  if(adJTree.wrapper){\n    this.wrapper = new Wrapper(adJTree.wrapper);\n  }\n}","\nfunction Creative(creativeJTree) {\n  if(!(this instanceof Creative)) {\n    return new Creative(creativeJTree);\n  }\n\n  this.id = creativeJTree.attr('id');\n  this.sequence = creativeJTree.attr('sequence');\n  this.adId = creativeJTree.attr('adId');\n  this.apiFramework = creativeJTree.attr('apiFramework');\n\n  if(creativeJTree.linear) {\n    this.linear = new Linear(creativeJTree.linear);\n  }\n}","function InLine(inlineJTree) {\n  if (!(this instanceof InLine)) {\n    return new InLine(inlineJTree);\n  }\n\n  //Required Fields\n  this.adTitle = xml.keyValue(inlineJTree.adTitle);\n  this.adSystem = xml.keyValue(inlineJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(inlineJTree.impression);\n  this.creatives = vastUtil.parseCreatives(inlineJTree.creatives);\n\n  //Optional Fields\n  this.description = xml.keyValue(inlineJTree.description);\n  this.advertiser = xml.keyValue(inlineJTree.advertiser);\n  this.surveys = parseSurveys(inlineJTree.survey);\n  this.error = xml.keyValue(inlineJTree.error);\n  this.pricing = xml.keyValue(inlineJTree.pricing);\n  this.extensions = inlineJTree.extensions;\n\n  /*** Local Functions ***/\n  function parseSurveys(inlineSurveys) {\n    if (inlineSurveys) {\n      return transformArray(isArray(inlineSurveys) ? inlineSurveys : [inlineSurveys], function (survey) {\n        if(isNotEmptyString(survey.keyValue)){\n          return {\n            uri: survey.keyValue,\n            type: survey.attr('type')\n          };\n        }\n\n        return undefined;\n      });\n    }\n    return [];\n  }\n}","function Linear(linearJTree) {\n  if (!(this instanceof Linear)) {\n    return new Linear(linearJTree);\n  }\n\n  //Required Elements\n  this.duration = vastUtil.parseDuration(xml.keyValue(linearJTree.duration));\n  this.mediaFiles = parseMediaFiles(linearJTree.mediaFiles && linearJTree.mediaFiles.mediaFile);\n\n  //Optional fields\n  this.trackingEvents = parseTrackingEvents(linearJTree.trackingEvents && linearJTree.trackingEvents.tracking, this.duration);\n  this.skipoffset = vastUtil.parseOffset(xml.attr(linearJTree, 'skipoffset'), this.duration);\n\n  if (linearJTree.videoClicks) {\n    this.videoClicks = new VideoClicks(linearJTree.videoClicks);\n  }\n  \n  if(linearJTree.adParameters) {\n    this.adParameters = xml.decode(xml.keyValue(linearJTree.adParameters));\n  }\n\n  /*** Local functions ***/\n  function parseTrackingEvents(trackingEvents, duration) {\n    var trackings = [];\n    if (isDefined(trackingEvents)) {\n      trackingEvents = isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach(function (trackingData) {\n        trackings.push(new TrackingEvent(trackingData, duration))\n      });\n    }\n    return trackings;\n  }\n\n  function parseMediaFiles(mediaFilesJxonTree) {\n    var mediaFiles = [];\n    if (isDefined(mediaFilesJxonTree)) {\n      mediaFilesJxonTree = isArray(mediaFilesJxonTree) ? mediaFilesJxonTree : [mediaFilesJxonTree];\n\n      mediaFilesJxonTree.forEach(function (mfData) {\n        mediaFiles.push(new MediaFile(mfData))\n      });\n    }\n    return mediaFiles;\n  }\n}","function MediaFile(mediaFileJTree) {\n  if (!(this instanceof MediaFile)) {\n    return new MediaFile(mediaFileJTree);\n  }\n\n  //Required attributes\n  this.src = xml.keyValue(mediaFileJTree);\n  this.delivery = mediaFileJTree.attr('delivery');\n  this.type = mediaFileJTree.attr('type');\n  this.width = mediaFileJTree.attr('width');\n  this.height = mediaFileJTree.attr('height');\n\n  //Optional attributes\n  this.codec = mediaFileJTree.attr('codec');\n  this.id = mediaFileJTree.attr('id');\n  this.bitrate = mediaFileJTree.attr('bitrate');\n  this.minBitrate = mediaFileJTree.attr('minBitrate');\n  this.maxBitrate = mediaFileJTree.attr('maxBitrate');\n  this.scalable = mediaFileJTree.attr('scalable');\n  this.maintainAspectRatio = mediaFileJTree.attr('maintainAspectRatio');\n  this.apiFramework = mediaFileJTree.attr('apiFramework');\n}","function TrackingEvent(trackingJTree, duration) {\n  if (!(this instanceof TrackingEvent)) {\n    return new TrackingEvent(trackingJTree, duration);\n  }\n\n  this.name = trackingJTree.attr('event');\n  this.uri = xml.keyValue(trackingJTree);\n\n  if('progress' === this.name) {\n    this.offset = vastUtil.parseOffset(trackingJTree.attr('offset'), duration);\n  }\n}\n","function VASTClient(options) {\n  if (!(this instanceof VASTClient)) {\n    return new VASTClient(options);\n  }\n  var defaultOptions = {\n    WRAPPER_LIMIT: 5\n  };\n\n  options = options || {};\n  this.settings = extend({}, options, defaultOptions);\n  this.errorURLMacros = [];\n}\n\nVASTClient.prototype.getVASTResponse = function getVASTResponse(url, callback) {\n  var that = this;\n\n  //We reset the errorURLMacros before doing anything.\n  this.errorURLMacros = [];\n\n  async.waterfall([\n      this._getAd.bind(this, url),\n      buildVASTResponse\n    ],\n    this._sendVASTResponse(callback));\n\n  /*** Local functions ***/\n  function buildVASTResponse(adsChain, cb) {\n    try {\n      var response = that._buildVASTResponse(adsChain);\n      cb(null, response);\n    } catch (e) {\n      cb(e);\n    }\n  }\n};\n\nVASTClient.prototype._sendVASTResponse = function sendVASTResponse(callback) {\n  var that = this;\n  callback = callback || noop;\n\n  return function (error, response) {\n    if (error) {\n      vastUtil.track(that.errorURLMacros, {ERRORCODE: error.code || 900});  //900 <== Undefined error\n    }\n    callback(error, response);\n  };\n};\n\nVASTClient.prototype._getAd = function getVASTAd(url, callback) {\n  var error;\n  var that = this;\n  var options = isObject(url) && !isNull(url) ? url : {url: url};\n  options.ads = options.ads || [];\n  error = sanityCheck(options, callback);\n  if (error) {\n    if (isFunction(callback)) {\n      return callback(error, null);\n    }\n    throw error;\n  }\n\n  async.waterfall([\n    requestVASTXml,\n    buildAd\n  ], callback);\n\n  /*** local function ***/\n  function sanityCheck(opts, cb) {\n    if (!isString(opts.url)) {\n      return new VASTError('on VASTClient._getAd, missing video tag URL');\n    }\n\n    if (!isFunction(cb)) {\n      return new VASTError('on VASTClient._getAd, missing callback function');\n    }\n\n    if (opts.ads.length >= that.WRAPPER_LIMIT) {\n      return new VASTError(\"on VASTClient._getAd, players wrapper limit reached (the limit is \" + that.WRAPPER_LIMIT + \")\", 302);\n    }\n  }\n\n  function requestVASTXml(callback) {\n    that._requestVASTXml(options.url, callback);\n  }\n\n  function buildAd(adXML, callback) {\n    var adTree;\n    try {\n      adTree = that._buildVastTree(adXML);\n      getValidAd(adTree.ads, options.ads, callback)\n    } catch (e) {\n      callback(e);\n    }\n\n    /*** local Functions  ***/\n    function getValidAd(possibleAds, previousAds, callback) {\n      getAd(possibleAds.shift(), previousAds, function (error, adChain) {\n        if (error) {\n          if (possibleAds.length > 0) {\n            return getValidAd(possibleAds, previousAds, callback);\n          }\n          return callback(error);\n        }\n        callback(null, adChain);\n      });\n    }\n\n    function getAd(adTree, previousAds, callback) {\n      try {\n        var ad = that._buildAd(adTree);\n\n        if (ad.wrapper) {\n          return getNextAd(ad, previousAds, callback);\n        }\n        return callback(null, previousAds.concat(ad));\n      } catch (e) {\n        callback(e);\n      }\n    }\n\n    function getNextAd(ad, previousAds, callback) {\n      return that._getAd({\n        url: ad.wrapper.VASTAdTagURI,\n        ads: previousAds.concat(ad)\n      }, callback);\n    }\n  }\n};\n\nVASTClient.prototype._requestVASTXml = function requestVASTXml(url, callback) {\n  http.get(url, function (error, response, status){\n    if(error) {\n      return callback(new VASTError(\"on VASTClient.requestVastXML, HTTP request error with status '\" + status + \"'\", 301));\n    }\n    callback(null, response);\n  });\n};\n\nVASTClient.prototype._buildVastTree = function buildVastTree(xmlStr) {\n  var vastTree, vastVersion;\n\n  try {\n    vastTree = xml.toJXONTree(xmlStr);\n    vastVersion = xml.attr(vastTree, 'version');\n    vastTree.ads = isArray(vastTree.ad) ? vastTree.ad : [vastTree.ad];\n\n  } catch (e) {\n    throw new VASTError(\"on VASTClient.buildVastTree, error parsing xml\", 100);\n  }\n\n  if (!vastTree.ad) {\n    throw new VASTError('on VASTClient.buildVastTree, no Ad in VAST tree', 303);\n  }\n\n  if(vastVersion && (vastVersion != 3 && vastVersion != 2)){\n    throw new VASTError('on VASTClient.buildVastTree, not supported VAST version \"'+vastVersion+'\"', 102)\n  }\n\n  return vastTree;\n\n};\n\nVASTClient.prototype._buildAd = function buildAd(adJxonTree) {\n  var ad;\n  var that = this;\n\n  try {\n    ad = new Ad(adJxonTree);\n  } catch (e) {\n    throw new VASTError('on VASTClient._buildAd, ' + e.message, 900);\n  }\n\n  addErrorUrlMacros(ad);\n  validateAd(ad);\n\n  return ad;\n  /*** Local Functions ***/\n\n  function addErrorUrlMacros(ad) {\n    if(ad.wrapper && ad.wrapper.error) {\n      that.errorURLMacros.push(ad.wrapper.error);\n    }\n\n    if(ad.inLine && ad.inLine.error){\n      that.errorURLMacros.push(ad.inLine.error);\n    }\n  }\n\n  function validateAd(ad) {\n    var wrapper = ad.wrapper;\n    var inLine = ad.inLine;\n\n    if (inLine && wrapper) {\n      throw new VASTError('on VASTClient._buildAd, InLine and Wrapper both found on the same Ad', 101);\n    }\n\n    if (!inLine && !wrapper) {\n      throw new VASTError('on VASTClient._buildAd, nor wrapper nor inline elements found on the Ad', 101);\n    }\n\n    if (inLine) {\n      if (inLine.creatives.length === 0) {\n        throw new VASTError(\"on VASTClient._buildAd, missing creative in InLine element\", 101);\n      }\n    }\n\n    if (wrapper) {\n      if (!wrapper.VASTAdTagURI) {\n        throw new VASTError(\"on VASTClient._buildAd, missing 'VASTAdTagURI' in wrapper\", 101);\n      }\n    }\n  }\n};\n\nVASTClient.prototype._buildVASTResponse = function buildVASTResponse(adsChain) {\n  var response = new VASTResponse();\n  addAdsToResponse(response, adsChain);\n  validateResponse(response);\n\n  return response;\n\n  //*** Local function ****\n  function addAdsToResponse(response, ads) {\n    ads.forEach(function (ad) {\n      response.addAd(ad);\n    });\n  }\n\n  function validateResponse(response) {\n    var progressEvents = response.trackingEvents.progress;\n\n    if(!response.hasLinear()){\n      throw new VASTError(\"on VASTClient._buildVASTResponse, Received an Ad type that is not supported\", 200);\n    }\n\n    if (!response.duration) {\n      throw new VASTError(\"on VASTClient._buildVASTResponse, Missing duration field in VAST response\", 101);\n    }\n\n    if (progressEvents) {\n      if (progressEvents.length > 1) {\n        throw new VASTError(\"on VASTClient._buildVASTResponse, found more than one progress tracking event in VAST response\", 101);\n      }\n\n      if (!isNumber(progressEvents[0].offset)) {\n        throw new VASTError(\"on VASTClient._buildVASTResponse, missing offset attribute on progress tracking event\", 101);\n      }\n    }\n  }\n};\n","var VAST = {};\n\nfunction VASTError(message, code) {\n  this.message = 'VAST Error: ' + (message || '');\n  if (code) {\n    this.code = code;\n  }\n}\n\nVASTError.prototype = new Error();\nVASTError.prototype.name = \"VAST Error\";","/**\n * Inner helper class that deals with the logic of the individual steps needed to setup an ad in the player.\n *\n * @param player {object} instance of the player that will play the ad. It assumes that the videojs-contrib-ads plugin\n *                        has been initialized when you use its utility functions.\n * @param adStartTimeout Indicates in ms. how much time to wait for the ad to start playing before canceling the ad.\n *\n * @constructor\n */\nfunction VASTIntegrator(player, adStartTimeout) {\n  if (!(this instanceof VASTIntegrator)) {\n    return new VASTIntegrator(player, adStartTimeout);\n  }\n\n  this.player = player;\n  this.adStartTimeout = adStartTimeout || 5000;\n}\n\nVASTIntegrator.prototype.playAd = function playAd(vastResponse, callback) {\n  var that = this;\n  callback = callback || noop;\n\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('On VASTIntegrator, missing required VASTResponse'));\n  }\n\n  async.waterfall([\n    function (next) {\n      next(null, vastResponse);\n    },\n    this._selectAdSource.bind(this),\n    this._createVASTTracker.bind(this),\n    this._addClickThrough.bind(this),\n    this._addSkipButton.bind(this),\n    this._setupEvents.bind(this),\n    this._playSelectedAd.bind(this)\n  ], function (error, response) {\n    if (error && response) {\n      that._trackError(error, response);\n    }\n    callback(error, response);\n  });\n};\n\nVASTIntegrator.prototype._selectAdSource = function selectAdSource(response, callback) {\n  var source = this.player.selectSource(response.mediaFiles).source;\n  if (source) {\n    return callback(null, source, response);\n  }\n\n  // code 403 <== Couldn't find MediaFile that is supported by this video player\n  callback(new VASTError(\"Could not find Ad mediafile supported by this player\", 403), response);\n};\n\nVASTIntegrator.prototype._createVASTTracker = function createVASTTracker(adMediaFile, response, callback) {\n  try {\n    callback(null, adMediaFile, new VASTTracker(adMediaFile.src, response), response);\n  } catch (e) {\n    callback(e, response);\n  }\n};\n\nVASTIntegrator.prototype._setupEvents = function setupEvents(adMediaFile, tracker, response, callback) {\n  var previouslyMuted;\n  var player = this.player;\n  player.on('fullscreenchange', trackFullscreenChange);\n  player.on('vast.adstart', trackImpressions);\n  player.on('pause', trackPause);\n  player.on('timeupdate', trackProgress);\n  player.on('volumechange', trackVolumeChange);\n\n  player.one('vast.adend', function () {\n    tracker.trackComplete();\n    player.off('fullscreenchange', trackFullscreenChange);\n    player.off('vast.adstart', trackImpressions);\n    player.off('pause', trackPause);\n    player.off('timeupdate', trackProgress);\n    player.off('volumechange', trackVolumeChange);\n  });\n\n  //NOTE: Pending tracking events skip, close, closeLinear, expand, collapse and creativeView. See VAST implementation\n\n  return callback(null, adMediaFile, response);\n\n  /*** Local Functions ***/\n\n  function trackFullscreenChange() {\n    if (player.isFullscreen()) {\n      tracker.trackFullscreen();\n    } else {\n      tracker.trackExitFullscreen();\n    }\n  }\n\n  function trackPause() {\n    tracker.trackPause();\n    player.one('play', function () {\n      tracker.trackResume();\n    });\n  }\n\n  function trackProgress() {\n    var currentTimeInMs = player.currentTime() * 1000;\n    tracker.trackProgress(currentTimeInMs);\n  }\n\n  function trackImpressions() {\n    tracker.trackImpressions();\n  }\n\n  function trackVolumeChange() {\n    var muted = player.muted();\n    if (muted) {\n      tracker.trackMute();\n    } else if (previouslyMuted) {\n      tracker.trackUnmute();\n    }\n    previouslyMuted = muted;\n  }\n};\n\nVASTIntegrator.prototype._addSkipButton = function addSkipButton(source, tracker, response, callback) {\n  var skipOffsetInSec;\n\n  if (isNumber(response.skipoffset)) {\n    skipOffsetInSec = response.skipoffset / 1000;\n    addSkipButtonToPlayer(this.player, skipOffsetInSec);\n  }\n  callback(null, source, tracker, response);\n\n  /*** Local function ***/\n  function addSkipButtonToPlayer(player, skipOffset) {\n    var skipButton = createSkipButton(player);\n    var updateSkipButton = updateSkipButtonState.bind(this, skipButton, skipOffset, player);\n\n    player.el().appendChild(skipButton);\n    player.on('timeupdate', updateSkipButton);\n\n    player.one('vast.adend', removeSkipButton);\n    player.one('vast.aderror', removeSkipButton);\n\n    function removeSkipButton() {\n      player.off('timeupdate', updateSkipButton);\n      dom.remove(skipButton);\n    }\n  }\n\n  function createSkipButton(player) {\n    var skipButton = window.document.createElement(\"div\");\n    dom.addClass(skipButton, \"vast-skip-button\");\n\n    skipButton.onclick = function (e) {\n      if (dom.hasClass(skipButton, 'enabled')) {\n        tracker.trackSkip();\n        player.trigger('ended');//We trigger the end of the ad playing\n      }\n\n      //We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation !== undefined) {\n        e.stopPropagation();\n      } else {\n        return false;\n      }\n    };\n\n    return skipButton;\n  }\n\n  function updateSkipButtonState(skipButton, skipOffset, player) {\n    var timeLeft = Math.ceil(skipOffset - player.currentTime());\n    if (timeLeft > 0) {\n      skipButton.innerHTML = \"Skip in \" + toFixedDigits(timeLeft, 2) + \"...\";\n    } else {\n      if (!dom.hasClass(skipButton, 'enabled')) {\n        dom.addClass(skipButton, 'enabled');\n        skipButton.innerHTML = \"Skip ad\";\n      }\n    }\n  }\n};\n\nVASTIntegrator.prototype._addClickThrough = function addClickThrough(mediaFile, tracker, response, callback) {\n  var player = this.player;\n  var blocker = createClickThroughBlocker(player, tracker, response);\n  var updateBlocker = updateBlockerURL.bind(this, blocker, response, player);\n\n  player.el().insertBefore(blocker, player.controlBar.el());\n  player.on('timeupdate', updateBlocker);\n  player.one('vast.adend', removeBlocker);\n  player.one('vast.aderror', removeBlocker);\n\n  return callback(null, mediaFile, tracker, response);\n\n  /*** Local Functions ***/\n\n  function createClickThroughBlocker(player, tracker, response) {\n    var blocker = window.document.createElement(\"a\");\n    var clickThroughMacro = response.clickThrough;\n\n    dom.addClass(blocker, 'vast-blocker');\n    blocker.href = generateClickThroughURL(clickThroughMacro, player);\n\n    if (isString(clickThroughMacro)) {\n      blocker.target = \"_blank\";\n    }\n\n    blocker.onclick = function (e) {\n      if (player.paused()) {\n        player.play();\n\n        //We prevent event propagation to avoid problems with the player's normal pause mechanism\n        if (window.Event.prototype.stopPropagation !== undefined) {\n          e.stopPropagation();\n        }\n        return false;\n      }\n\n      player.pause();\n      tracker.trackClick();\n    };\n\n    return blocker;\n  }\n\n  function updateBlockerURL(blocker, response, player) {\n    blocker.href = generateClickThroughURL(response.clickThrough, player);\n  }\n\n  function generateClickThroughURL(clickThroughMacro, player) {\n    var variables = {\n      ASSETURI: mediaFile.src,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(player.currentTime() * 1000)\n    };\n\n    return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : '#';\n  }\n\n   function removeBlocker(){\n     player.off('timeupdate', updateBlocker);\n     dom.remove(blocker);\n   }\n};\n\nVASTIntegrator.prototype._playSelectedAd = function playSelectedAd(source, response, callback) {\n  var player = this.player;\n  var adStartTimeoutID;\n\n  player.src(source);\n\n  adStartTimeoutID = setTimeout(function () {\n    player.off('durationchange', playAd);\n    player.off('ended', finishPlayingAd);\n    player.off('error', handlePlayerError);\n    callback(new VASTError(\"on VASTIntegrator, timeout while waiting for the video to start playing\", 402), response);\n  }, this.adStartTimeout);\n\n  player.one('durationchange', playAd);\n  player.one('ended', finishPlayingAd);\n  player.one('error', handlePlayerError);\n\n  /**** local functions ******/\n  function playAd() {\n    if (isDefined(adStartTimeoutID)) {\n      window.clearTimeout(adStartTimeoutID);\n    }\n    player.play();\n    player.trigger('vast.adstart');\n  }\n\n  function finishPlayingAd() {\n    player.off('error', handlePlayerError);\n    player.trigger('vast.adend');\n    callback(null, response);\n  }\n\n  function handlePlayerError() {\n    player.off('durationchange', playAd);\n    player.off('ended', finishPlayingAd);\n    callback(new VASTError(\"on VASTIntegrator, Player is unable to play the Ad \", 400), response);\n  }\n};\n\nVASTIntegrator.prototype._trackError = function trackError(error, response) {\n  vastUtil.track(response.errorURLMacros, {ERRORCODE: error.code || 900});\n};\n","function VASTTracker(assetURI, vastResponse) {\n  if (!(this instanceof VASTTracker)) {\n    return new VASTTracker(assetURI, vastResponse);\n  }\n\n  sanityCheck(assetURI, vastResponse);\n  this.response = vastResponse;\n  this.assetURI = assetURI;\n  this.progress = 0;\n  this.quartiles = {\n    firstQuartile: Math.round(25 * vastResponse.duration) / 100,\n    midpoint: Math.round(50 * vastResponse.duration) / 100,\n    thirdQuartile: Math.round(75 * vastResponse.duration) / 100\n  };\n\n  /*** Local Functions ***/\n  function sanityCheck(assetURI, vastResponse) {\n    if (!isString(assetURI) || isEmptyString(assetURI)) {\n      throw new VASTError('on VASTTracker constructor, missing required the URI of the ad asset being played');\n    }\n\n    if (!(vastResponse instanceof VASTResponse)) {\n      throw new VASTError('on VASTTracker constructor, missing required VAST response');\n    }\n  }\n}\n\nVASTTracker.prototype.trackURLs = function trackURLs(urls, variables) {\n  if (isArray(urls) && urls.length > 0) {\n    variables = extend({\n      ASSETURI: this.assetURI,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(this.progress)\n    }, variables || {});\n\n    vastUtil.track(urls, variables);\n  }\n};\n\nVASTTracker.prototype.trackEvent = function trackEvent(eventName, trackOnce) {\n  this.trackURLs(getEventUris(this.response.trackingEvents[eventName]));\n  if (trackOnce) {\n    this.response.trackingEvents[eventName] = undefined;\n  }\n\n  /*** Local function ***/\n  function getEventUris(trackingEvents) {\n    var uris;\n\n    if (trackingEvents) {\n      uris = [];\n      trackingEvents.forEach(function (event) {\n        uris.push(event.uri)\n      });\n    }\n    return uris;\n  }\n};\n\nVASTTracker.prototype.trackProgress = function trackProgress(newProgress) {\n  var events = [];\n  var ONCE = true;\n  var ALWAYS = false;\n  var trackingEvents = this.response.trackingEvents;\n\n  if (isNumber(newProgress)) {\n    addTrackEvent('start', ONCE, newProgress > 0);\n    addTrackEvent('rewind', ALWAYS, this.progress > newProgress);\n    addQuartileEvents.call(this, newProgress);\n    addProgressEvent.call(this, newProgress);\n    trackEvents.call(this);\n    this.progress = newProgress;\n  }\n\n  /*** Local function ***/\n  function addTrackEvent(eventName, trackOnce, canBeAdded) {\n    if (trackingEvents[eventName] && canBeAdded) {\n      events.push({\n        name: eventName,\n        trackOnce: !!trackOnce\n      });\n    }\n  }\n\n  function addQuartileEvents(progress) {\n    forEach(this.quartiles, function (quartileTime, eventName) {\n      //We only fire the quartile event if the progress is bigger than the quartile time by one second at most.\n      addTrackEvent(eventName, ONCE, progress >= quartileTime && progress <= (quartileTime + 1000))\n    });\n  }\n\n  function addProgressEvent(progress) {\n    var progressEvent = trackingEvents.progress && trackingEvents.progress[0];\n    if (progressEvent) {\n      addTrackEvent('progress', ONCE, progressEvent.offset <= progress);\n    }\n  }\n\n  function trackEvents() {\n    events.forEach(function (event) {\n      this.trackEvent(event.name, event.trackOnce);\n    }, this);\n  }\n};\n\n[\n  'start',\n  'rewind',\n  'fullscreen',\n  'exitFullscreen',\n  'complete',\n  'pause',\n  'resume',\n  'close',\n  'closeLinear',\n  'skip',\n  'mute',\n  'unmute',\n  'firstQuartile',\n  'midpoint',\n  'thirdQuartile',\n  'acceptInvitation',\n  'acceptInvitationLinear',\n  'collapse',\n  'expand'\n].forEach(function (eventName) {\n    VASTTracker.prototype['track' + capitalize(eventName)] = function () {\n      this.trackEvent(eventName);\n    };\n  });\n\nVASTTracker.prototype.trackErrorWithCode = function trackErrorWithCode(errorcode) {\n  if (isNumber(errorcode)) {\n    this.trackURLs(this.response.errorURLMacros, {ERRORCODE: errorcode});\n  }\n};\n\nVASTTracker.prototype.trackImpressions = function trackImpressions() {\n  this.trackURLs(this.response.impressions);\n};\n\nVASTTracker.prototype.trackClick = function trackClick() {\n  this.trackURLs(this.response.clickTrackings);\n};\n","function VideoClicks(videoClickJTree) {\n  if (!(this instanceof VideoClicks)) {\n    return new VideoClicks(videoClickJTree);\n  }\n\n  this.clickThrough = xml.keyValue(videoClickJTree.clickThrough);\n  this.clickTrackings = parseClickTrackings(videoClickJTree.clickTracking);\n  this.customClicks = parseClickTrackings(videoClickJTree.customClick);\n\n  /*** Local functions ***/\n  function parseClickTrackings(trackingData) {\n    var clickTrackings = [];\n    if (trackingData) {\n      trackingData = isArray(trackingData) ? trackingData : [trackingData];\n      trackingData.forEach(function (clickTrackingData) {\n        clickTrackings.push(xml.keyValue(clickTrackingData));\n      });\n    }\n    return clickTrackings;\n  }\n}","function Wrapper(wrapperJTree) {\n  if(!(this instanceof Wrapper)) {\n    return new Wrapper(wrapperJTree);\n  }\n\n  //Required elements\n  this.adSystem = xml.keyValue(wrapperJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(wrapperJTree.impression);\n  this.VASTAdTagURI = xml.keyValue(wrapperJTree.vASTAdTagURI);\n\n  //Optional elements\n  this.creatives = vastUtil.parseCreatives(wrapperJTree.creatives);\n  this.error = xml.keyValue(wrapperJTree.error);\n  this.extensions = wrapperJTree.extensions;\n\n  //Optional attrs\n  this.followAdditionalWrappers = isDefined(xml.attr(wrapperJTree, 'followAdditionalWrappers'))? xml.attr(wrapperJTree, 'followAdditionalWrappers'): true;\n  this.allowMultipleAds = xml.attr(wrapperJTree, 'allowMultipleAds');\n  this.fallbackOnNoAd = xml.attr(wrapperJTree, 'fallbackOnNoAd');\n}\n\n\n","/**\n There is a bug on android 4.2 ont the way it parses string\n The code bellow fixes the problem if there is a problem\n */\n(function () {\n var parseNum;\n if(parseInt('09') !== 9) {\n  parseNum = window.parseInt;\n  window.parseInt = function(str) {\n   if(typeof str === 'string' && !/^(\\s+)?0+(\\s+)?$/.test(str)){\n    //We remove the 0 from the left of the number\n    return parseNum(str.replace(/^0+/, ''));\n   }\n\n   return parseNum(str)\n  };\n }\n})();","(function(factory){\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define('videojs-contrib-ads', ['videojs'], function(vjs){factory(window, document, vjs);});\n    } else if (typeof exports === 'object' && typeof module === 'object') {\n        factory(window, document, require('video.js'));\n    } else {\n        factory(window, document, videojs);\n    }\n})\n/**\n * Basic Ad support plugin for video.js.\n *\n * Common code to support ad integrations.\n */\n(function(window, document, vjs, undefined) {\n\"use strict\";\n\nvar\n\n  /**\n   * Copies properties from one or more objects onto an original.\n   */\n  extend = function(obj /*, arg1, arg2, ... */) {\n    var arg, i, k;\n    for (i=1; i<arguments.length; i++) {\n      arg = arguments[i];\n      for (k in arg) {\n        if (arg.hasOwnProperty(k)) {\n          obj[k] = arg[k];\n        }\n      }\n    }\n    return obj;\n  },\n\n  /**\n   * Add a handler for multiple listeners to an object that supports addEventListener() or on().\n   *\n   * @param {object} obj The object to which the handler will be assigned.\n   * @param {mixed} events A string, array of strings, or hash of string/callback pairs.\n   * @param {function} callback Invoked when specified events occur, if events param is not a hash.\n   *\n   * @return {object} obj The object passed in.\n   */\n  on = function(obj, events, handler) {\n\n    var\n\n      type = Object.prototype.toString.call(events),\n\n      register = function(obj, event, handler) {\n        if (obj.addEventListener) {\n          obj.addEventListener(event, handler);\n        } else if (obj.on) {\n          obj.on(event, handler);\n        } else if (obj.attachEvent) {\n          obj.attachEvent('on' + event, handler);\n        } else {\n          throw new Error('object has no mechanism for adding event listeners');\n        }\n      },\n\n      i,\n      ii;\n\n    switch (type) {\n      case '[object String]':\n        register(obj, events, handler);\n        break;\n      case '[object Array]':\n        for (i = 0, ii = events.length; i<ii; i++) {\n          register(obj, events[i], handler);\n        }\n        break;\n      case '[object Object]':\n        for (i in events) {\n          if (events.hasOwnProperty(i)) {\n            register(obj, i, events[i]);\n          }\n        }\n        break;\n      default:\n        throw new Error('Unrecognized events parameter type: ' + type);\n    }\n\n    return obj;\n\n  },\n\n  /**\n   * Runs the callback at the next available opportunity.\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/window.setImmediate\n   */\n  setImmediate = function(callback) {\n    return (\n      window.setImmediate ||\n      window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.setTimeout\n    )(callback, 0);\n  },\n\n  /**\n   * Clears a callback previously registered with `setImmediate`.\n   * @param {id} id The identifier of the callback to abort\n   */\n  clearImmediate = function(id) {\n    return (window.clearImmediate ||\n            window.cancelAnimationFrame ||\n            window.webkitCancelAnimationFrame ||\n            window.mozCancelAnimationFrame ||\n            window.clearTimeout)(id);\n  },\n\n  /**\n   * If ads are not playing, pauses the player at the next available\n   * opportunity. Has no effect if ads have started. This function is necessary\n   * because pausing a video element while processing a `play` event on iOS can\n   * cause the video element to continuously toggle between playing and paused\n   * states.\n   *\n   * @param {object} player The video player\n   */\n  cancelContentPlay = function(player) {\n    if (player.ads.cancelPlayTimeout) {\n      // another cancellation is already in flight, so do nothing\n      return;\n    }\n    player.ads.cancelPlayTimeout = setImmediate(function() {\n      // deregister the cancel timeout so subsequent cancels are scheduled\n      player.ads.cancelPlayTimeout = null;\n\n      // pause playback so ads can be handled.\n      if (!player.paused()) {\n        player.pause();\n      }\n\n      // add a contentplayback handler to resume playback when ads finish.\n      player.one('contentplayback', function() {\n        if (player.paused()) {\n          player.play();\n        }\n      });\n    });\n  },\n\n  /**\n   * Returns an object that captures the portions of player state relevant to\n   * video playback. The result of this function can be passed to\n   * restorePlayerSnapshot with a player to return the player to the state it\n   * was in when this function was invoked.\n   * @param {object} player The videojs player object\n   */\n  getPlayerSnapshot = function(player) {\n    var\n      tech = player.el().querySelector('.vjs-tech'),\n      tracks = player.remoteTextTracks ? player.remoteTextTracks() : [],\n      track,\n      i,\n      suppressedTracks = [],\n      snapshot = {\n        src: player.currentSrc(),\n        currentTime: player.currentTime(),\n        type: player.currentType()\n      };\n\n    if (tech) {\n      snapshot.nativePoster = tech.poster;\n      snapshot.style = tech.getAttribute('style');\n    }\n\n    i = tracks.length;\n    while (i--) {\n      track = tracks[i];\n      suppressedTracks.push({\n        track: track,\n        mode: track.mode\n      });\n      track.mode = 'disabled';\n    }\n    snapshot.suppressedTracks = suppressedTracks;\n\n    return snapshot;\n  },\n\n  removeClass = function(element, className) {\n    var\n      classes = element.className.split(/\\s+/),\n      i = classes.length,\n      newClasses = [];\n    while (i--) {\n      if (classes[i] !== className) {\n        newClasses.push(classes[i]);\n      }\n    }\n    element.className = newClasses.join(' ');\n  },\n\n  /**\n   * Attempts to modify the specified player so that its state is equivalent to\n   * the state of the snapshot.\n   * @param {object} snapshot - the player state to apply\n   */\n  restorePlayerSnapshot = function(player, snapshot) {\n    var\n      // the playback tech\n      tech = player.el().querySelector('.vjs-tech'),\n\n      // the number of remaining attempts to restore the snapshot\n      attempts = 20,\n\n      suppressedTracks = snapshot.suppressedTracks,\n      trackSnapshot,\n      restoreTracks =  function() {\n        var i = suppressedTracks.length;\n        while (i--) {\n          trackSnapshot = suppressedTracks[i];\n          trackSnapshot.track.mode = trackSnapshot.mode;\n        }\n      },\n\n      // finish restoring the playback state\n      resume = function() {\n        player.currentTime(snapshot.currentTime);\n        //If this wasn't a postroll resume\n        if (!player.ended()) {\n          player.play();\n        }\n      },\n\n      // determine if the video element has loaded enough of the snapshot source\n      // to be ready to apply the rest of the state\n      tryToResume = function() {\n        if (tech.seekable === undefined) {\n          // if the tech doesn't expose the seekable time ranges, try to\n          // resume playback immediately\n          resume();\n          return;\n        }\n        if (tech.seekable.length > 0) {\n          // if some period of the video is seekable, resume playback\n          resume();\n          return;\n        }\n\n        // delay a bit and then check again unless we're out of attempts\n        if (attempts--) {\n          setTimeout(tryToResume, 50);\n        }\n      },\n\n      // whether the video element has been modified since the\n      // snapshot was taken\n      srcChanged;\n\n    if (snapshot.nativePoster) {\n      tech.poster = snapshot.nativePoster;\n    }\n\n    if ('style' in snapshot) {\n      // overwrite all css style properties to restore state precisely\n      tech.setAttribute('style', snapshot.style || '');\n    }\n\n    // Determine whether the player needs to be restored to its state\n    // before ad playback began. With a custom ad display or burned-in\n    // ads, the content player state hasn't been modified and so no\n    // restoration is required\n\n    if (player.src()) {\n      // the player was in src attribute mode before the ad and the\n      // src attribute has not been modified, no restoration is required\n      // to resume playback\n      srcChanged = player.src() !== snapshot.src;\n    } else {\n      // the player was configured through source element children\n      // and the currentSrc hasn't changed, no restoration is required\n      // to resume playback\n      srcChanged = player.currentSrc() !== snapshot.src;\n    }\n\n    if (srcChanged) {\n      // on ios7, fiddling with textTracks too early will cause it safari to crash\n      player.one('loadedmetadata', restoreTracks);\n\n      // if the src changed for ad playback, reset it\n      player.src({ src: snapshot.src, type: snapshot.type });\n      // safari requires a call to `load` to pick up a changed source\n      player.load();\n      // and then resume from the snapshots time once the original src has loaded\n      player.one('loadedmetadata', tryToResume);\n    } else if (!player.ended()) {\n      // if we didn't change the src, just restore the tracks\n      restoreTracks();\n\n      // the src didn't change and this wasn't a postroll\n      // just resume playback at the current time.\n      player.play();\n    }\n  },\n\n  /**\n   * Remove the poster attribute from the video element tech, if present. When\n   * reusing a video element for multiple videos, the poster image will briefly\n   * reappear while the new source loads. Removing the attribute ahead of time\n   * prevents the poster from showing up between videos.\n   * @param {object} player The videojs player object\n   */\n  removeNativePoster = function(player) {\n    var tech = player.el().querySelector('.vjs-tech');\n    if (tech) {\n      tech.removeAttribute('poster');\n    }\n  },\n\n  // ---------------------------------------------------------------------------\n  // Ad Framework\n  // ---------------------------------------------------------------------------\n\n  // default framework settings\n  defaults = {\n    // maximum amount of time in ms to wait to receive `adsready` from the ad\n    // implementation after play has been requested. Ad implementations are\n    // expected to load any dynamic libraries and make any requests to determine\n    // ad policies for a video during this time.\n    timeout: 5000,\n\n    // maximum amount of time in ms to wait for the ad implementation to start\n    // linear ad mode after `readyforpreroll` has fired. This is in addition to\n    // the standard timeout.\n    prerollTimeout: 100,\n\n    // when truthy, instructs the plugin to output additional information about\n    // plugin state to the video.js log. On most devices, the video.js log is\n    // the same as the developer console.\n    debug: false\n  },\n\n  adFramework = function(options) {\n    var\n      player = this,\n\n      // merge options and defaults\n      settings = extend({}, defaults, options || {}),\n\n      fsmHandler;\n\n    // replace the ad initializer with the ad namespace\n    player.ads = {\n      state: 'content-set',\n\n      startLinearAdMode: function() {\n        player.trigger('adstart');\n      },\n\n      endLinearAdMode: function() {\n        player.trigger('adend');\n      }\n    };\n\n    fsmHandler = function(event) {\n      // Ad Playback State Machine\n      var\n        fsm = {\n          'content-set': {\n            events: {\n              'adscanceled': function() {\n                this.state = 'content-playback';\n              },\n              'adsready': function() {\n                this.state = 'ads-ready';\n              },\n              'play': function() {\n                this.state = 'ads-ready?';\n                cancelContentPlay(player);\n                // remove the poster so it doesn't flash between videos\n                removeNativePoster(player);\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ads-ready': {\n            events: {\n              'play': function() {\n                this.state = 'preroll?';\n                cancelContentPlay(player);\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'preroll?': {\n            enter: function() {\n              // change class to show that we're waiting on ads\n              player.el().className += ' vjs-ad-loading';\n              // schedule an adtimeout event to fire if we waited too long\n              player.ads.timeout = window.setTimeout(function() {\n                player.trigger('adtimeout');\n              }, settings.prerollTimeout);\n              // signal to ad plugin that it's their opportunity to play a preroll\n              player.trigger('readyforpreroll');\n            },\n            leave: function() {\n              window.clearTimeout(player.ads.timeout);\n              removeClass(player.el(), 'vjs-ad-loading');\n            },\n            events: {\n              'play': function() {\n                cancelContentPlay(player);\n              },\n              'adstart': function() {\n                this.state = 'ad-playback';\n                player.el().className += ' vjs-ad-playing';\n              },\n              'adtimeout': function() {\n                this.state = 'content-playback';\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ads-ready?': {\n            enter: function() {\n              player.el().className += ' vjs-ad-loading';\n              player.ads.timeout = window.setTimeout(function() {\n                player.trigger('adtimeout');\n              }, settings.timeout);\n            },\n            leave: function() {\n              window.clearTimeout(player.ads.timeout);\n              removeClass(player.el(), 'vjs-ad-loading');\n            },\n            events: {\n              'play': function() {\n                cancelContentPlay(player);\n              },\n              'adscanceled': function() {\n                this.state = 'content-playback';\n              },\n              'adsready': function() {\n                this.state = 'preroll?';\n              },\n              'adtimeout': function() {\n                this.state = 'content-playback';\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'ad-playback': {\n            enter: function() {\n              // capture current player state snapshot (playing, currentTime, src)\n              this.snapshot = getPlayerSnapshot(player);\n              // remove the poster so it doesn't flash between videos\n              removeNativePoster(player);\n              // We no longer need to supress play events once an ad is playing.\n              // Clear it if we were.\n              if (player.ads.cancelPlayTimeout) {\n                clearImmediate(player.ads.cancelPlayTimeout);\n                player.ads.cancelPlayTimeout = null;\n              }\n            },\n            leave: function() {\n              removeClass(player.el(), 'vjs-ad-playing');\n              restorePlayerSnapshot(player, this.snapshot);\n              if (fsm.triggerevent !== 'adend') {\n                //trigger 'adend' as a consistent notification\n                //event that we're exiting ad-playback.\n                player.trigger('adend');\n              }\n            },\n            events: {\n              'adend': function() {\n                this.state = 'content-playback';\n              },\n              'adserror': function() {\n                this.state = 'content-playback';\n              }\n            }\n          },\n          'content-playback': {\n            enter: function() {\n              // make sure that any cancelPlayTimeout is cleared\n              if (player.ads.cancelPlayTimeout) {\n                clearImmediate(player.ads.cancelPlayTimeout);\n                player.ads.cancelPlayTimeout = null;\n              }\n              // this will cause content to start if a user initiated\n              // 'play' event was canceled earlier.\n              player.trigger({\n                type: 'contentplayback',\n                triggerevent: fsm.triggerevent\n              });\n            },\n            events: {\n              // in the case of a timeout, adsready might come in late.\n              'adsready': function() {\n                player.trigger('readyforpreroll');\n              },\n              'adstart': function() {\n                this.state = 'ad-playback';\n                player.el().className += ' vjs-ad-playing';\n                // remove the poster so it doesn't flash between videos\n                removeNativePoster(player);\n              },\n              'contentupdate': function() {\n                if (player.paused()) {\n                  this.state = 'content-set';\n                } else {\n                  this.state = 'ads-ready?';\n                }\n              }\n            }\n          }\n        };\n\n      (function(state) {\n        var noop = function() {};\n\n        // process the current event with a noop default handler\n        (fsm[state].events[event.type] || noop).apply(player.ads);\n\n        // execute leave/enter callbacks if present\n        if (state !== player.ads.state) {\n          fsm.triggerevent = event.type;\n          (fsm[state].leave || noop).apply(player.ads);\n          (fsm[player.ads.state].enter || noop).apply(player.ads);\n          if (settings.debug) {\n            videojs.log('ads', fsm.triggerevent + ' triggered: ' + state + ' -> ' + player.ads.state);\n          }\n        }\n\n      })(player.ads.state);\n\n    };\n\n    // register for the events we're interested in\n    on(player, vjs.Html5.Events.concat([\n      // events emitted by ad plugin\n      'adtimeout',\n      'contentupdate',\n      // events emitted by third party ad implementors\n      'adsready',\n      'adserror',\n      'adscanceled',\n      'adstart',  // startLinearAdMode()\n      'adend'     // endLinearAdMode()\n    ]), fsmHandler);\n\n    // keep track of the current content source\n    // if you want to change the src of the video without triggering\n    // the ad workflow to restart, you can update this variable before\n    // modifying the player's source\n    player.ads.contentSrc = player.currentSrc();\n\n    // implement 'contentupdate' event.\n    (function(){\n      var\n        // check if a new src has been set, if so, trigger contentupdate\n        checkSrc = function() {\n          var src;\n          if (player.ads.state !== 'ad-playback') {\n            src = player.currentSrc();\n            if (src !== player.ads.contentSrc) {\n              player.trigger({\n                type: 'contentupdate',\n                oldValue: player.ads.contentSrc,\n                newValue: src\n              });\n              player.ads.contentSrc = src;\n            }\n          }\n        };\n      // loadstart reliably indicates a new src has been set\n      player.on('loadstart', checkSrc);\n      // check immediately in case we missed the loadstart\n      setImmediate(checkSrc);\n    })();\n\n    // kick off the fsm\n    if (!player.paused()) {\n      // simulate a play event if we're autoplaying\n      fsmHandler({type:'play'});\n    }\n\n  };\n\n  // register the ad plugin framework\n  vjs.plugin('ads', adFramework);\n\n});\n","//Small subset of async\nvar async = {};\n\nasync.setImmediate = function (fn) {\n  setTimeout(fn, 0);\n};\n\nasync.iterator = function (tasks) {\n  var makeCallback = function (index) {\n    var fn = function () {\n      if (tasks.length) {\n        tasks[index].apply(null, arguments);\n      }\n      return fn.next();\n    };\n    fn.next = function () {\n      return (index < tasks.length - 1) ? makeCallback(index + 1) : null;\n    };\n    return fn;\n  };\n  return makeCallback(0);\n};\n\n\nasync.waterfall = function (tasks, callback) {\n  callback = callback || function () { };\n  if (!isArray(tasks)) {\n    var err = new Error('First argument to waterfall must be an array of functions');\n    return callback(err);\n  }\n  if (!tasks.length) {\n    return callback();\n  }\n  var wrapIterator = function (iterator) {\n    return function (err) {\n      if (err) {\n        callback.apply(null, arguments);\n        callback = function () {\n        };\n      }\n      else {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var next = iterator.next();\n        if (next) {\n          args.push(wrapIterator(next));\n        }\n        else {\n          args.push(callback);\n        }\n        async.setImmediate(function () {\n          iterator.apply(null, args);\n        });\n      }\n    };\n  };\n  wrapIterator(async.iterator(tasks))();\n};\n\nasync.when = function (condition, callback) {\n  if (!isFunction(callback)) {\n    throw new Error(\"async.when error: missing callback argument\");\n  }\n\n  var isAllowed = isFunction(condition) ? condition : function () {\n    return !!condition;\n  };\n\n  return function () {\n    var args = arrayLikeObjToArray(arguments);\n    var next = args.pop();\n\n    if (isAllowed.apply(null, args)) {\n      return callback.apply(this, arguments);\n    }\n\n    args.unshift(null);\n    return next.apply(null, args);\n  };\n};\n\n\n","\"use strict\";\n\nvar dom = {};\n\ndom.isVisible = function isVisible(el) {\n  var style = window.getComputedStyle(el);\n  return style.visibility !== 'hidden';\n};\n\ndom.isHidden = function isHidden(el) {\n  var style = window.getComputedStyle(el);\n  return style.display === 'none';\n};\n\ndom.isShown = function isShown(el) {\n  return !dom.isHidden(el);\n};\n\ndom.hide = function hide(el) {\n  el.__prev_style_display_ = el.style.display;\n  el.style.display = 'none';\n};\n\ndom.show = function show(el) {\n  if (dom.isHidden(el)) {\n    el.style.display = el.__prev_style_display_;\n  }\n  el.__prev_style_display_ = undefined;\n};\n\ndom.hasClass = function hasClass(el, cssClass) {\n  var classes, i, len;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.contains(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    cssClass = (cssClass || '');\n\n    for (i = 0, len = classes.length; i < len; i += 1) {\n      if (classes[i] === cssClass) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndom.addClass = function (el, cssClass) {\n  var classes;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.add(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    if (isString(cssClass) && isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n      classes.push(cssClass);\n      el.setAttribute('class', classes.join(' '));\n    }\n  }\n};\n\ndom.removeClass = function (el, cssClass) {\n  var classes;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.remove(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    var newClasses = [];\n    var i, len;\n    if (isString(cssClass) && isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n\n      for (i = 0, len = classes.length; i < len; i += 1) {\n        if (cssClass !== classes[i]) {\n          newClasses.push(classes[i]);\n        }\n      }\n      el.setAttribute('class', newClasses.join(' '));\n    }\n  }\n};\n\ndom.addEventListener = function addEventListener(el, type, handler) {\n  if(isArray(el)){\n    forEach(el, function(e) {\n      dom.addEventListener(e, type, handler);\n    });\n    return;\n  }\n\n  if(isArray(type)){\n    forEach(type, function(t) {\n      dom.addEventListener(el, t, handler);\n    });\n    return;\n  }\n\n  if (el.addEventListener) {\n    el.addEventListener(type, handler, false);\n  } else if (el.attachEvent) {\n    // WARNING!!! this is a very naive implementation !\n    // the event object that should be passed to the handler\n    // would not be there for IE8\n    // we should use \"window.event\" and then \"event.srcElement\"\n    // instead of \"event.target\"\n    el.attachEvent(\"on\" + type, handler);\n  }\n};\n\ndom.removeEventListener = function removeEventListener(el, type, handler) {\n  if(isArray(el)){\n    forEach(el, function(e) {\n      dom.removeEventListener(e, type, handler);\n    });\n    return;\n  }\n\n  if(isArray(type)){\n    forEach(type, function(t) {\n      dom.removeEventListener(el, t, handler);\n    });\n    return;\n  }\n\n  if (el.removeEventListener) {\n    el.removeEventListener(type, handler, false);\n  } else if (el.detachEvent) {\n    el.detachEvent(\"on\" + type, handler);\n  } else {\n    el[\"on\" + type] = null;\n  }\n};\n\ndom.dispatchEvent = function dispatchEvent(el, event) {\n  if (el.dispatchEvent) {\n    el.dispatchEvent(event);\n  } else {\n    el.fireEvent(\"on\" + event.eventType, event);\n  }\n};\n\ndom.isDescendant = function isDescendant(parent, child) {\n  var node = child.parentNode;\n  while (node != null) {\n    if (node == parent) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n  return false;\n};\n\ndom.getTextContent = function getTextContent(el){\n  return el.textContent || el.text;\n};\n\ndom.prependChild = function prependChild(parent, child) {\n  if(child.parentNode){\n    child.parentNode.removeChild(child);\n  }\n  return parent.insertBefore(child, parent.firstChild);\n};\n\ndom.remove = function removeNode(node){\n  if(node && node.parentNode){\n    node.parentNode.removeChild(node);\n  }\n};\n\ndom.isDomElement = function isDomElement(o) {\n  return o instanceof Element;\n};\n\ndom.click = function(el, handler) {\n  dom.addEventListener(el, 'click', handler);\n};\n\ndom.once = function(el, type, handler) {\n  function handlerWrap() {\n    handler.apply(null, arguments);\n    dom.removeEventListener(el, type, handlerWrap);\n  }\n\n  dom.addEventListener(el, type, handlerWrap);\n};\n\n\n\n//Note: there is no getBoundingClientRect on iPad so we need a fallback\ndom.getDimension = function getDimension(element) {\n  var rect;\n\n  if(element.getBoundingClientRect) {\n    rect = element.getBoundingClientRect();\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  return {\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  }\n};\n","var xml = {};\n\nxml.strToXMLDoc = function strToXMLDoc(stringContainingXMLSource){\n  //IE 8\n  if(!DOMParser){\n    var xmlDocument = new ActiveXObject('Microsoft.XMLDOM');\n    xmlDocument.async = false;\n    xmlDocument.loadXML(stringContainingXMLSource);\n    return xmlDocument;\n  }\n\n  return parseString(stringContainingXMLSource);\n\n  function parseString(stringContainingXMLSource){\n    var parser = new DOMParser();\n    var parsedDocument;\n\n    //Note: This try catch is to deal with the fact that on IE parser.parseFromString does throw an error but the rest of the browsers don't.\n    try {\n      parsedDocument = parser.parseFromString(stringContainingXMLSource, \"application/xml\");\n\n      if(isParseError(parsedDocument) || isEmptyString(stringContainingXMLSource)){\n        throw new Error();\n      }\n    }catch(e){\n      throw new Error(\"xml.strToXMLDOC: Error parsing the string: '\" + stringContainingXMLSource + \"'\");\n    }\n\n    return parsedDocument;\n  }\n\n  function isParseError(parsedDocument) {\n    try { // parser and parsererrorNS could be cached on startup for efficiency\n      var parser = new DOMParser(),\n        errorneousParse = parser.parseFromString('INVALID', 'text/xml'),\n        parsererrorNS = errorneousParse.getElementsByTagName(\"parsererror\")[0].namespaceURI;\n\n      if (parsererrorNS === 'http://www.w3.org/1999/xhtml') {\n        // In PhantomJS the parseerror element doesn't seem to have a special namespace, so we are just guessing here :(\n        return parsedDocument.getElementsByTagName(\"parsererror\").length > 0;\n      }\n\n      return parsedDocument.getElementsByTagNameNS(parsererrorNS, 'parsererror').length > 0;\n    } catch (e) {\n      //Note on IE parseString throws an error by itself and it will never reach this code. Because it will have failed before\n    }\n  }\n};\n\nxml.parseText = function parseText (sValue) {\n  if (/^\\s*$/.test(sValue)) { return null; }\n  if (/^(?:true|false)$/i.test(sValue)) { return sValue.toLowerCase() === \"true\"; }\n  if (isFinite(sValue)) { return parseFloat(sValue); }\n  if (isISO8601(sValue)) { return new Date(sValue); }\n  return sValue.trim();\n};\n\nxml.JXONTree = function JXONTree (oXMLParent) {\n  var parseText = xml.parseText;\n\n  //The document object is an especial object that it may miss some functions or attrs depending on the browser.\n  //To prevent this problem with create the JXONTree using the root childNode which is a fully fleshed node on all supported\n  //browsers.\n  if(oXMLParent.documentElement){\n    return new xml.JXONTree(oXMLParent.documentElement);\n  }\n\n  if (oXMLParent.hasChildNodes()) {\n    var sCollectedTxt = \"\";\n    for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n      oNode = oXMLParent.childNodes.item(nItem);\n      if ((oNode.nodeType - 1 | 1) === 3) { sCollectedTxt += oNode.nodeType === 3 ? oNode.nodeValue.trim() : oNode.nodeValue; }\n      else if (oNode.nodeType === 1 && !oNode.prefix) {\n        sProp = decapitalize(oNode.nodeName);\n        vContent = new xml.JXONTree(oNode);\n        if (this.hasOwnProperty(sProp)) {\n          if (this[sProp].constructor !== Array) { this[sProp] = [this[sProp]]; }\n          this[sProp].push(vContent);\n        } else { this[sProp] = vContent; }\n      }\n    }\n    if (sCollectedTxt) { this.keyValue = parseText(sCollectedTxt); }\n  }\n\n  if (oXMLParent.hasAttributes()) {\n    var oAttrib;\n    for (var nAttrib = 0; nAttrib < oXMLParent.attributes.length; nAttrib++) {\n      oAttrib = oXMLParent.attributes.item(nAttrib);\n      this[\"@\" + decapitalize(oAttrib.name)] = parseText(oAttrib.value.trim());\n    }\n  }\n};\n\nxml.JXONTree.prototype.attr = function(attr) {\n  return this['@' + decapitalize(attr)];\n};\n\nxml.toJXONTree = function toJXONTree(xmlString){\n  var xmlDoc = xml.strToXMLDoc(xmlString);\n  return new xml.JXONTree(xmlDoc);\n};\n\n/**\n * Helper function to extract the keyvalue of a JXONTree obj\n *\n * @param xmlObj {JXONTree}\n * return the key value or undefined;\n */\nxml.keyValue = function getKeyValue(xmlObj) {\n  if(xmlObj){\n    return xmlObj.keyValue;\n  }\n  return undefined;\n};\n\nxml.attr = function getAttrValue(xmlObj, attr) {\n  if(xmlObj) {\n    return xmlObj['@' + decapitalize(attr)];\n  }\n  return undefined;\n};\n\nxml.encode = function encodeXML(str) {\n  return str.replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&apos;');\n};\n\nxml.decode = function decodeXML(str) {\n  return str.replace(/&apos;/g, \"'\")\n    .replace(/&quot;/g, '\"')\n    .replace(/&gt;/g, '>')\n    .replace(/&lt;/g, '<')\n    .replace(/&amp;/g, '&');\n};","vjs.AdsLabel = vjs.Component.extend({\n  /** @constructor */\n  init: function (player, options) {\n    vjs.Component.call(this, player, options);\n\n    var that = this;\n\n    // We asynchronously reposition the ads label element\n    setTimeout(function () {\n      var currentTimeComp = player.controlBar && player.controlBar.getChild(\"currentTimeDisplay\");\n      if(currentTimeComp) {\n        player.controlBar.el().insertBefore(that.el(), currentTimeComp.el());\n      }\n\n      dom.removeClass(that.el(), 'vjs-label-hidden');\n    }, 0);\n  }\n});\n\nvjs.AdsLabel.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-ads-label vjs-control vjs-label-hidden',\n    innerHTML: 'Advertisement'\n  });\n};","vjs.plugin('vast', function VASTPlugin(options) {\n  var player = this;\n  var vast = new VASTClient();\n\n  var defaultOpts = {\n    // maximum amount of time in ms to wait to receive `adsready` from the ad\n    // implementation after play has been requested. Ad implementations are\n    // expected to load any dynamic libraries and make any requests to determine\n    // ad policies for a video during this time.\n    timeout: 5000,\n\n    // maximum amount of time in ms to wait for the ad implementation to start\n    // linear ad mode after `readyforpreroll` has fired.\n    // if this timeout triggers the player will start playing the video but it will\n    // play the ad whenever is ready (i.e. the ads are not cancelled they are deferred).\n    prerollTimeout: 500,\n\n    // maximun amount of time for the ad to actually start playing. If this timeout gets\n    // triggered the ads will be cancelled\n    adCancelTimeout: 3000,\n\n    // Boolean flag that configures the player to play a new ad before the user sees the video again\n    // the current video\n    playAdAlways: false,\n\n    // Flag to enable or disable the ads by default.\n    adsEnabled: true\n  };\n\n  var settings = extend({}, defaultOpts, options || {});\n\n  if (isString(settings.url)) {\n    settings.url = echoFn(settings.url);\n  }\n\n  if (!isDefined(settings.url)) {\n    return trackAdError(new VASTError('on VideoJS VAST plugin, missing url on options object'));\n  }\n\n  player.ads(settings); // initialize the ad framework\n\n  player.on('play', function () {\n    if(player.ads.state === 'preroll?'){\n      addSpinnerIcon();\n\n      if (!player.paused()) {\n        player.pause();\n      }\n\n      player.on('vast.adstart', removeSpinnerIcon);\n      player.on('vast.aderror', removeSpinnerIcon);\n    }\n\n    /*** Local functions ***/\n    function addSpinnerIcon() {\n      dom.addClass(player.el(), 'vjs-vast-ad-loading');\n    }\n\n    function removeSpinnerIcon() {\n      //IMPORTANT NOTE: We remove the spinnerIcon asynchronously to give time to the browser to start the video.\n      // If we remove it synchronously we see a flash of the content video before the ad starts playing.\n      setTimeout(function() {\n        dom.removeClass(player.el(), 'vjs-vast-ad-loading');\n        player.off('vast.adstart', removeSpinnerIcon);\n        player.off('vast.aderror', removeSpinnerIcon);\n      }, 0);\n    }\n  });\n\n  // request ads whenever there's new video content\n  player.on('contentupdate', initAds);\n\n  player.on('readyforpreroll', function () {\n    async.waterfall([\n      getVastResponse,\n      playAd,\n      finishPlayingAd\n    ], function (error, response) {\n      if (error) {\n        trackAdError(error, response);\n      }\n\n      if (settings.playAdAlways) {\n        // No matter what happens we play a new ad before the user sees the video again.\n        player.one('ended', function () {\n          player.trigger('contentupdate');\n        });\n      }\n    });\n  });\n\n  // 'initAds' needs to be called after all the event listeners have been registered for the ads to play with 'autoplay'\n  initAds();\n\n  return {\n    isEnabled: function () {\n      return settings.adsEnabled;\n    },\n\n    enable: function () {\n      settings.adsEnabled = true;\n      initAds();\n    },\n\n    disable: function () {\n      settings.adsEnabled = false;\n      initAds();\n    }\n  };\n\n  /**** Local functions ****/\n  function initAds() {\n    if (settings.adsEnabled) {\n      player.trigger('adsready');\n    } else {\n      cancelAds();\n    }\n  }\n\n  function cancelAds() {\n    // We trigger 'adscanceled' to cancel the ads if they are in 'content-set' or 'ads-read?' state\n    player.trigger('adscanceled');\n    //We trigger 'adserror' to cancel the ads if they are in 'adsready' or 'preroll?' or 'ad-playback' state\n    player.trigger('adserror');\n  }\n\n  function getVastResponse(callback) {\n    vast.getVASTResponse(settings.url(), callback);\n  }\n\n  function playAd(vastResponse, callback) {\n    var adIntegrator = isVPAID(vastResponse) ? new VPAIDIntegrator(player, options.adCancelTimeout) : new VASTIntegrator(player, options.adCancelTimeout);\n    player.ads.startLinearAdMode();\n    adIntegrator.playAd(vastResponse, callback);\n    player.controlBar.addChild('AdsLabel');\n  }\n\n  function finishPlayingAd(vastResponse, callback) {\n    player.ads.endLinearAdMode();\n    player.controlBar.removeChild('AdsLabel');\n    callback(null, vastResponse);\n  }\n\n  function trackAdError(error, vastResponse) {\n    player.trigger({type: 'vast.aderror', error: error});\n    cancelAds();\n    if (console && console.log) {\n      console.log('AD ERROR:', error.message, error, vastResponse);\n    }\n  }\n\n  function isVPAID(vastResponse) {\n    var i, len;\n    var mediaFiles = vastResponse.mediaFiles;\n    for (i = 0, len = mediaFiles.length; i < len; i++) {\n      if (vastUtil.isVPAID(mediaFiles[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n});\n","(function (window) {\n  \"use strict\";\n\n\n  function VASTResponse() {\n    if (!(this instanceof VASTResponse)) {\n      return new VASTResponse();\n    }\n\n    this._linearAdded = false;\n    this.ads = [];\n    this.errorURLMacros = [];\n    this.impressions = [];\n    this.clickTrackings = [];\n    this.customClicks = [];\n    this.trackingEvents = {};\n    this.mediaFiles = [];\n    this.clickThrough = undefined;\n    this.adTitle = '';\n    this.duration = undefined;\n    this.skipoffset = undefined;\n  }\n\n  VASTResponse.prototype.addAd = function (ad) {\n    var inLine, wrapper;\n\n    if (ad instanceof Ad) {\n      inLine = ad.inLine;\n      wrapper = ad.wrapper;\n\n      this.ads.push(ad);\n\n      if (inLine) {\n        this._addInLine(inLine);\n      }\n\n      if (wrapper) {\n        this._addWrapper(wrapper)\n      }\n    }\n  };\n\n  VASTResponse.prototype._addErrorTrackUrl = function (error) {\n    var errorURL = error instanceof xml.JXONTree ? xml.keyValue(error) : error;\n    if (errorURL) {\n      this.errorURLMacros.push(errorURL);\n    }\n  };\n\n  VASTResponse.prototype._addImpressions = function (impressions) {\n    isArray(impressions) && appendToArray(this.impressions, impressions);\n  };\n\n  VASTResponse.prototype._addClickThrough = function (clickThrough) {\n    if (isNotEmptyString(clickThrough)) {\n      this.clickThrough = clickThrough;\n    }\n  };\n\n  VASTResponse.prototype._addClickTrackings = function (clickTrackings) {\n    isArray(clickTrackings) && appendToArray(this.clickTrackings, clickTrackings);\n  };\n\n  VASTResponse.prototype._addCustomClicks = function (customClicks) {\n    isArray(customClicks) && appendToArray(this.customClicks, customClicks);\n  };\n\n  VASTResponse.prototype._addTrackingEvents = function (trackingEvents) {\n    var eventsMap = this.trackingEvents;\n\n    if (trackingEvents) {\n      trackingEvents = isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach(function (trackingEvent) {\n        if (!eventsMap[trackingEvent.name]) {\n          eventsMap[trackingEvent.name] = [];\n        }\n        eventsMap[trackingEvent.name].push(trackingEvent);\n      });\n    }\n  };\n\n  VASTResponse.prototype._addTitle = function (title) {\n    if (isNotEmptyString(title)) {\n      this.adTitle = title;\n    }\n  };\n\n  VASTResponse.prototype._addDuration = function (duration) {\n    if (isNumber(duration)) {\n      this.duration = duration;\n    }\n  };\n\n  VASTResponse.prototype._addVideoClicks = function (videoClicks) {\n    if (videoClicks instanceof VideoClicks) {\n      this._addClickThrough(videoClicks.clickThrough);\n      this._addClickTrackings(videoClicks.clickTrackings);\n      this._addCustomClicks(videoClicks.customClicks);\n    }\n  };\n\n  VASTResponse.prototype._addMediaFiles = function (mediaFiles) {\n    isArray(mediaFiles) && appendToArray(this.mediaFiles, mediaFiles);\n  };\n\n  VASTResponse.prototype._addSkipoffset = function (offset) {\n    if (offset) {\n      this.skipoffset = offset;\n    }\n  };\n\n  VASTResponse.prototype._addAdParameters = function (adParameters) {\n    if (adParameters) {\n      this.adParameters = adParameters;\n    }\n  };\n\n  VASTResponse.prototype._addLinear = function (linear) {\n    if (linear instanceof Linear) {\n      this._addDuration(linear.duration);\n      this._addTrackingEvents(linear.trackingEvents);\n      this._addVideoClicks(linear.videoClicks);\n      this._addMediaFiles(linear.mediaFiles);\n      this._addSkipoffset(linear.skipoffset);\n      this._addAdParameters(linear.adParameters);\n      this._linearAdded = true;\n    }\n  };\n\n  VASTResponse.prototype._addInLine = function (inLine) {\n    var that = this;\n\n    if (inLine instanceof InLine) {\n      this._addTitle(inLine.adTitle);\n      this._addErrorTrackUrl(inLine.error);\n      this._addImpressions(inLine.impressions);\n\n      inLine.creatives.forEach(function (creative) {\n        if (creative.linear) {\n          that._addLinear(creative.linear);\n        }\n      });\n    }\n  };\n\n  VASTResponse.prototype._addWrapper = function (wrapper) {\n    var that = this;\n\n    if (wrapper instanceof Wrapper) {\n      this._addErrorTrackUrl(wrapper.error);\n      this._addImpressions(wrapper.impressions);\n\n      wrapper.creatives.forEach(function (creative) {\n        var linear = creative.linear;\n        if (linear) {\n          that._addVideoClicks(linear.videoClicks);\n          that.clickThrough = undefined;//We ensure that no clickThrough has been added\n          that._addTrackingEvents(linear.trackingEvents);\n        }\n      });\n    }\n  };\n\n  VASTResponse.prototype.hasLinear = function(){\n    return this._linearAdded;\n  };\n\n  function appendToArray(array, items) {\n    items.forEach(function (item) {\n      array.push(item);\n    });\n  }\n\n  window.VASTResponse = VASTResponse;\n})(window);\n","\"use strict\";\n\nvar vastUtil = {\n\n  track: function track(URLMacros, variables) {\n    var sources = vastUtil.parseURLMacros(URLMacros, variables);\n    var trackImgs = [];\n    sources.forEach(function (src) {\n      var img = new Image();\n      img.src = src;\n      trackImgs.push(img);\n    });\n    return trackImgs;\n  },\n\n  parseURLMacros: function parseMacros(URLMacros, variables) {\n    var parsedURLs = [];\n\n    variables = variables || {};\n\n    if (!(variables[\"CACHEBUSTING\"])) {\n      variables[\"CACHEBUSTING\"] = Math.round(Math.random() * 1.0e+10);\n    }\n\n    URLMacros.forEach(function (URLMacro) {\n      parsedURLs.push(vastUtil._parseURLMacro(URLMacro, variables));\n    });\n\n    return parsedURLs;\n  },\n\n  parseURLMacro: function parseMacro(URLMacro, variables) {\n    variables = variables || {};\n\n    if (!(variables[\"CACHEBUSTING\"])) {\n      variables[\"CACHEBUSTING\"] = Math.round(Math.random() * 1.0e+10);\n    }\n\n    return vastUtil._parseURLMacro(URLMacro, variables);\n  },\n\n  _parseURLMacro: function parseMacro(URLMacro, variables) {\n    variables = variables || {};\n\n    forEach(variables, function (value, key) {\n      URLMacro = URLMacro.replace(new RegExp(\"\\\\[\" + key + \"\\\\\\]\", 'gm'), value);\n    });\n\n    return URLMacro;\n  },\n\n  parseDuration: function parseDuration(durationStr) {\n    var durationRegex = /(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/;\n    var match, durationInMs;\n\n    if (isString(durationStr)) {\n      match = durationStr.match(durationRegex);\n      if (match) {\n        durationInMs = parseHoursToMs(match[1]) + parseMinToMs(match[2]) + parseSecToMs(match[3]) + parseInt(match[5] || 0);\n      }\n    }\n\n    return isNaN(durationInMs) ? null : durationInMs;\n\n    /*** local functions ***/\n    function parseHoursToMs(hourStr) {\n      return parseInt(hourStr) * 60 * 60 * 1000;\n    }\n\n    function parseMinToMs(minStr) {\n      return parseInt(minStr) * 60 * 1000;\n    }\n\n    function parseSecToMs(secStr) {\n      return parseInt(secStr) * 1000;\n    }\n  },\n\n  parseImpressions: function parseImpressions(impressions) {\n    if (impressions) {\n      impressions = isArray(impressions) ? impressions : [impressions];\n      return transformArray(impressions, function (impression) {\n        if (isNotEmptyString(impression.keyValue)) {\n          return impression.keyValue;\n        }\n        return undefined;\n      });\n    }\n    return [];\n  },\n\n  parseCreatives: function parseCreatives(creativesJTree) {\n    var creatives = [];\n    var creativesData;\n    if (isDefined(creativesJTree) && isDefined(creativesJTree.creative)) {\n      creativesData = isArray(creativesJTree.creative) ? creativesJTree.creative : [creativesJTree.creative];\n      creativesData.forEach(function (creative) {\n        creatives.push(new Creative(creative));\n      });\n    }\n    return creatives;\n  },\n\n  //We assume that the progress is going to arrive in milliseconds\n  formatProgress: function formatProgress(progress) {\n    var hours, minutes, seconds, milliseconds;\n    hours = progress / (60 * 60 * 1000);\n    hours = Math.floor(hours);\n    minutes = (progress / (60 * 1000)) % 60;\n    minutes = Math.floor(minutes);\n    seconds = (progress / 1000) % 60;\n    seconds = Math.floor(seconds);\n    milliseconds = progress % 1000;\n    return toFixedDigits(hours, 2) + ':' + toFixedDigits(minutes, 2) + ':' + toFixedDigits(seconds, 2) + '.' + toFixedDigits(milliseconds, 3);\n  },\n\n  parseOffset:   function parseOffset(offset, duration) {\n    if(isPercentage(offset)){\n      return calculatePercentage(offset, duration);\n    }\n    return vastUtil.parseDuration(offset);\n\n    /*** Local function ***/\n    function isPercentage(offset) {\n      var percentageRegex = /^\\d+(\\.\\d+)?%$/g;\n      return percentageRegex.test(offset);\n    }\n\n    function calculatePercentage(percentStr, duration) {\n      if(duration) {\n        return calcPercent(duration, parseFloat(percentStr.replace('%', '')));\n      }\n      return null;\n    }\n\n    function calcPercent(quantity, percent){\n      return quantity * percent / 100;\n    }\n  },\n\n  isVPAID: function isVPAIDMediaFile(mediaFile) {\n    return !!mediaFile && mediaFile.apiFramework === 'VPAID';\n  }\n};"],"sourceRoot":"/source/"}