{"version":3,"sources":["VPAIDFLASHClient.js","utilityFunctions.js","http.js","urlUtils.js","ads/vpaid/VPAIDAdUnitWrapper.js","ads/vpaid/VPAIDFlashTech.js","ads/vpaid/VPAIDHTML5Tech.js","ads/vpaid/VPAIDIntegrator.js","ads/vast/client/Ad.js","ads/vast/client/Creative.js","ads/vast/client/Inline.js","ads/vast/client/Linear.js","ads/vast/client/MediaFile.js","ads/vast/client/TrackingEvent.js","ads/vast/client/VASTClient.js","ads/vast/client/VASTError.js","ads/vast/client/VASTIntegrator.js","ads/vast/client/VASTTracker.js","ads/vast/client/VideoClicks.js","ads/vast/client/Wrapper.js","pollyfill.js","VPAIDHTML5Client.js","async.js","dom.js","playerUtils.js","xml.js","ads/videojs.vast.js","ads/components/ads-label.js","ads/components/black-poster.js","ads/vast/client/VASTResponse.js","ads/vast/client/vastUtil.js"],"names":["window","document","vjs","undefined","noop","isNull","o","isDefined","isObject","obj","isFunction","str","isNumber","num","isArray","array","Object","prototype","toString","call","isString","isEmptyString","length","isNotEmptyString","arrayLikeObjToArray","args","Array","slice","forEach","iterator","context","key","hasOwnProperty","isPrimitive","extend","arg","i","k","arguments","capitalize","s","charAt","toUpperCase","decapitalize","toLowerCase","transformArray","transformer","transformedArray","item","index","transformedItem","push","toFixedDigits","digits","formattedNum","parseInt","isNaN","NaN","throttle","callback","delay","previousCall","Date","getTime","time","apply","this","echoFn","val","isISO8601","value","iso8086Regex","test","trim","isIDevice","_UA","isOldIE","version","getInternetExplorerVersion","navigator","rv","appName","ua","userAgent","re","RegExp","res","exec","parseFloat","HttpRequestError","message","HttpRequest","createXhr","xhr","XMLHttpRequest","XDomainRequest","urlParts","url","href","msie","urlParsingNode","setAttribute","protocol","replace","host","search","hash","hostname","port","pathname","VPAIDAdUnitWrapper","vpaidAdUnit","opts","sanityCheck","adUnit","checkVPAIDInterface","VASTError","defaultOpts","responseTimeout","options","_adUnit","VPAIDFlashTech","mediaFile","settings","src","name","containerEl","vpaidFlashClient","VPAIDHTML5Tech","INVALID_MEDIA_FILE","videoEl","vpaidHTMLClient","VPAIDIntegrator","player","createVPAIDContainerEl","createElement","dom","addClass","el","insertBefore","controlBar","VIEW_MODE","NORMAL","FULLSCREEN","THUMBNAIL","VPAID_VERSION","full","major","minor","resizeAd","tech","querySelector","dimension","getDimension","MODE","isFullscreen","width","height","logError","error","console","log","Ad","adJTree","id","attr","sequence","inLine","InLine","wrapper","Wrapper","Creative","creativeJTree","adId","apiFramework","linear","Linear","inlineJTree","parseSurveys","inlineSurveys","survey","keyValue","uri","type","adTitle","xml","adSystem","impressions","vastUtil","parseImpressions","impression","creatives","parseCreatives","description","advertiser","surveys","pricing","extensions","linearJTree","parseTrackingEvents","trackingEvents","duration","trackings","trackingData","TrackingEvent","parseMediaFiles","mediaFilesJxonTree","mediaFiles","mfData","MediaFile","parseDuration","tracking","skipoffset","parseOffset","videoClicks","VideoClicks","adParameters","decode","mediaFileJTree","delivery","codec","bitrate","minBitrate","maxBitrate","scalable","maintainAspectRatio","trackingJTree","offset","VASTClient","defaultOptions","WRAPPER_LIMIT","errorURLMacros","code","VASTIntegrator","VASTTracker","assetURI","vastResponse","VASTResponse","response","progress","quartiles","firstQuartile","Math","round","midpoint","thirdQuartile","videoClickJTree","parseClickTrackings","clickTrackings","clickTrackingData","clickThrough","clickTracking","customClicks","customClick","wrapperJTree","VASTAdTagURI","vASTAdTagURI","followAdditionalWrappers","allowMultipleAds","fallbackOnNoAd","e","t","n","r","u","a","require","f","Error","l","exports",1,"module","_classCallCheck","instance","Constructor","TypeError","defineProperty","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","protoProps","staticProps","IVPAIDAdUnit","viewMode","desiredBitrate","soundVolume",2,"_inherits","subClass","superClass","create","constructor","__proto__","_get","_x15","_x16","_x17","_again","object","property","receiver","desc","parent","getter","Function","getOwnPropertyDescriptor","get","getPrototypeOf","ALL_VPAID_METHODS","getOwnPropertyNames","filter","indexOf","VPAIDAdUnit","_IVPAIDAdUnit","flash","_destroyed","_flash","_this","methodName","removeCallbackByMethodName","EVENTS","event","offEvent","eventName","on","off","playerVPAIDVersion","callFlashMethod","creativeData","environmentVars","setSize","getWidth","getHeight","volume","./IVPAIDAdUnit",3,"$throwIfDestroyed","$loadPendedAdUnit","_loadLater","loadAdUnit","setStaticProperty","propertyName","VPAIDFLASHClient","JSFlashBridge","callbackTimeout","isPositiveInt","createElementWithID","uniqueVPAID","unique","FLASH_VERSION","vpaidParentEl","onError","setTimeout","swfConfig","data","params","wmode","salign","align","allowScriptAccess","scale","allowFullScreen","quality","vpaidOptions","debug","timeout","hasExternalDependencies","_vpaidParentEl","_flashID","movie","FlashVars","VPAID_FLASH_HANDLER","isSupported","swfobject","createSWF","handler","err","_destroyAdUnit","destroy","_adUnitLoad","removeCallback","_destroy","adURL","_this2","isReady","getFlashID","getFlashURL","hasFlashPlayerVersion","./VPAIDAdUnit","./jsFlashBridge","./utils",4,"stringEndsWith","SingleValueRegistry","MultipleValuesRegistry","registry","ERROR","flashURL","flashID","loadHandShake","_el","_flashURL","_width","_height","_handlers","_callbacks","_uniqueMethodIdentifier","_ready","_handShakeHandler","addInstance","add","remove","removeByKey","removeAll","callbackID","concat","_trigger","removeByValue","suffix","filterKeys","result","trigger","newWidth","newHeight","offAll","removeAllCallbacks","removeInstanceByID","parentElement","removeChild","callID","getInstanceByID","_handShake","_callCallback","./jsFlashBridgeRegistry","./registry",5,"instances","JSFlashBridgeRegistry",6,"_registries","keys","splice","old","findByValue","map","_this3","_this4",7,"prefix","count","timer","onSuccess","onTimeout","clearTimeout","nEl","innerHTML","appendChild","newVal","oldVal","isFinite","string","endsWith","String","searchString","position","subjectString","lastIndex","parseNum","creative","video","addStaticToInterface","Interface","METHODS","GETTERS","SETTERS","handshakeVersion","VPAIDVersion","initAd","startAd","stopAd","skipAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe","getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons","setAdVolume","VPAID1_METHODS","method","every","VPAIDCreative","iframe","_isValid","_creative","_videoEl","_iframe","_subscribers","Subscriber","$addEventsSubscribers","FILTERED_EVENTS","$trigger","bind","$clickThruHook","AD_CLICK","playerHandles","triggerSync","callOrTriggerEvent","subscribers","utils","isValidVPAIDAd","ignores","ariaty","pop","slot","videoSlot","validate","unsubscribeAll","./subscriber","VPAIDHTML5Client","templateConfig","_id","_frameContainer","createElementInEl","_vpaidOptions","_templateConfig","template","defaultTemplate","extraOptions","$removeEl","$adDestroyed","$removeAdElements","$unloadPreviousAdUnit","$destroyAdUnit","$destroyLoadListener","_onLoad","removeEventListener","clearCallbackTimeout","AD_STOPPED","isDestroyed","onLoad","origin","location","JSON","parse","getID","createAd","_frame","contentWindow","getVPAIDAd","adEl","frame","createIframeWithContent","iframeURL_JS","iframeID","addEventListener","unloadAdUnit","subscriber","isValid","func","timeouts","tagName","createIframe","setIframeContent","simpleTemplate","style","left","top","stringify","iframeEl","content","iframeDoc","write","toExtend","fromSource","async","setImmediate","fn","tasks","makeCallback","next","waterfall","wrapIterator","when","condition","isAllowed","unshift","isVisible","getComputedStyle","visibility","isHidden","display","isShown","hide","__prev_style_display_","show","hasClass","cssClass","classes","len","classList","contains","getAttribute","split","join","removeClass","newClasses","attachEvent","detachEvent","dispatchEvent","fireEvent","eventType","isDescendant","child","node","parentNode","getTextContent","textContent","text","prependChild","firstChild","isDomElement","Element","click","once","handlerWrap","element","rect","getBoundingClientRect","offsetWidth","offsetHeight","run","setHeaders","headers","setRequestHeader","requestError","timeoutId","open","withCredentials","onload","statusText","status","getAllResponseHeaders","responseText","onerror","onabort","send","abort","processResponse","headersString","isSuccess","http","playerUtils","getPlayerSnapshot","getSuppressedTracks","tracks","remoteTextTracks","tracks_","suppressedTracks","track","mode","snapshot","ended","currentSrc","currentTime","currentType","playing","paused","nativePoster","poster","restorePlayerSnapshot","hasSrcChanged","restoreTracks","trackSnapshot","tryToResume","resume","play","isReadyToResume","attempts","videojs","warn","one","load","readyState","seekable","isIPhone","iPhone","prepareForAds","tryToTriggerFirstPlay","isFirstPlay","firstPlay","resetFirstPlay","blackPoster","saveVolumeSnapshot","muted","restorePlayerToFirstPlay","restoreVolumeSnapshot","volumeSnapshot","hideBlackPoster","addStyles","removeStyles","addChild","origPlay","removeNativePoster","removeAttribute","only","events","listener","documentMode","strToXMLDoc","stringContainingXMLSource","parseString","parsedDocument","parser","DOMParser","parseFromString","isParseError","errorneousParse","parsererrorNS","getElementsByTagName","namespaceURI","getElementsByTagNameNS","xmlDocument","ActiveXObject","loadXML","parseText","sValue","JXONTree","oXMLParent","documentElement","hasChildNodes","oNode","sProp","vContent","sCollectedTxt","nItem","childNodes","nodeType","nodeValue","nodeName","hasAttr","hasAttributes","attributes","oAttrib","nAttrib","toJXONTree","xmlString","xmlDoc","xmlObj","encode","plugin","tryToPlayPrerollAd","restoreVideoContent","vast","checkAdsEnabled","adsEnabled","preparePlayerForAd","canPlayPrerollAd","pause","addSpinnerIcon","startAdCancelTimeout","triggerContentEvents","iosPrerollCancelTimeout","clearAdCancelTimeout","adCancelTimeoutId","adsCanceled","trackAdError","adCancelTimeout","removeSpinnerIcon","playPrerollAd","cancelAds","getVastResponse","playAd","getVASTResponse","adAdsLabel","adFinished","removeAdsLabel","preventManualProgress","adTimeupdateHandler","progressDelta","abs","previousTime","PROGRESS_THRESHOLD","skipad_attempts","stopPreventManualProgress","adIntegrator","isVPAID","playAdAlways","autoResize","vpaidFlashLoaderPath","isEnabled","enable","disable","AdsLabel","Component","init","that","currentTimeComp","getChild","createEl","className","BlackPoster","posterImg","canSubscribeToEvents","canUnsubscribeFromEvents","VPAIDInterfaceMethods","adUnitAsyncCall","cb","wrapCallback","shift","evtName","waitForEvent","responseListener","adUnitData","getterName","supports","objectEl","container","flashClientOpts","INVALID_DOM_CONTAINER_EL","MISSING_CALLBACK","PREFIX","INVALID_DOM_VIDEO_EL","techs","removeAdUnit","_findSupportedTech","_loadAdUnit","_playAdUnit","_finishPlaying","_trackError","findSupportedTech","mediafile","VPAIDTech","vpaidMediaFiles","vjsTechEl","WrappedAdUnit","techClass","_handshake","_initAd","_setupEvents","_addSkipButton","_linkPlayerControls","_startAd","isSupportedVersion","majorNum","parts","pauseAdUnit","resumeAdUnit","adUnitSrc","tracker","trackSkip","trackImpressions","trackStart","trackFirstQuartile","trackMidpoint","trackThirdQuartile","trackComplete","generateClickThroughURL","clickThroughMacro","variables","ASSETURI","CONTENTPLAYHEAD","parseURLMacro","clickThruUrl","trackClick","trackAcceptInvitation","trackAcceptInvitationLinear","trackClose","trackCloseLinear","trackPause","trackCollapse","trackErrorWithCode","trackResume","lastVolume","currentVolume","trackMute","trackUnmute","updateViewSize","updateViewSizeThrottled","updateSkipButtonState","isSkippable","addSkipButton","removeSkipButton","skipButton","createSkipButton","onclick","Event","stopPropagation","linkVolumeControl","updateAdUnitVolume","vol","updatePlayerVolume","linkFullScreenControl","ERRORCODE","buildVASTResponse","adsChain","_buildVASTResponse","_getAd","_sendVASTResponse","ads","requestVASTXml","_requestVASTXml","buildAd","adXML","getValidAd","possibleAds","previousAds","getAd","adChain","adTree","ad","_buildAd","getNextAd","_buildVastTree","xmlStr","vastTree","vastVersion","adJxonTree","addErrorUrlMacros","validateAd","addAdsToResponse","addAd","validateResponse","progressEvents","hasLinear","_selectAdSource","_createVASTTracker","_addClickThrough","_playSelectedAd","source","playerWidth","sort","b","deltaA","deltaB","selectSource","adMediaFile","unbindEvents","trackFullscreenChange","trackProgress","trackVolumeChange","trackFullscreen","trackExitFullscreen","currentTimeInMs","previouslyMuted","addSkipButtonToPlayer","skipOffset","updateSkipButton","timeLeft","ceil","skipOffsetInSec","createClickThroughBlocker","blocker","updateBlockerURL","formatProgress","removeBlocker","updateBlocker","finishPlayingAd","handlePlayerError","_linearAdded","appendToArray","items","_addInLine","_addWrapper","_addErrorTrackUrl","errorURL","_addImpressions","_addClickTrackings","_addCustomClicks","_addTrackingEvents","eventsMap","trackingEvent","_addTitle","title","_addDuration","_addVideoClicks","_addMediaFiles","_addSkipoffset","_addAdParameters","_addLinear","trackURLs","urls","trackEvent","trackOnce","getEventUris","uris","newProgress","addTrackEvent","canBeAdded","addQuartileEvents","quartileTime","ONCE","addProgressEvent","progressEvent","trackEvents","ALWAYS","errorcode","URLMacros","sources","parseURLMacros","trackImgs","img","Image","parsedURLs","random","URLMacro","_parseURLMacro","durationStr","parseHoursToMs","hourStr","parseMinToMs","minStr","parseSecToMs","secStr","match","durationInMs","durationRegex","creativesJTree","creativesData","hours","minutes","seconds","milliseconds","floor","isPercentage","percentageRegex","calculatePercentage","percentStr","calcPercent","quantity","percent"],"mappings":"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","file":"videojs-vast-vpaid.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\n//simple representation of the API\n\nvar IVPAIDAdUnit = (function () {\n    function IVPAIDAdUnit() {\n        _classCallCheck(this, IVPAIDAdUnit);\n    }\n\n    _createClass(IVPAIDAdUnit, [{\n        key: 'handshakeVersion',\n\n        //all methods below\n        //are async methods\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments[0] === undefined ? '2.0' : arguments[0];\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n        }\n    }, {\n        key: 'initAd',\n\n        //width and height is not in the beginning because we will use the default width/height used in the constructor\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments[4] === undefined ? '' : arguments[4];\n            var environmentVars = arguments[5] === undefined ? '' : arguments[5];\n            var callback = arguments[6] === undefined ? undefined : arguments[6];\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments[3] === undefined ? undefined : arguments[3];\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n        }\n    }, {\n        key: 'getAdLinear',\n\n        //properties that will be treat as async methods\n        value: function getAdLinear(callback) {}\n    }, {\n        key: 'getAdWidth',\n        value: function getAdWidth(callback) {}\n    }, {\n        key: 'getAdHeight',\n        value: function getAdHeight(callback) {}\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded(callback) {}\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState(callback) {}\n    }, {\n        key: 'getAdRemainingTime',\n        value: function getAdRemainingTime(callback) {}\n    }, {\n        key: 'getAdDuration',\n        value: function getAdDuration(callback) {}\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(soundVolume) {\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {}\n    }, {\n        key: 'getAdCompanions',\n        value: function getAdCompanions(callback) {}\n    }, {\n        key: 'getAdIcons',\n        value: function getAdIcons(callback) {}\n    }]);\n\n    return IVPAIDAdUnit;\n})();\n\nexports.IVPAIDAdUnit = IVPAIDAdUnit;\n\nObject.defineProperty(IVPAIDAdUnit, 'EVENTS', {\n    writable: false,\n    configurable: false,\n    value: ['AdLoaded', 'AdStarted', 'AdStopped', 'AdSkipped', 'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange', 'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange', 'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange', 'AdImpression', 'AdVideoStart', 'AdVideoFirstQuartile', 'AdVideoMidpoint', 'AdVideoThirdQuartile', 'AdVideoComplete', 'AdClickThru', 'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation', 'AdUserMinimize', 'AdUserClose', 'AdPaused', 'AdPlaying', 'AdLog', 'AdError']\n});\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _get = function get(_x15, _x16, _x17) { var _again = true; _function: while (_again) { var object = _x15, property = _x16, receiver = _x17; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x15 = parent; _x16 = property; _x17 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) subClass.__proto__ = superClass; }\n\nvar IVPAIDAdUnit = require('./IVPAIDAdUnit').IVPAIDAdUnit;\nvar ALL_VPAID_METHODS = Object.getOwnPropertyNames(IVPAIDAdUnit.prototype).filter(function (property) {\n    return ['constructor'].indexOf(property) === -1;\n});\n\nvar VPAIDAdUnit = (function (_IVPAIDAdUnit) {\n    function VPAIDAdUnit(flash) {\n        _classCallCheck(this, VPAIDAdUnit);\n\n        _get(Object.getPrototypeOf(VPAIDAdUnit.prototype), 'constructor', this).call(this);\n        this._destroyed = false;\n        this._flash = flash;\n    }\n\n    _inherits(VPAIDAdUnit, _IVPAIDAdUnit);\n\n    _createClass(VPAIDAdUnit, [{\n        key: '_destroy',\n        value: function _destroy() {\n            var _this = this;\n\n            this._destroyed = true;\n            ALL_VPAID_METHODS.forEach(function (methodName) {\n                _this._flash.removeCallbackByMethodName(methodName);\n            });\n            IVPAIDAdUnit.EVENTS.forEach(function (event) {\n                _this._flash.offEvent(event);\n            });\n\n            this._flash = null;\n        }\n    }, {\n        key: 'isDestroyed',\n        value: function isDestroyed() {\n            return this._destroyed;\n        }\n    }, {\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._flash.on(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            this._flash.off(eventName, callback);\n        }\n    }, {\n        key: 'handshakeVersion',\n\n        //VPAID interface\n        value: function handshakeVersion() {\n            var playerVPAIDVersion = arguments[0] === undefined ? '2.0' : arguments[0];\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n\n            this._flash.callFlashMethod('handshakeVersion', [playerVPAIDVersion], callback);\n        }\n    }, {\n        key: 'initAd',\n        value: function initAd(width, height, viewMode, desiredBitrate) {\n            var creativeData = arguments[4] === undefined ? '' : arguments[4];\n            var environmentVars = arguments[5] === undefined ? '' : arguments[5];\n            var callback = arguments[6] === undefined ? undefined : arguments[6];\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n\n            this._flash.callFlashMethod('initAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode, desiredBitrate, creativeData, environmentVars], callback);\n        }\n    }, {\n        key: 'resizeAd',\n        value: function resizeAd(width, height, viewMode) {\n            var callback = arguments[3] === undefined ? undefined : arguments[3];\n\n            //resize element that has the flash object\n            this._flash.setSize(width, height);\n\n            //resize ad inside the flash\n            this._flash.callFlashMethod('resizeAd', [this._flash.getWidth(), this._flash.getHeight(), viewMode], callback);\n        }\n    }, {\n        key: 'startAd',\n        value: function startAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('startAd', [], callback);\n        }\n    }, {\n        key: 'stopAd',\n        value: function stopAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('stopAd', [], callback);\n        }\n    }, {\n        key: 'pauseAd',\n        value: function pauseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('pauseAd', [], callback);\n        }\n    }, {\n        key: 'resumeAd',\n        value: function resumeAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('resumeAd', [], callback);\n        }\n    }, {\n        key: 'expandAd',\n        value: function expandAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('expandAd', [], callback);\n        }\n    }, {\n        key: 'collapseAd',\n        value: function collapseAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('collapseAd', [], callback);\n        }\n    }, {\n        key: 'skipAd',\n        value: function skipAd() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            this._flash.callFlashMethod('skipAd', [], callback);\n        }\n    }, {\n        key: 'getAdLinear',\n\n        //properties that will be treat as async methods\n        value: function getAdLinear(callback) {\n            this._flash.callFlashMethod('getAdLinear', [], callback);\n        }\n    }, {\n        key: 'getAdWidth',\n        value: function getAdWidth(callback) {\n            this._flash.callFlashMethod('getAdWidth', [], callback);\n        }\n    }, {\n        key: 'getAdHeight',\n        value: function getAdHeight(callback) {\n            this._flash.callFlashMethod('getAdHeight', [], callback);\n        }\n    }, {\n        key: 'getAdExpanded',\n        value: function getAdExpanded(callback) {\n            this._flash.callFlashMethod('getAdExpanded', [], callback);\n        }\n    }, {\n        key: 'getAdSkippableState',\n        value: function getAdSkippableState(callback) {\n            this._flash.callFlashMethod('getAdSkippableState', [], callback);\n        }\n    }, {\n        key: 'getAdRemainingTime',\n        value: function getAdRemainingTime(callback) {\n            this._flash.callFlashMethod('getAdRemainingTime', [], callback);\n        }\n    }, {\n        key: 'getAdDuration',\n        value: function getAdDuration(callback) {\n            this._flash.callFlashMethod('getAdDuration', [], callback);\n        }\n    }, {\n        key: 'setAdVolume',\n        value: function setAdVolume(volume) {\n            var callback = arguments[1] === undefined ? undefined : arguments[1];\n\n            this._flash.callFlashMethod('setAdVolume', [volume], callback);\n        }\n    }, {\n        key: 'getAdVolume',\n        value: function getAdVolume(callback) {\n            this._flash.callFlashMethod('getAdVolume', [], callback);\n        }\n    }, {\n        key: 'getAdCompanions',\n        value: function getAdCompanions(callback) {\n            this._flash.callFlashMethod('getAdCompanions', [], callback);\n        }\n    }, {\n        key: 'getAdIcons',\n        value: function getAdIcons(callback) {\n            this._flash.callFlashMethod('getAdIcons', [], callback);\n        }\n    }]);\n\n    return VPAIDAdUnit;\n})(IVPAIDAdUnit);\n\nexports.VPAIDAdUnit = VPAIDAdUnit;\n\n},{\"./IVPAIDAdUnit\":1}],3:[function(require,module,exports){\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar JSFlashBridge = require('./jsFlashBridge').JSFlashBridge;\nvar VPAIDAdUnit = require('./VPAIDAdUnit').VPAIDAdUnit;\n\nvar noop = require('./utils').noop;\nvar callbackTimeout = require('./utils').callbackTimeout;\nvar isPositiveInt = require('./utils').isPositiveInt;\nvar createElementWithID = require('./utils').createElementWithID;\nvar uniqueVPAID = require('./utils').unique('vpaid');\n\nvar ERROR = 'error';\nvar FLASH_VERSION = '10.1.0';\n\nvar VPAIDFLASHClient = (function () {\n    function VPAIDFLASHClient(vpaidParentEl, callback) {\n        var swfConfig = arguments[2] === undefined ? { data: 'VPAIDFlash.swf', width: 800, height: 400 } : arguments[2];\n\n        var _this = this;\n\n        var params = arguments[3] === undefined ? { wmode: 'transparent', salign: 'tl', align: 'left', allowScriptAccess: 'always', scale: 'noScale', allowFullScreen: 'true', quality: 'high' } : arguments[3];\n        var vpaidOptions = arguments[4] === undefined ? { debug: false, timeout: 10000 } : arguments[4];\n\n        _classCallCheck(this, VPAIDFLASHClient);\n\n        if (!VPAIDFLASHClient.hasExternalDependencies()) {\n            return onError('no swfobject in global scope. check: https://github.com/swfobject/swfobject or https://code.google.com/p/swfobject/');\n        }\n\n        this._vpaidParentEl = vpaidParentEl;\n        this._flashID = uniqueVPAID();\n        this._destroyed = false;\n        callback = callback || noop;\n\n        swfConfig.width = isPositiveInt(swfConfig.width, 800);\n        swfConfig.height = isPositiveInt(swfConfig.height, 400);\n\n        createElementWithID(vpaidParentEl, this._flashID);\n\n        params.movie = swfConfig.data;\n        params.FlashVars = 'flashid=' + this._flashID + '&handler=' + JSFlashBridge.VPAID_FLASH_HANDLER + '&debug=' + vpaidOptions.debug + '&salign=' + params.salign;\n\n        if (!VPAIDFLASHClient.isSupported()) {\n            return onError('user don\\'t support flash or doesn\\'t have the minimum required version of flash ' + FLASH_VERSION);\n        }\n\n        this.el = swfobject.createSWF(swfConfig, params, this._flashID);\n\n        if (!this.el) {\n            return onError('swfobject failed to create object in element');\n        }\n\n        var handler = callbackTimeout(vpaidOptions.timeout, function (err, data) {\n            $loadPendedAdUnit.call(_this);\n            callback(err, data);\n        }, function () {\n            callback('vpaid flash load timeout ' + vpaidOptions.timeout);\n        });\n\n        this._flash = new JSFlashBridge(this.el, swfConfig.data, this._flashID, swfConfig.width, swfConfig.height, handler);\n\n        function onError(error) {\n            setTimeout(function () {\n                callback(new Error(error));\n            }, 0);\n            return this;\n        }\n    }\n\n    _createClass(VPAIDFLASHClient, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._destroyAdUnit();\n\n            if (this._flash) {\n                this._flash.destroy();\n                this._flash = null;\n            }\n            this.el = null;\n            this._destroyed = true;\n        }\n    }, {\n        key: 'isDestroyed',\n        value: function isDestroyed() {\n            return this._destroyed;\n        }\n    }, {\n        key: '_destroyAdUnit',\n        value: function _destroyAdUnit() {\n            delete this._loadLater;\n\n            if (this._adUnitLoad) {\n                this._adUnitLoad = null;\n                this._flash.removeCallback(this._adUnitLoad);\n            }\n\n            if (this._adUnit) {\n                this._adUnit._destroy();\n                this._adUnit = null;\n            }\n        }\n    }, {\n        key: 'loadAdUnit',\n        value: function loadAdUnit(adURL, callback) {\n            var _this2 = this;\n\n            $throwIfDestroyed.call(this);\n\n            if (this._adUnit) {\n                this._destroyAdUnit();\n            }\n\n            if (this._flash.isReady()) {\n                this._adUnitLoad = function (err, message) {\n                    if (!err) {\n                        _this2._adUnit = new VPAIDAdUnit(_this2._flash);\n                    }\n                    _this2._adUnitLoad = null;\n                    callback(err, _this2._adUnit);\n                };\n\n                this._flash.callFlashMethod('loadAdUnit', [adURL], this._adUnitLoad);\n            } else {\n                this._loadLater = { url: adURL, callback: callback };\n            }\n        }\n    }, {\n        key: 'unloadAdUnit',\n        value: function unloadAdUnit() {\n            var callback = arguments[0] === undefined ? undefined : arguments[0];\n\n            $throwIfDestroyed.call(this);\n\n            this._destroyAdUnit();\n            this._flash.callFlashMethod('unloadAdUnit', [], callback);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            $throwIfDestroyed.call(this);\n            return this._flash.getFlashID();\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            $throwIfDestroyed.call(this);\n            return this._flash.getFlashURL();\n        }\n    }]);\n\n    return VPAIDFLASHClient;\n})();\n\nsetStaticProperty('isSupported', function () {\n    return VPAIDFLASHClient.hasExternalDependencies() && swfobject.hasFlashPlayerVersion(FLASH_VERSION);\n});\n\nsetStaticProperty('hasExternalDependencies', function () {\n    return !!window.swfobject;\n});\n\nfunction $throwIfDestroyed() {\n    if (this._destroyed) {\n        throw new error('VPAIDFlashToJS is destroyed!');\n    }\n}\n\nfunction $loadPendedAdUnit() {\n    if (this._loadLater) {\n        this.loadAdUnit(this._loadLater.url, this._loadLater.callback);\n        delete this._loadLater;\n    }\n}\n\nfunction setStaticProperty(propertyName, value) {\n    Object.defineProperty(VPAIDFLASHClient, propertyName, {\n        writable: false,\n        configurable: false,\n        value: value\n    });\n}\n\nwindow.VPAIDFLASHClient = VPAIDFLASHClient;\nmodule.exports = VPAIDFLASHClient;\n\n},{\"./VPAIDAdUnit\":2,\"./jsFlashBridge\":4,\"./utils\":7}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar unique = require('./utils').unique;\nvar isPositiveInt = require('./utils').isPositiveInt;\nvar stringEndsWith = require('./utils').stringEndsWith;\nvar SingleValueRegistry = require('./registry').SingleValueRegistry;\nvar MultipleValuesRegistry = require('./registry').MultipleValuesRegistry;\nvar registry = require('./jsFlashBridgeRegistry');\nvar VPAID_FLASH_HANDLER = 'vpaid_video_flash_handler';\nvar ERROR = 'AdError';\n\nvar JSFlashBridge = (function () {\n    function JSFlashBridge(el, flashURL, flashID, width, height, loadHandShake) {\n        _classCallCheck(this, JSFlashBridge);\n\n        this._el = el;\n        this._flashID = flashID;\n        this._flashURL = flashURL;\n        this._width = width;\n        this._height = height;\n        this._handlers = new MultipleValuesRegistry();\n        this._callbacks = new SingleValueRegistry();\n        this._uniqueMethodIdentifier = unique(this._flashID);\n        this._ready = false;\n        this._handShakeHandler = loadHandShake;\n\n        registry.addInstance(this._flashID, this);\n    }\n\n    _createClass(JSFlashBridge, [{\n        key: 'on',\n        value: function on(eventName, callback) {\n            this._handlers.add(eventName, callback);\n        }\n    }, {\n        key: 'off',\n        value: function off(eventName, callback) {\n            return this._handlers.remove(eventName, callback);\n        }\n    }, {\n        key: 'offEvent',\n        value: function offEvent(eventName) {\n            return this._handlers.removeByKey(eventName);\n        }\n    }, {\n        key: 'offAll',\n        value: function offAll() {\n            return this._handlers.removeAll();\n        }\n    }, {\n        key: 'callFlashMethod',\n        value: function callFlashMethod(methodName) {\n            var args = arguments[1] === undefined ? [] : arguments[1];\n            var callback = arguments[2] === undefined ? undefined : arguments[2];\n\n            var callbackID = '';\n            // if no callback, some methods the return is void so they don't need callback\n            if (callback) {\n                callbackID = this._uniqueMethodIdentifier() + '_' + methodName;\n                this._callbacks.add(callbackID, callback);\n            }\n\n            try {\n                //methods are created by ExternalInterface.addCallback in as3 code, if for some reason it failed\n                //this code will throw an error\n                this._el[methodName]([callbackID].concat(args));\n            } catch (e) {\n                if (callback) {\n                    this._callbacks.remove(callbackID);\n                    setTimeout(function () {\n                        callback(e);\n                    }, 0);\n                } else {\n\n                    //if there isn't any callback to return error use error event handler\n                    this._trigger(ERROR, e);\n                }\n            }\n        }\n    }, {\n        key: 'removeCallback',\n        value: function removeCallback(callback) {\n            return this._callbacks.removeByValue(callback);\n        }\n    }, {\n        key: 'removeCallbackByMethodName',\n        value: function removeCallbackByMethodName(suffix) {\n            var _this = this;\n\n            this._callbacks.filterKeys(function (key) {\n                return stringEndsWith(key, suffix);\n            }).forEach(function (key) {\n                _this._callbacks.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAllCallbacks',\n        value: function removeAllCallbacks() {\n            return this._callbacks.removeAll();\n        }\n    }, {\n        key: '_trigger',\n        value: function _trigger(eventName, event) {\n            this._handlers.get(eventName).forEach(function (callback) {\n                //clickThru has to be sync, if not will be block by the popupblocker\n                if (eventName === 'AdClickThru') {\n                    callback(event);\n                } else {\n                    setTimeout(function () {\n                        callback(event);\n                    }, 0);\n                }\n            });\n        }\n    }, {\n        key: '_callCallback',\n        value: function _callCallback(methodName, callbackID, err, result) {\n\n            var callback = this._callbacks.get(callbackID);\n\n            //not all methods callback's are mandatory\n            //but if there exist an error, fire the error event\n            if (!callback) {\n                if (err && callbackID === '') {\n                    this.trigger(ERROR, err);\n                }\n                return;\n            }\n\n            setTimeout(function () {\n                callback(err, result);\n            }, 0);\n\n            this._callbacks.remove(callbackID);\n        }\n    }, {\n        key: '_handShake',\n        value: function _handShake(err, data) {\n            this._ready = true;\n            if (this._handShakeHandler) {\n                this._handShakeHandler(err, data);\n                delete this._handShakeHandler;\n            }\n        }\n    }, {\n        key: 'getSize',\n\n        //methods like properties specific to this implementation of VPAID\n        value: function getSize() {\n            return { width: this._width, height: this._height };\n        }\n    }, {\n        key: 'setSize',\n        value: function setSize(newWidth, newHeight) {\n            this._width = isPositiveInt(newWidth, this._width);\n            this._height = isPositiveInt(newHeight, this._height);\n            this._el.setAttribute('width', this._width);\n            this._el.setAttribute('height', this._height);\n        }\n    }, {\n        key: 'getWidth',\n        value: function getWidth() {\n            return this._width;\n        }\n    }, {\n        key: 'setWidth',\n        value: function setWidth(newWidth) {\n            this.setSize(newWidth, this._height);\n        }\n    }, {\n        key: 'getHeight',\n        value: function getHeight() {\n            return this._height;\n        }\n    }, {\n        key: 'setHeight',\n        value: function setHeight(newHeight) {\n            this.setSize(this._width, newHeight);\n        }\n    }, {\n        key: 'getFlashID',\n        value: function getFlashID() {\n            return this._flashID;\n        }\n    }, {\n        key: 'getFlashURL',\n        value: function getFlashURL() {\n            return this._flashURL;\n        }\n    }, {\n        key: 'isReady',\n        value: function isReady() {\n            return this._ready;\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            this.offAll();\n            this.removeAllCallbacks();\n            registry.removeInstanceByID(this._flashID);\n            if (this._el.parentElement) {\n                this._el.parentElement.removeChild(this._el);\n            }\n        }\n    }]);\n\n    return JSFlashBridge;\n})();\n\nexports.JSFlashBridge = JSFlashBridge;\n\nObject.defineProperty(JSFlashBridge, 'VPAID_FLASH_HANDLER', {\n    writable: false,\n    configurable: false,\n    value: VPAID_FLASH_HANDLER\n});\n\nwindow[VPAID_FLASH_HANDLER] = function (flashID, type, event, callID, error, data) {\n    var instance = registry.getInstanceByID(flashID);\n    if (!instance) return;\n    if (event === 'handShake') {\n        instance._handShake(error, data);\n    } else {\n        if (type !== 'event') {\n            instance._callCallback(event, callID, error, data);\n        } else {\n            instance._trigger(event, data);\n        }\n    }\n};\n\n},{\"./jsFlashBridgeRegistry\":5,\"./registry\":6,\"./utils\":7}],5:[function(require,module,exports){\n'use strict';\n\nvar SingleValueRegistry = require('./registry').SingleValueRegistry;\nvar instances = new SingleValueRegistry();\n\nvar JSFlashBridgeRegistry = {};\nObject.defineProperty(JSFlashBridgeRegistry, 'addInstance', {\n    writable: false,\n    configurable: false,\n    value: function value(id, instance) {\n        instances.add(id, instance);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'getInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.get(id);\n    }\n});\n\nObject.defineProperty(JSFlashBridgeRegistry, 'removeInstanceByID', {\n    writable: false,\n    configurable: false,\n    value: function value(id) {\n        return instances.remove(id);\n    }\n});\n\nmodule.exports = JSFlashBridgeRegistry;\n\n},{\"./registry\":6}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar MultipleValuesRegistry = (function () {\n    function MultipleValuesRegistry() {\n        _classCallCheck(this, MultipleValuesRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(MultipleValuesRegistry, [{\n        key: 'add',\n        value: function add(id, value) {\n            if (!this._registries[id]) {\n                this._registries[id] = [];\n            }\n            if (this._registries[id].indexOf(value) === -1) {\n                this._registries[id].push(value);\n            }\n        }\n    }, {\n        key: 'get',\n        value: function get(id) {\n            return this._registries[id] || [];\n        }\n    }, {\n        key: 'filterKeys',\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: 'findByValue',\n        value: function findByValue(value) {\n            var _this = this;\n\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this._registries[key].indexOf(value) !== -1;\n            });\n\n            return keys;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(key, value) {\n            if (!this._registries[key]) {\n                return;\n            }\n\n            var index = this._registries[key].indexOf(value);\n\n            if (index < 0) {\n                return;\n            }\n            return this._registries[key].splice(index, 1);\n        }\n    }, {\n        key: 'removeByKey',\n        value: function removeByKey(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: 'removeByValue',\n        value: function removeByValue(value) {\n            var _this2 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this2.remove(key, value);\n            });\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: 'size',\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return MultipleValuesRegistry;\n})();\n\nexports.MultipleValuesRegistry = MultipleValuesRegistry;\n\nvar SingleValueRegistry = (function () {\n    function SingleValueRegistry() {\n        _classCallCheck(this, SingleValueRegistry);\n\n        this._registries = {};\n    }\n\n    _createClass(SingleValueRegistry, [{\n        key: 'add',\n        value: function add(id, value) {\n            this._registries[id] = value;\n        }\n    }, {\n        key: 'get',\n        value: function get(id) {\n            return this._registries[id];\n        }\n    }, {\n        key: 'filterKeys',\n        value: function filterKeys(handler) {\n            return Object.keys(this._registries).filter(handler);\n        }\n    }, {\n        key: 'findByValue',\n        value: function findByValue(value) {\n            var _this3 = this;\n\n            var keys = Object.keys(this._registries).filter(function (key) {\n                return _this3._registries[key] === value;\n            });\n\n            return keys;\n        }\n    }, {\n        key: 'remove',\n        value: function remove(id) {\n            var old = this._registries[id];\n            delete this._registries[id];\n            return old;\n        }\n    }, {\n        key: 'removeByValue',\n        value: function removeByValue(value) {\n            var _this4 = this;\n\n            var keys = this.findByValue(value);\n            return keys.map(function (key) {\n                return _this4.remove(key);\n            });\n        }\n    }, {\n        key: 'removeAll',\n        value: function removeAll() {\n            var old = this._registries;\n            this._registries = {};\n            return old;\n        }\n    }, {\n        key: 'size',\n        value: function size() {\n            return Object.keys(this._registries).length;\n        }\n    }]);\n\n    return SingleValueRegistry;\n})();\n\nexports.SingleValueRegistry = SingleValueRegistry;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\nexports.unique = unique;\nexports.noop = noop;\nexports.callbackTimeout = callbackTimeout;\nexports.createElementWithID = createElementWithID;\nexports.isPositiveInt = isPositiveInt;\nexports.stringEndsWith = stringEndsWith;\n\nfunction unique(prefix) {\n    var count = -1;\n    return function (f) {\n        return prefix + '_' + ++count;\n    };\n}\n\nfunction noop() {}\n\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n\n    var timeout = setTimeout(function () {\n\n        onSuccess = noop;\n        onTimeout();\n    }, timer);\n\n    return function () {\n        clearTimeout(timeout);\n        onSuccess.apply(this, arguments);\n    };\n}\n\nfunction createElementWithID(parent, id) {\n    var nEl = document.createElement('div');\n    nEl.id = id;\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\nfunction isPositiveInt(newVal, oldVal) {\n    return !isNaN(parseFloat(newVal)) && isFinite(newVal) && newVal > 0 ? newVal : oldVal;\n}\n\nvar endsWith = (function () {\n    if (String.prototype.endsWith) return String.prototype.endsWith;\n    return function endsWith(searchString, position) {\n        var subjectString = this.toString();\n        if (position === undefined || position > subjectString.length) {\n            position = subjectString.length;\n        }\n        position -= searchString.length;\n        var lastIndex = subjectString.indexOf(searchString, position);\n        return lastIndex !== -1 && lastIndex === position;\n    };\n})();\n\nfunction stringEndsWith(string, search) {\n    return endsWith.call(string, search);\n}\n\n},{}]},{},[3])\n\n\n//# sourceMappingURL=VPAIDFLASHClient.js.map","/*jshint unused:false */\n\"use strict\";\n\nvar NODE_TYPE_ELEMENT = 1;\n\nfunction noop(){ }\n\nfunction isNull(o) {\n  return o === null;\n}\n\nfunction isDefined(o){\n  return o !== undefined;\n}\n\nfunction isUndefined(o){\n  return o === undefined;\n}\n\nfunction isObject(obj) {\n  return typeof obj === 'object';\n}\n\nfunction isFunction(str){\n  return typeof str === 'function';\n}\n\nfunction isNumber(num){\n  return typeof num === 'number';\n}\n\nfunction isWindow(obj) {\n  return isObject(obj) && obj.window === obj;\n}\n\nfunction isArray(array){\n  return Object.prototype.toString.call( array ) === '[object Array]';\n}\n\nfunction isArrayLike(obj) {\n  if (obj === null || isWindow(obj) || isFunction(obj) || isUndefined(obj)) {\n    return false;\n  }\n\n  var length = obj.length;\n\n  if (obj.nodeType === NODE_TYPE_ELEMENT && length) {\n    return true;\n  }\n\n  return isString(obj) || isArray(obj) || length === 0 ||\n    typeof length === 'number' && length > 0 && (length - 1) in obj;\n}\n\nfunction isString(str){\n  return typeof str === 'string';\n}\n\nfunction isEmptyString(str) {\n  return isString(str) && str.length === 0;\n}\n\nfunction isNotEmptyString(str) {\n  return isString(str) && str.length !== 0;\n}\n\nfunction arrayLikeObjToArray(args) {\n  return Array.prototype.slice.call(args);\n}\n\nfunction forEach(obj, iterator, context) {\n  var key, length;\n  if (obj) {\n    if (isFunction(obj)) {\n      for (key in obj) {\n        // Need to check if hasOwnProperty exists,\n        // as on IE8 the result of querySelectorAll is an object without a hasOwnProperty function\n        if (key !== 'prototype' && key !== 'length' && key !== 'name' && (!obj.hasOwnProperty || obj.hasOwnProperty(key))) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (isArray(obj)) {\n      var isPrimitive = typeof obj !== 'object';\n      for (key = 0, length = obj.length; key < length; key++) {\n        if (isPrimitive || key in obj) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    } else if (obj.forEach && obj.forEach !== forEach) {\n      obj.forEach(iterator, context, obj);\n    } else {\n      for (key in obj) {\n        if (obj.hasOwnProperty(key)) {\n          iterator.call(context, obj[key], key, obj);\n        }\n      }\n    }\n  }\n  return obj;\n}\n\nvar SNAKE_CASE_REGEXP = /[A-Z]/g;\nfunction snake_case(name, separator) {\n  separator = separator || '_';\n  return name.replace(SNAKE_CASE_REGEXP, function(letter, pos) {\n    return (pos ? separator : '') + letter.toLowerCase();\n  });\n}\n\nfunction isValidEmail(email){\n  if(!isString(email)){\n    return false;\n  }\n  var EMAIL_REGEXP = /^[a-z0-9!#$%&'*+\\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i;\n  return EMAIL_REGEXP.test(email.trim());\n}\n\nfunction extend (obj) {\n  var arg, i, k;\n  for (i = 1; i < arguments.length; i++) {\n    arg = arguments[i];\n    for (k in arg) {\n      if (arg.hasOwnProperty(k)) {\n        if(isObject(obj[k]) && !isNull(obj[k]) && isObject(arg[k])){\n          obj[k] = extend({}, obj[k], arg[k]);\n        }else {\n          obj[k] = arg[k];\n        }\n      }\n    }\n  }\n  return obj;\n}\n\nfunction capitalize(s){\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nfunction decapitalize(s) {\n  return s.charAt(0).toLowerCase() + s.slice(1);\n}\n\n/**\n * This method works the same way array.prototype.map works but if the transformer returns undefine, then\n * it won't be added to the transformed Array.\n */\nfunction transformArray(array, transformer) {\n  var transformedArray = [];\n\n  array.forEach(function(item, index){\n    var transformedItem = transformer(item, index);\n    if(isDefined(transformedItem)) {\n      transformedArray.push(transformedItem);\n    }\n  });\n\n  return transformedArray;\n}\n\nfunction toFixedDigits(num, digits) {\n  var formattedNum = num + '';\n  digits = isNumber(digits) ? digits : 0;\n  num = isNumber(num) ? num : parseInt(num);\n  if(isNumber(num) && !isNaN(num)){\n    formattedNum = num + '';\n    while(formattedNum.length < digits) {\n      formattedNum = '0' + formattedNum;\n    }\n    return formattedNum;\n  }\n  return NaN + '';\n}\n\nfunction throttle(callback, delay) {\n  var previousCall = new Date().getTime() - (delay + 1);\n  return function() {\n    var time = new Date().getTime();\n    if ((time - previousCall) >= delay) {\n      previousCall = time;\n      callback.apply(this, arguments);\n    }\n  };\n}\n\nfunction debounce (callback, wait) {\n  var timeoutId;\n\n  return function (){\n    if(timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    timeoutId = setTimeout(function(){\n      callback.apply(this, arguments);\n      timeoutId = undefined;\n    }, wait);\n  };\n}\n\n// a function designed to blow up the stack in a naive way\n// but it is ok for videoJs children components\nfunction treeSearch(root, getChildren, found){\n  var children = getChildren(root);\n  for (var i = 0; i < children.length; i++){\n    if (found(children[i])) {\n      return children[i];\n    }\n    else {\n      var el = treeSearch(children[i], getChildren, found);\n      if (el){\n        return el;\n      }\n    }\n  }\n}\n\nfunction echoFn(val) {\n  return function () {\n    return val;\n  };\n}\n\n//Note: Supported formats come from http://www.w3.org/TR/NOTE-datetime\n// and the iso8601 regex comes from http://www.pelagodesign.com/blog/2009/05/20/iso-8601-date-validation-that-doesnt-suck/\nfunction isISO8601(value) {\n  if(isNumber(value)){\n    value = value + '';  //we make sure that we are working with strings\n  }\n\n  if(!isString(value)){\n    return false;\n  }\n\n  /*jslint maxlen: 500 */\n  var iso8086Regex = /^([\\+-]?\\d{4}(?!\\d{2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d{2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?$/;\n  return iso8086Regex.test(value.trim());\n}\n\nvar _UA = navigator.userAgent;\nfunction isIDevice() {\n  return /iP(hone|ad)/.test(_UA);\n}\n\n/**\n * Checks if the Browser is IE9 and below\n * @returns {boolean}\n */\nfunction isOldIE() {\n  var version = getInternetExplorerVersion(navigator);\n  if (version === -1) {\n    return false;\n  }\n\n  return version < 10;\n}\n\n/**\n * Returns the version of Internet Explorer or a -1 (indicating the use of another browser).\n * Source: https://msdn.microsoft.com/en-us/library/ms537509(v=vs.85).aspx\n * @returns {number} the version of Internet Explorer or a -1 (indicating the use of another browser).\n */\nfunction getInternetExplorerVersion(navigator) {\n  var rv = -1;\n\n  if (navigator.appName == 'Microsoft Internet Explorer') {\n    var ua = navigator.userAgent;\n    var re = new RegExp(\"MSIE ([0-9]{1,}[\\.0-9]{0,})\");\n    var res = re.exec(ua);\n    if (res !== null) {\n      rv = parseFloat(res[1]);\n    }\n  }\n\n  return rv;\n}","\"use strict\";\n\nfunction HttpRequestError(message) {\n  this.message = 'HttpRequest Error: ' + (message || '');\n}\nHttpRequestError.prototype = new Error();\nHttpRequestError.prototype.name = \"HttpRequest Error\";\n\nfunction HttpRequest(createXhr) {\n  if (!isFunction(createXhr)) {\n    throw new HttpRequestError('Missing XMLHttpRequest factory method');\n  }\n\n  this.createXhr = createXhr;\n}\n\nHttpRequest.prototype.run = function (method, url, callback, options) {\n  sanityCheck(url, callback, options);\n  var timeout, timeoutId;\n  var xhr = this.createXhr();\n  options = options || {};\n  timeout = isNumber(options.timeout) ? options.timeout : 0;\n\n  xhr.open(method, urlParts(url).href, true);\n\n  if (options.headers) {\n    setHeaders(xhr, options.headers);\n  }\n\n  if (options.withCredentials) {\n    xhr.withCredentials = true;\n  }\n\n  xhr.onload = function () {\n    var statusText, response, status;\n\n    /**\n     * The only way to do a secure request on IE8 and IE9 is with the XDomainRequest object. Unfortunately, microsoft is\n     * so nice that decided that the status property and the 'getAllResponseHeaders' method where not needed so we have to\n     * fake them. If the request gets done with an XDomainRequest instance, we will assume that there are no headers and\n     * the status will always be 200. If you don't like it, DO NOT USE ANCIENT BROWSERS!!!\n     *\n     * For mor info go to: https://msdn.microsoft.com/en-us/library/cc288060(v=vs.85).aspx\n     */\n    if (!xhr.getAllResponseHeaders) {\n      xhr.getAllResponseHeaders = function () {\n        return null;\n      };\n    }\n\n    if (!xhr.status) {\n      xhr.status = 200;\n    }\n\n    if (isDefined(timeoutId)) {\n      clearTimeout(timeoutId);\n      timeoutId = undefined;\n    }\n\n    statusText = xhr.statusText || '';\n\n    // responseText is the old-school way of retrieving response (supported by IE8 & 9)\n    // response/responseType properties were introduced in XHR Level2 spec (supported by IE10)\n    response = ('response' in xhr) ? xhr.response : xhr.responseText;\n\n    // normalize IE9 bug (http://bugs.jquery.com/ticket/1450)\n    status = xhr.status === 1223 ? 204 : xhr.status;\n\n    callback(\n      status,\n      response,\n      xhr.getAllResponseHeaders(),\n      statusText);\n  };\n\n  xhr.onerror = requestError;\n  xhr.onabort = requestError;\n\n  xhr.send();\n\n  if (timeout > 0) {\n    timeoutId = setTimeout(function () {\n      xhr && xhr.abort();\n    }, timeout);\n  }\n\n  function sanityCheck(url, callback, options) {\n    if (!isString(url) || isEmptyString(url)) {\n      throw new HttpRequestError(\"Invalid url '\" + url + \"'\");\n    }\n\n    if (!isFunction(callback)) {\n      throw new HttpRequestError(\"Invalid handler '\" + callback + \"' for the http request\");\n    }\n\n    if (isDefined(options) && !isObject(options)) {\n      throw new HttpRequestError(\"Invalid options map '\" + options + \"'\");\n    }\n  }\n\n  function setHeaders(xhr, headers) {\n    forEach(headers, function (value, key) {\n      if (isDefined(value)) {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n  }\n\n  function requestError() {\n    callback(-1, null, null, '');\n  }\n};\n\nHttpRequest.prototype.get = function (url, callback, options) {\n  this.run('GET', url, processResponse, options);\n\n  function processResponse(status, response, headersString, statusText) {\n    if (isSuccess(status)) {\n      callback(null, response, status, headersString, statusText);\n    } else {\n      callback(new HttpRequestError(statusText), response, status, headersString, statusText);\n    }\n  }\n\n  function isSuccess(status) {\n    return 200 <= status && status < 300;\n  }\n};\n\nfunction createXhr() {\n  var xhr = new XMLHttpRequest();\n  if (!(\"withCredentials\" in xhr)) {\n    // XDomainRequest for IE.\n    xhr = new XDomainRequest();\n  }\n  return xhr;\n}\n\nvar http = new HttpRequest(createXhr);\n","'use strict';\n\n/**\n * documentMode is an IE-only property\n * http://msdn.microsoft.com/en-us/library/ie/cc196988(v=vs.85).aspx\n */\nvar msie = document.documentMode;\n\n/**\n *\n * IMPORTANT NOTE: This function comes from angularJs and was originally called urlResolve\n *                 you can take a look at the original code here https://github.com/angular/angular.js/blob/master/src/ng/urlUtils.js\n *\n * Implementation Notes for non-IE browsers\n * ----------------------------------------\n * Assigning a URL to the href property of an anchor DOM node, even one attached to the DOM,\n * results both in the normalizing and parsing of the URL.  Normalizing means that a relative\n * URL will be resolved into an absolute URL in the context of the application document.\n * Parsing means that the anchor node's host, hostname, protocol, port, pathname and related\n * properties are all populated to reflect the normalized URL.  This approach has wide\n * compatibility - Safari 1+, Mozilla 1+, Opera 7+,e etc.  See\n * http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *\n * Implementation Notes for IE\n * ---------------------------\n * IE >= 8 and <= 10 normalizes the URL when assigned to the anchor node similar to the other\n * browsers.  However, the parsed components will not be set if the URL assigned did not specify\n * them.  (e.g. if you assign a.href = \"foo\", then a.protocol, a.host, etc. will be empty.)  We\n * work around that by performing the parsing in a 2nd step by taking a previously normalized\n * URL (e.g. by assigning to a.href) and assigning it a.href again.  This correctly populates the\n * properties such as protocol, hostname, port, etc.\n *\n * IE7 does not normalize the URL when assigned to an anchor node.  (Apparently, it does, if one\n * uses the inner HTML approach to assign the URL as part of an HTML snippet -\n * http://stackoverflow.com/a/472729)  However, setting img[src] does normalize the URL.\n * Unfortunately, setting img[src] to something like \"javascript:foo\" on IE throws an exception.\n * Since the primary usage for normalizing URLs is to sanitize such URLs, we can't use that\n * method and IE < 8 is unsupported.\n *\n * References:\n *   http://developer.mozilla.org/en-US/docs/Web/API/HTMLAnchorElement\n *   http://www.aptana.com/reference/html/api/HTMLAnchorElement.html\n *   http://url.spec.whatwg.org/#urlutils\n *   https://github.com/angular/angular.js/pull/2902\n *   http://james.padolsey.com/javascript/parsing-urls-with-the-dom/\n *\n * @kind function\n * @param {string} url The URL to be parsed.\n * @description Normalizes and parses a URL.\n * @returns {object} Returns the normalized URL as a dictionary.\n *\n *   | member name   | Description    |\n *   |---------------|----------------|\n *   | href          | A normalized version of the provided URL if it was not an absolute URL |\n *   | protocol      | The protocol including the trailing colon                              |\n *   | host          | The host and port (if the port is non-default) of the normalizedUrl    |\n *   | search        | The search params, minus the question mark                             |\n *   | hash          | The hash string, minus the hash symbol\n *   | hostname      | The hostname\n *   | port          | The port, without \":\"\n *   | pathname      | The pathname, beginning with \"/\"\n *\n */\n\nvar urlParsingNode = document.createElement(\"a\");\n\nfunction urlParts(url) {\n  var href = url;\n\n  if (msie) {\n    // Normalize before parse.  Refer Implementation Notes on why this is\n    // done in two steps on IE.\n    urlParsingNode.setAttribute(\"href\", href);\n    href = urlParsingNode.href;\n  }\n\n  urlParsingNode.setAttribute('href', href);\n\n  // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n  return {\n    href: urlParsingNode.href,\n    protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n    host: urlParsingNode.host,\n    search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n    hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n    hostname: urlParsingNode.hostname,\n    port: isNotEmptyString(urlParsingNode.port)? urlParsingNode.port: 80,\n    pathname: (urlParsingNode.pathname.charAt(0) === '/')\n      ? urlParsingNode.pathname\n      : '/' + urlParsingNode.pathname\n  };\n}\n\n\n/**\n * This function accepts a query string (search part of a url) and returns a dictionary with\n * the different key value pairs\n * @param {string} qs queryString\n */\nfunction queryStringToObj(qs, cond) {\n  var pairs, qsObj;\n\n  cond = isFunction(cond)? cond : function() {\n    return true;\n  };\n\n  qs = qs.trim().replace(/^\\?/, '');\n  pairs = qs.split('&');\n  qsObj = {};\n\n  forEach(pairs, function (pair) {\n    var keyValue, key, value;\n    if (pair !== '') {\n      keyValue = pair.split('=');\n      key = keyValue[0];\n      value = keyValue[1];\n      if(cond(key, value)){\n        qsObj[key] = value;\n      }\n    }\n  });\n\n  return qsObj;\n}\n\n/**\n * This function accepts an object and serializes it into a query string without the leading '?'\n * @param obj\n * @returns {string}\n */\nfunction objToQueryString(obj) {\n  var pairs = [];\n  forEach(obj, function (value, key) {\n    pairs.push(key + '=' + value);\n  });\n  return pairs.join('&');\n}\n\n","function VPAIDAdUnitWrapper(vpaidAdUnit, opts) {\n  if (!(this instanceof VPAIDAdUnitWrapper)) {\n    return new VPAIDAdUnitWrapper(vpaidAdUnit);\n  }\n  sanityCheck(vpaidAdUnit, opts);\n  var defaultOpts = {\n    responseTimeout: 5000\n  };\n\n  this.options = extend({}, defaultOpts, opts || {});\n  this._adUnit = vpaidAdUnit;\n\n  /*** Local Functions ***/\n  function sanityCheck(adUnit, opts) {\n    if (!adUnit || !VPAIDAdUnitWrapper.checkVPAIDInterface(adUnit)) {\n      throw new VASTError('on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface');\n    }\n\n    if (opts && !isObject(opts)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper, expected options hash  but got '\" + opts + \"'\");\n    }\n  }\n}\n\nVPAIDAdUnitWrapper.checkVPAIDInterface = function checkVPAIDInterface(VPAIDAdUnit) {\n  //NOTE: skipAd is not part of the method list because it only appears in VPAID 2.0 and we support VPAID 1.0\n  var VPAIDInterfaceMethods = [\n    'handshakeVersion', 'initAd', 'startAd', 'stopAd', 'resizeAd', 'pauseAd', 'expandAd', 'collapseAd'\n  ];\n\n  for (var i = 0, len = VPAIDInterfaceMethods.length; i < len; i++) {\n    if (!VPAIDAdUnit || !isFunction(VPAIDAdUnit[VPAIDInterfaceMethods[i]])) {\n      return false;\n    }\n  }\n\n\n  return canSubscribeToEvents(VPAIDAdUnit) && canUnsubscribeFromEvents(VPAIDAdUnit);\n\n  /*** Local Functions ***/\n\n  function canSubscribeToEvents(adUnit) {\n    return isFunction(adUnit.subscribe) || isFunction(adUnit.addEventListener) || isFunction(adUnit.on);\n  }\n\n  function canUnsubscribeFromEvents(adUnit) {\n    return isFunction(adUnit.unsubscribe) || isFunction(adUnit.removeEventListener) || isFunction(adUnit.off);\n\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.adUnitAsyncCall = function () {\n  var args = arrayLikeObjToArray(arguments);\n  var method = args.shift();\n  var cb = args.pop();\n  var timeoutId;\n\n  sanityCheck(method, cb, this._adUnit);\n  args.push(wrapCallback());\n\n  this._adUnit[method].apply(this._adUnit, args);\n  timeoutId = setTimeout(function () {\n    timeoutId = null;\n    cb(new VASTError(\"on VPAIDAdUnitWrapper, timeout while waiting for a response on call '\" + method + \"'\"));\n    cb = noop;\n  }, this.options.responseTimeout);\n\n  /*** Local functions ***/\n  function sanityCheck(method, cb, adUnit) {\n    if (!isString(method) || !isFunction(adUnit[method])) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name\");\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback\");\n    }\n  }\n\n  function wrapCallback() {\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n      cb.apply(this, arguments);\n    };\n  }\n};\n\nVPAIDAdUnitWrapper.prototype.on = function (evtName, handler) {\n  var addEventListener = this._adUnit.addEventListener || this._adUnit.subscribe || this._adUnit.on;\n  addEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.off = function (evtName, handler) {\n  var removeEventListener = this._adUnit.removeEventListener || this._adUnit.unsubscribe || this._adUnit.off;\n  removeEventListener.call(this._adUnit, evtName, handler);\n};\n\nVPAIDAdUnitWrapper.prototype.waitForEvent = function (evtName, cb, context) {\n  var timeoutId;\n  sanityCheck(evtName, cb);\n  context = context || null;\n\n  this.on(evtName, responseListener);\n\n  timeoutId = setTimeout(function () {\n    cb(new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event '\" + evtName + \"'\"));\n    timeoutId = null;\n    cb = noop;\n  }, this.options.responseTimeout);\n\n  /*** Local functions ***/\n  function sanityCheck(evtName, cb) {\n    if (!isString(evtName)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, missing evt name\");\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError(\"on VPAIDAdUnitWrapper.waitForEvent, missing callback\");\n    }\n  }\n\n  function responseListener() {\n    var args = arrayLikeObjToArray(arguments);\n\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      timeoutId = null;\n    }\n\n    args.unshift(null);\n    cb.apply(context, args);\n  }\n};\n\n// VPAID METHODS\nVPAIDAdUnitWrapper.prototype.handshakeVersion = function (version, cb) {\n  this.adUnitAsyncCall('handshakeVersion', version, cb);\n};\n\n/* jshint maxparams:6 */\nVPAIDAdUnitWrapper.prototype.initAd = function (width, height, viewMode, desiredBitrate, adUnitData, cb) {\n  this.waitForEvent('AdLoaded', cb);\n  this._adUnit.initAd(width, height, viewMode, desiredBitrate, adUnitData);\n};\n\nVPAIDAdUnitWrapper.prototype.resizeAd = function (width, height, viewMode, cb) {\n  // NOTE: AdSizeChange event is only supported on VPAID 2.0 so for the moment we are not going to use it\n  // and will assume that everything is fine after the async call\n  this.adUnitAsyncCall('resizeAd', width, height, viewMode, cb);\n};\n\nVPAIDAdUnitWrapper.prototype.startAd = function (cb) {\n  this.waitForEvent('AdStarted', cb);\n  this._adUnit.startAd();\n};\n\nVPAIDAdUnitWrapper.prototype.stopAd = function (cb) {\n  this.waitForEvent('AdStopped', cb);\n  this._adUnit.stopAd();\n};\n\nVPAIDAdUnitWrapper.prototype.pauseAd = function (cb) {\n  this.waitForEvent('AdPaused', cb);\n  this._adUnit.pauseAd();\n};\n\nVPAIDAdUnitWrapper.prototype.resumeAd = function (cb) {\n  this.waitForEvent('AdPlaying', cb);\n  this._adUnit.resumeAd();\n};\n\nVPAIDAdUnitWrapper.prototype.expandAd = function (cb) {\n  this.waitForEvent('AdExpandedChange', cb);\n  this._adUnit.expandAd();\n};\n\nVPAIDAdUnitWrapper.prototype.collapseAd = function (cb) {\n  this.waitForEvent('AdExpandedChange', cb);\n  this._adUnit.collapseAd();\n};\n\nVPAIDAdUnitWrapper.prototype.skipAd = function (cb) {\n  this.waitForEvent('AdSkipped', cb);\n  this._adUnit.skipAd();\n};\n\n//VPAID property getters\n[\n  'adLinear',\n  'adWidth',\n  'adHeight',\n  'adExpanded',\n  'adSkippableState',\n  'adRemainingTime',\n  'adDuration',\n  'adVolume',\n  'adCompanions',\n  'adIcons'\n].forEach(function (property) {\n  var getterName = 'get' + capitalize(property);\n\n  VPAIDAdUnitWrapper.prototype[getterName] = function (cb) {\n    this.adUnitAsyncCall(getterName, cb);\n  };\n});\n\n//VPAID property setters\nVPAIDAdUnitWrapper.prototype.setAdVolume = function(volume, cb){\n  this.adUnitAsyncCall('setAdVolume',volume, cb);\n};\n","function VPAIDFlashTech(mediaFile, settings) {\n  if (!(this instanceof VPAIDFlashTech)) {\n    return new VPAIDFlashTech(mediaFile);\n  }\n  sanityCheck(mediaFile);\n  this.name = 'vpaid-flash';\n  this.mediaFile = mediaFile;\n  this.containerEl = null;\n  this.vpaidFlashClient = null;\n  this.settings = settings;\n\n  /*** local functions ***/\n  function sanityCheck(mediaFile) {\n    if (!mediaFile || !isString(mediaFile.src)) {\n      throw new VASTError('on VPAIDFlashTech, invalid MediaFile');\n    }\n  }\n}\n\nVPAIDFlashTech.supports = function (type) {\n  return type === 'application/x-shockwave-flash';\n};\n\nVPAIDFlashTech.prototype.loadAdUnit = function loadFlashCreative(containerEl, objectEl, callback) {\n  var that = this;\n  var flashClientOpts = this.settings && this.settings.vpaidFlashLoaderPath ? {data: this.settings.vpaidFlashLoaderPath} : undefined;\n  sanityCheck(containerEl, callback);\n\n  this.containerEl = containerEl;\n  this.vpaidFlashClient = new VPAIDFLASHClient(containerEl, function (error) {\n    if (error) {\n      return callback(error);\n    }\n\n    that.vpaidFlashClient.loadAdUnit(that.mediaFile.src, callback);\n  }, flashClientOpts);\n\n  /*** Local Functions ***/\n  function sanityCheck(container, cb) {\n\n    if (!dom.isDomElement(container)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, invalid dom container element');\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError('on VPAIDFlashTech.loadAdUnit, missing valid callback');\n    }\n  }\n};\n\nVPAIDFlashTech.prototype.unloadAdUnit = function () {\n  if (this.vpaidFlashClient) {\n    try{\n      this.vpaidFlashClient.destroy();\n    } catch(e){\n      if(console && isFunction(console.log)){\n        console.log('VAST ERROR: trying to unload the VPAID adunit');\n      }\n    }\n    this.vpaidFlashClient = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n};\n","function VPAIDHTML5Tech(mediaFile) {\n\n  if(!(this instanceof VPAIDHTML5Tech)) {\n    return new VPAIDHTML5Tech(mediaFile);\n  }\n\n  sanityCheck(mediaFile);\n\n  this.name = 'vpaid-html5';\n  this.containerEl = null;\n  this.videoEl = null;\n  this.vpaidHTMLClient = null;\n\n  this.mediaFile = mediaFile;\n\n  function sanityCheck(mediaFile) {\n      if (!mediaFile || !isString(mediaFile.src)) {\n        throw new VASTError(VPAIDHTML5Tech.INVALID_MEDIA_FILE);\n      }\n  }\n}\n\nVPAIDHTML5Tech.supports = function (type) {\n  return !isOldIE() && type === 'application/javascript';\n};\n\nVPAIDHTML5Tech.prototype.loadAdUnit = function loadAdUnit(containerEl, videoEl, callback) {\n  sanityCheck(containerEl, videoEl, callback);\n\n  this.containerEl = containerEl;\n  this.videoEl = videoEl;\n  this.vpaidHTMLClient = new VPAIDHTML5Client(containerEl, videoEl, {});\n  this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src, callback);\n\n  function sanityCheck(container, video, cb) {\n    if (!dom.isDomElement(container)) {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL);\n    }\n\n    if (!dom.isDomElement(video) || video.tagName.toLowerCase() !== 'video') {\n      throw new VASTError(VPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL);\n    }\n\n    if (!isFunction(cb)) {\n      throw new VASTError(VPAIDHTML5Tech.MISSING_CALLBACK);\n    }\n  }\n};\n\nVPAIDHTML5Tech.prototype.unloadAdUnit = function unloadAdUnit() {\n  if (this.vpaidHTMLClient) {\n    try {\n      this.vpaidHTMLClient.destroy();\n    } catch(e) {\n      if (console && isFunction(console.log)) {\n        console.log('VAST ERROR: trying to unload the VPAID adunit');\n      }\n    }\n\n    this.vpaidHTMLClient = null;\n  }\n\n  if (this.containerEl) {\n    dom.remove(this.containerEl);\n    this.containerEl = null;\n  }\n};\n\nvar PREFIX = 'on VPAIDHTML5Tech';\nVPAIDHTML5Tech.INVALID_MEDIA_FILE = PREFIX + ', invalid MediaFile';\nVPAIDHTML5Tech.INVALID_DOM_CONTAINER_EL = PREFIX + ', invalid container HtmlElement';\nVPAIDHTML5Tech.INVALID_DOM_VIDEO_EL = PREFIX + ', invalid HTMLVideoElement';\nVPAIDHTML5Tech.MISSING_CALLBACK = PREFIX + ', missing valid callback';\n\n","function VPAIDIntegrator(player, settings) {\n  if (!(this instanceof VPAIDIntegrator)) {\n    return new VPAIDIntegrator(player);\n  }\n\n  this.VIEW_MODE = {\n    NORMAL: 'normal',\n    FULLSCREEN: \"fullscreen\",\n    THUMBNAIL: \"thumbnail\"\n  };\n  this.player = player;\n  this.containerEl = createVPAIDContainerEl(player);\n  this.options = {\n    responseTimeout: 2000,\n    VPAID_VERSION: {\n      full: '2.0',\n      major: 2,\n      minor: 0\n    }\n  };\n  this.settings = settings;\n\n  /*** Local functions ***/\n\n  function createVPAIDContainerEl() {\n    var containerEl = document.createElement('div');\n    dom.addClass(containerEl, 'VPAID-container');\n    player.el().insertBefore(containerEl, player.controlBar.el());\n    return containerEl;\n\n  }\n}\n\n//List of supported VPAID technologies\nVPAIDIntegrator.techs = [\n  VPAIDFlashTech,\n  VPAIDHTML5Tech\n];\n\nVPAIDIntegrator.prototype.playAd = function playVPaidAd(vastResponse, callback) {\n  var that = this;\n  var tech;\n  var player = this.player;\n\n  callback = callback || noop;\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('on VASTIntegrator.playAd, missing required VASTResponse'));\n  }\n\n  tech = this._findSupportedTech(vastResponse, this.settings);\n  dom.addClass(player.el(), 'vjs-vpaid-ad');\n\n  playerUtils.only(player, ['error', 'vpaid.adEnd', 'vast.adsCancel'], removeAdUnit);\n\n  if (tech) {\n    async.waterfall([\n      function (next) {\n        next(null, tech, vastResponse);\n      },\n      this._loadAdUnit.bind(this),\n      this._playAdUnit.bind(this),\n      this._finishPlaying.bind(this)\n\n    ], function (error, adUnit, vastResponse) {\n      if (error) {\n        that._trackError(vastResponse);\n      }\n      player.trigger('vpaid.adEnd');\n      callback(error, vastResponse);\n    });\n\n    return {\n      type: 'VPAID',\n      pauseAd: function() {\n        player.trigger('vpaid.pauseAd');\n      },\n      resumeAd: function() {\n        player.trigger('vpaid.resumeAd');\n      }\n    };\n  }\n\n  callback(new VASTError('on VPAIDIntegrator.playAd, could not find a supported mediaFile'));\n\n  return null;\n  /*** Local functions ***/\n  function removeAdUnit() {\n    tech.unloadAdUnit();\n    dom.removeClass(player.el(), 'vjs-vpaid-ad');\n  }\n};\n\nVPAIDIntegrator.prototype._findSupportedTech = function (vastResponse, settings) {\n  if (!(vastResponse instanceof VASTResponse)) {\n    return null;\n  }\n\n  var vpaidMediaFiles = vastResponse.mediaFiles.filter(vastUtil.isVPAID);\n  var i, len, mediaFile, VPAIDTech;\n\n  for (i = 0, len = vpaidMediaFiles.length; i < len; i += 1) {\n    mediaFile = vpaidMediaFiles[i];\n    VPAIDTech = findSupportedTech(mediaFile);\n    if (VPAIDTech) {\n      return new VPAIDTech(mediaFile, settings);\n    }\n  }\n\n  return null;\n\n  /*** Local functions ***/\n  function findSupportedTech(mediafile) {\n    var type = mediafile.type;\n    var i, len, VPAIDTech;\n\n    for (i = 0, len = VPAIDIntegrator.techs.length; i < len; i += 1) {\n      VPAIDTech = VPAIDIntegrator.techs[i];\n      if (VPAIDTech.supports(type)) {\n        return VPAIDTech;\n      }\n    }\n    return null;\n  }\n};\n\nVPAIDIntegrator.prototype._loadAdUnit = function (tech, vastResponse, next) {\n  var player = this.player;\n  var vjsTechEl = player.el().querySelector('.vjs-tech');\n  tech.loadAdUnit(this.containerEl, vjsTechEl, function (error, adUnit) {\n    if (error) {\n      return next(error, adUnit, vastResponse);\n    }\n\n    try {\n      var WrappedAdUnit = new VPAIDAdUnitWrapper(adUnit, {src: tech.mediaFile.src});\n      var techClass = 'vjs-' + tech.name + '-ad';\n      dom.addClass(player.el(), techClass);\n      player.one('vpaid.adEnd', function() {\n        dom.removeClass(player.el(),techClass);\n      });\n      next(null, WrappedAdUnit, vastResponse);\n    } catch (e) {\n      next(e, adUnit, vastResponse);\n    }\n  });\n};\n\nVPAIDIntegrator.prototype._playAdUnit = function (adUnit, vastResponse, callback) {\n  async.waterfall([\n    function (next) {\n      next(null, adUnit, vastResponse);\n    },\n    this._handshake.bind(this),\n    this._initAd.bind(this),\n    this._setupEvents.bind(this),\n    this._addSkipButton.bind(this),\n    this._linkPlayerControls.bind(this),\n    this._startAd.bind(this)\n  ], callback);\n};\n\nVPAIDIntegrator.prototype._handshake = function handshake(adUnit, vastResponse, next) {\n  adUnit.handshakeVersion('2.0', function (error, version) {\n    if (error) {\n      return next(error, adUnit, vastResponse);\n    }\n\n    if (version && isSupportedVersion(version)) {\n      return next(null, adUnit, vastResponse);\n    }\n\n    return next(new VASTError('on VPAIDIntegrator._handshake, unsupported version \"' + version + '\"'), adUnit, vastResponse);\n  });\n\n  function isSupportedVersion(version) {\n    var majorNum = major(version);\n    return majorNum >= 1 && majorNum <= 2;\n  }\n\n  function major(version) {\n    var parts = version.split('.');\n    return parseInt(parts[0], 10);\n  }\n};\n\nVPAIDIntegrator.prototype._initAd = function (adUnit, vastResponse, next) {\n  var tech = this.player.el().querySelector('.vjs-tech');\n  var dimension = dom.getDimension(tech);\n  adUnit.initAd(dimension.width, dimension.height, this.VIEW_MODE.NORMAL, -1, vastResponse.adParameters || '', function (error) {\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._setupEvents = function (adUnit, vastResponse, next) {\n  var adUnitSrc = adUnit.options.src;\n  var tracker = new VASTTracker(adUnitSrc, vastResponse);\n  var player = this.player;\n\n  adUnit.on('AdSkipped', function () {\n    tracker.trackSkip();\n  });\n\n  adUnit.on('AdImpression', function () {\n    tracker.trackImpressions();\n  });\n\n  adUnit.on('AdVideoStart', function () {\n    tracker.trackStart();\n  });\n\n  adUnit.on('AdVideoFirstQuartile', function () {\n    tracker.trackFirstQuartile();\n  });\n\n  adUnit.on('AdVideoMidpoint', function () {\n    tracker.trackMidpoint();\n  });\n\n  adUnit.on('AdVideoThirdQuartile', function () {\n    tracker.trackThirdQuartile();\n  });\n\n  adUnit.on('AdVideoComplete', function () {\n    tracker.trackComplete();\n  });\n\n  adUnit.on('AdClickThru', function (data) {\n    var url = data.url;\n    var playerHandles = data.playerHandles;\n    var clickThruUrl = isNotEmptyString(url) ? url : generateClickThroughURL(vastResponse.clickThrough);\n\n    tracker.trackClick();\n    if (playerHandles && clickThruUrl) {\n      window.open(clickThruUrl, '_blank');\n    }\n\n    function generateClickThroughURL(clickThroughMacro) {\n      var variables = {\n        ASSETURI: adUnit.options.src,\n        CONTENTPLAYHEAD: 0 //In VPAID there is no method to know the current time from the adUnit\n      };\n\n      return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : null;\n    }\n  });\n\n  adUnit.on('AdUserAcceptInvitation', function () {\n    tracker.trackAcceptInvitation();\n    tracker.trackAcceptInvitationLinear();\n  });\n\n  adUnit.on('AdUserClose', function () {\n    tracker.trackClose();\n    tracker.trackCloseLinear();\n  });\n\n  adUnit.on('AdPaused', function () {\n    tracker.trackPause();\n  });\n\n  adUnit.on('AdUserMinimize', function () {\n    tracker.trackCollapse();\n  });\n\n  adUnit.on('AdError', function () {\n    //NOTE: we track errors code 901, as noted in VAST 3.0\n    tracker.trackErrorWithCode(901);\n  });\n\n  adUnit.on('AdPlaying', function () {\n    //NOTE: we track errors code 901, as noted in VAST 3.0\n    tracker.trackResume();\n  });\n\n  adUnit.on('AdVolumeChange', function () {\n    var lastVolume = player.volume();\n    adUnit.getAdVolume(function (error, currentVolume) {\n      if (currentVolume === 0 && lastVolume > 0) {\n        tracker.trackMute();\n      }\n\n      if (currentVolume > 0 && lastVolume === 0) {\n        tracker.trackUnmute();\n      }\n\n      player.volume(currentVolume);\n    });\n  });\n\n  var updateViewSize = resizeAd.bind(this, player, adUnit, this.VIEW_MODE);\n\n  if (this.settings.autoResize) {\n    var updateViewSizeThrottled = throttle(updateViewSize, 100);\n    dom.addEventListener(window, 'resize', updateViewSizeThrottled);\n    dom.addEventListener(window, 'orientationchange', updateViewSizeThrottled);\n  }\n\n  player.on('vast.resize', updateViewSize);\n  player.on('vpaid.pauseAd', pauseAdUnit);\n  player.on('vpaid.resumeAd', resumeAdUnit);\n\n  player.one('vpaid.adEnd', function () {\n    player.off('vast.resize', updateViewSize);\n    player.off('vpaid.pauseAd', pauseAdUnit);\n    player.off('vpaid.resumeAd', resumeAdUnit);\n  });\n\n  next(null, adUnit, vastResponse);\n\n  /*** Local Functions ***/\n  function pauseAdUnit() {\n    adUnit.pauseAd(noop);\n  }\n\n  function resumeAdUnit() {\n    adUnit.resumeAd(noop);\n  }\n};\n\nVPAIDIntegrator.prototype._addSkipButton = function (adUnit, vastResponse, next) {\n  var skipButton;\n  var player = this.player;\n\n  adUnit.on('AdSkippableStateChange', updateSkipButtonState);\n\n  playerUtils.only(player, ['vast.adEnd', 'vast.adError'], removeSkipButton);\n\n  next(null, adUnit, vastResponse);\n\n  /*** Local function ***/\n  function updateSkipButtonState() {\n    adUnit.getAdSkippableState(function (error, isSkippable) {\n      if (isSkippable) {\n        addSkipButton(player);\n      } else {\n        removeSkipButton(player);\n      }\n    });\n  }\n\n  function addSkipButton(player) {\n    skipButton = createSkipButton(player);\n    player.el().appendChild(skipButton);\n  }\n\n  function removeSkipButton() {\n    dom.remove(skipButton);\n    skipButton = null;\n  }\n\n  function createSkipButton() {\n    var skipButton = window.document.createElement(\"div\");\n    dom.addClass(skipButton, \"vast-skip-button\");\n    dom.addClass(skipButton, \"enabled\");\n    skipButton.innerHTML = \"Skip ad\";\n\n    skipButton.onclick = function (e) {\n      adUnit.skipAd(noop);//We skip the adUnit\n\n      //We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation !== undefined) {\n        e.stopPropagation();\n      } else {\n        return false;\n      }\n    };\n\n    return skipButton;\n  }\n};\n\nVPAIDIntegrator.prototype._linkPlayerControls = function (adUnit, vastResponse, next) {\n  linkVolumeControl(this.player, adUnit);\n  linkFullScreenControl(this.player, adUnit, this.VIEW_MODE);\n\n  next(null, adUnit, vastResponse);\n\n  /*** Local functions ***/\n  function linkVolumeControl(player, adUnit) {\n    player.on('volumechange', updateAdUnitVolume);\n    adUnit.on('AdVolumeChange', updatePlayerVolume);\n\n    player.on('vpaid.adEnd', function () {\n      player.off('volumechange', updateAdUnitVolume);\n    });\n\n\n    /*** local functions ***/\n    function updateAdUnitVolume() {\n      var vol = player.muted() ? 0 : player.volume();\n      adUnit.setAdVolume(vol, logError);\n    }\n\n    function updatePlayerVolume() {\n      adUnit.getAdVolume(function (error, vol) {\n        if (error) {\n          logError(error);\n        } else {\n          player.volume(vol);\n        }\n      });\n    }\n  }\n\n  function linkFullScreenControl(player, adUnit, VIEW_MODE) {\n    var updateViewSize = resizeAd.bind(this, player, adUnit, VIEW_MODE);\n\n    player.on('fullscreenchange', updateViewSize);\n\n    player.on('vpaid.adEnd', function () {\n      player.off('fullscreenchange', updateViewSize);\n    });\n  }\n};\n\nVPAIDIntegrator.prototype._startAd = function (adUnit, vastResponse, next) {\n  var player = this.player;\n\n  adUnit.startAd(function (error) {\n    if (!error) {\n      player.trigger('vast.adStart');\n    }\n    next(error, adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._finishPlaying = function (adUnit, vastResponse, next) {\n  adUnit.on('AdStopped', function () {\n    next(null, adUnit, vastResponse);\n  });\n\n  adUnit.on('AdError', function () {\n    next(new VASTError('on VPAIDIntegrator, error while waiting for the adUnit to finish playing'), adUnit, vastResponse);\n  });\n};\n\nVPAIDIntegrator.prototype._trackError = function trackError(response) {\n  vastUtil.track(response.errorURLMacros, {ERRORCODE: 901});\n};\n\nfunction resizeAd(player, adUnit, VIEW_MODE) {\n  var tech = player.el().querySelector('.vjs-tech');\n  var dimension = dom.getDimension(tech);\n  var MODE = player.isFullscreen() ? VIEW_MODE.FULLSCREEN : VIEW_MODE.NORMAL;\n  adUnit.resizeAd(dimension.width, dimension.height, MODE, logError);\n}\n\nfunction logError(error) {\n  if (error && console && console.log) {\n    console.log('ERROR: ' + error.message, error);\n  }\n}\n\n","function Ad(adJTree) {\n  if (!(this instanceof Ad)) {\n    return new Ad(adJTree);\n  }\n\n  this.id = adJTree.attr('id');\n  this.sequence = adJTree.attr('sequence');\n\n  if(adJTree.inLine) {\n    this.inLine = new InLine(adJTree.inLine);\n  }\n\n  if(adJTree.wrapper){\n    this.wrapper = new Wrapper(adJTree.wrapper);\n  }\n}","\nfunction Creative(creativeJTree) {\n  if(!(this instanceof Creative)) {\n    return new Creative(creativeJTree);\n  }\n\n  this.id = creativeJTree.attr('id');\n  this.sequence = creativeJTree.attr('sequence');\n  this.adId = creativeJTree.attr('adId');\n  this.apiFramework = creativeJTree.attr('apiFramework');\n\n  if(creativeJTree.linear) {\n    this.linear = new Linear(creativeJTree.linear);\n  }\n}","function InLine(inlineJTree) {\n  if (!(this instanceof InLine)) {\n    return new InLine(inlineJTree);\n  }\n\n  //Required Fields\n  this.adTitle = xml.keyValue(inlineJTree.adTitle);\n  this.adSystem = xml.keyValue(inlineJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(inlineJTree.impression);\n  this.creatives = vastUtil.parseCreatives(inlineJTree.creatives);\n\n  //Optional Fields\n  this.description = xml.keyValue(inlineJTree.description);\n  this.advertiser = xml.keyValue(inlineJTree.advertiser);\n  this.surveys = parseSurveys(inlineJTree.survey);\n  this.error = xml.keyValue(inlineJTree.error);\n  this.pricing = xml.keyValue(inlineJTree.pricing);\n  this.extensions = inlineJTree.extensions;\n\n  /*** Local Functions ***/\n  function parseSurveys(inlineSurveys) {\n    if (inlineSurveys) {\n      return transformArray(isArray(inlineSurveys) ? inlineSurveys : [inlineSurveys], function (survey) {\n        if(isNotEmptyString(survey.keyValue)){\n          return {\n            uri: survey.keyValue,\n            type: survey.attr('type')\n          };\n        }\n\n        return undefined;\n      });\n    }\n    return [];\n  }\n}","function Linear(linearJTree) {\n  if (!(this instanceof Linear)) {\n    return new Linear(linearJTree);\n  }\n\n  //Required Elements\n  this.duration = vastUtil.parseDuration(xml.keyValue(linearJTree.duration));\n  this.mediaFiles = parseMediaFiles(linearJTree.mediaFiles && linearJTree.mediaFiles.mediaFile);\n\n  //Optional fields\n  this.trackingEvents = parseTrackingEvents(linearJTree.trackingEvents && linearJTree.trackingEvents.tracking, this.duration);\n  this.skipoffset = vastUtil.parseOffset(xml.attr(linearJTree, 'skipoffset'), this.duration);\n\n  if (linearJTree.videoClicks) {\n    this.videoClicks = new VideoClicks(linearJTree.videoClicks);\n  }\n  \n  if(linearJTree.adParameters) {\n    this.adParameters = xml.keyValue(linearJTree.adParameters);\n\n    if(xml.attr(linearJTree.adParameters, 'xmlEncoded')){\n      this.adParameters = xml.decode(this.adParameters);\n    }\n  }\n\n  /*** Local functions ***/\n  function parseTrackingEvents(trackingEvents, duration) {\n    var trackings = [];\n    if (isDefined(trackingEvents)) {\n      trackingEvents = isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach(function (trackingData) {\n        trackings.push(new TrackingEvent(trackingData, duration));\n      });\n    }\n    return trackings;\n  }\n\n  function parseMediaFiles(mediaFilesJxonTree) {\n    var mediaFiles = [];\n    if (isDefined(mediaFilesJxonTree)) {\n      mediaFilesJxonTree = isArray(mediaFilesJxonTree) ? mediaFilesJxonTree : [mediaFilesJxonTree];\n\n      mediaFilesJxonTree.forEach(function (mfData) {\n        mediaFiles.push(new MediaFile(mfData));\n      });\n    }\n    return mediaFiles;\n  }\n}","function MediaFile(mediaFileJTree) {\n  if (!(this instanceof MediaFile)) {\n    return new MediaFile(mediaFileJTree);\n  }\n\n  //Required attributes\n  this.src = xml.keyValue(mediaFileJTree);\n  this.delivery = mediaFileJTree.attr('delivery');\n  this.type = mediaFileJTree.attr('type');\n  this.width = mediaFileJTree.attr('width');\n  this.height = mediaFileJTree.attr('height');\n\n  //Optional attributes\n  this.codec = mediaFileJTree.attr('codec');\n  this.id = mediaFileJTree.attr('id');\n  this.bitrate = mediaFileJTree.attr('bitrate');\n  this.minBitrate = mediaFileJTree.attr('minBitrate');\n  this.maxBitrate = mediaFileJTree.attr('maxBitrate');\n  this.scalable = mediaFileJTree.attr('scalable');\n  this.maintainAspectRatio = mediaFileJTree.attr('maintainAspectRatio');\n  this.apiFramework = mediaFileJTree.attr('apiFramework');\n}","function TrackingEvent(trackingJTree, duration) {\n  if (!(this instanceof TrackingEvent)) {\n    return new TrackingEvent(trackingJTree, duration);\n  }\n\n  this.name = trackingJTree.attr('event');\n  this.uri = xml.keyValue(trackingJTree);\n\n  if('progress' === this.name) {\n    this.offset = vastUtil.parseOffset(trackingJTree.attr('offset'), duration);\n  }\n}\n","function VASTClient(options) {\n  if (!(this instanceof VASTClient)) {\n    return new VASTClient(options);\n  }\n  var defaultOptions = {\n    WRAPPER_LIMIT: 5\n  };\n\n  options = options || {};\n  this.settings = extend({}, options, defaultOptions);\n  this.errorURLMacros = [];\n}\n\nVASTClient.prototype.getVASTResponse = function getVASTResponse(url, callback) {\n  var that = this;\n\n  //We reset the errorURLMacros before doing anything.\n  this.errorURLMacros = [];\n\n  async.waterfall([\n      this._getAd.bind(this, url),\n      buildVASTResponse\n    ],\n    this._sendVASTResponse(callback));\n\n  /*** Local functions ***/\n  function buildVASTResponse(adsChain, cb) {\n    try {\n      var response = that._buildVASTResponse(adsChain);\n      cb(null, response);\n    } catch (e) {\n      cb(e);\n    }\n  }\n};\n\nVASTClient.prototype._sendVASTResponse = function sendVASTResponse(callback) {\n  var that = this;\n  callback = callback || noop;\n\n  return function (error, response) {\n    if (error) {\n      vastUtil.track(that.errorURLMacros, {ERRORCODE: error.code || 900});  //900 <== Undefined error\n    }\n    callback(error, response);\n  };\n};\n\nVASTClient.prototype._getAd = function getVASTAd(url, callback) {\n  var error;\n  var that = this;\n  var options = isObject(url) && !isNull(url) ? url : {url: url};\n  options.ads = options.ads || [];\n  error = sanityCheck(options, callback);\n  if (error) {\n    if (isFunction(callback)) {\n      return callback(error, null);\n    }\n    throw error;\n  }\n\n  async.waterfall([\n    requestVASTXml,\n    buildAd\n  ], callback);\n\n  /*** local function ***/\n  function sanityCheck(opts, cb) {\n    if (!isString(opts.url)) {\n      return new VASTError('on VASTClient._getAd, missing video tag URL');\n    }\n\n    if (!isFunction(cb)) {\n      return new VASTError('on VASTClient._getAd, missing callback function');\n    }\n\n    if (opts.ads.length >= that.WRAPPER_LIMIT) {\n      return new VASTError(\"on VASTClient._getAd, players wrapper limit reached (the limit is \" + that.WRAPPER_LIMIT + \")\", 302);\n    }\n  }\n\n  function requestVASTXml(callback) {\n    that._requestVASTXml(options.url, callback);\n  }\n\n  function buildAd(adXML, callback) {\n    var adTree;\n    try {\n      adTree = that._buildVastTree(adXML);\n      getValidAd(adTree.ads, options.ads, callback);\n    } catch (e) {\n      callback(e);\n    }\n\n    /*** local Functions  ***/\n    function getValidAd(possibleAds, previousAds, callback) {\n      getAd(possibleAds.shift(), previousAds, function (error, adChain) {\n        if (error) {\n          if (possibleAds.length > 0) {\n            return getValidAd(possibleAds, previousAds, callback);\n          }\n          return callback(error);\n        }\n        callback(null, adChain);\n      });\n    }\n\n    function getAd(adTree, previousAds, callback) {\n      try {\n        var ad = that._buildAd(adTree);\n\n        if (ad.wrapper) {\n          return getNextAd(ad, previousAds, callback);\n        }\n        return callback(null, previousAds.concat(ad));\n      } catch (e) {\n        callback(e);\n      }\n    }\n\n    function getNextAd(ad, previousAds, callback) {\n      return that._getAd({\n        url: ad.wrapper.VASTAdTagURI,\n        ads: previousAds.concat(ad)\n      }, callback);\n    }\n  }\n};\n\nVASTClient.prototype._requestVASTXml = function requestVASTXml(url, callback) {\n  try{\n    http.get(url, function (error, response, status){\n      if(error) {\n        return callback(new VASTError(\"on VASTClient.requestVastXML, HTTP request error with status '\" + status + \"'\", 301));\n      }\n      callback(null, response);\n    }, {\n      withCredentials: true\n    });\n  }catch(e){\n    callback(e);\n  }\n};\n\nVASTClient.prototype._buildVastTree = function buildVastTree(xmlStr) {\n  var vastTree, vastVersion;\n\n  try {\n    vastTree = xml.toJXONTree(xmlStr);\n    vastVersion = xml.attr(vastTree, 'version');\n    vastTree.ads = isArray(vastTree.ad) ? vastTree.ad : [vastTree.ad];\n\n  } catch (e) {\n    throw new VASTError(\"on VASTClient.buildVastTree, error parsing xml\", 100);\n  }\n\n  if (!vastTree.ad) {\n    throw new VASTError('on VASTClient.buildVastTree, no Ad in VAST tree', 303);\n  }\n\n  if(vastVersion && (vastVersion != 3 && vastVersion != 2)){\n    throw new VASTError('on VASTClient.buildVastTree, not supported VAST version \"'+vastVersion+'\"', 102);\n  }\n\n  return vastTree;\n\n};\n\nVASTClient.prototype._buildAd = function buildAd(adJxonTree) {\n  var ad;\n  var that = this;\n\n  try {\n    ad = new Ad(adJxonTree);\n  } catch (e) {\n    throw new VASTError('on VASTClient._buildAd, ' + e.message, 900);\n  }\n\n  addErrorUrlMacros(ad);\n  validateAd(ad);\n\n  return ad;\n  /*** Local Functions ***/\n\n  function addErrorUrlMacros(ad) {\n    if(ad.wrapper && ad.wrapper.error) {\n      that.errorURLMacros.push(ad.wrapper.error);\n    }\n\n    if(ad.inLine && ad.inLine.error){\n      that.errorURLMacros.push(ad.inLine.error);\n    }\n  }\n\n  function validateAd(ad) {\n    var wrapper = ad.wrapper;\n    var inLine = ad.inLine;\n\n    if (inLine && wrapper) {\n      throw new VASTError('on VASTClient._buildAd, InLine and Wrapper both found on the same Ad', 101);\n    }\n\n    if (!inLine && !wrapper) {\n      throw new VASTError('on VASTClient._buildAd, nor wrapper nor inline elements found on the Ad', 101);\n    }\n\n    if (inLine) {\n      if (inLine.creatives.length === 0) {\n        throw new VASTError(\"on VASTClient._buildAd, missing creative in InLine element\", 101);\n      }\n    }\n\n    if (wrapper) {\n      if (!wrapper.VASTAdTagURI) {\n        throw new VASTError(\"on VASTClient._buildAd, missing 'VASTAdTagURI' in wrapper\", 101);\n      }\n    }\n  }\n};\n\nVASTClient.prototype._buildVASTResponse = function buildVASTResponse(adsChain) {\n  var response = new VASTResponse();\n  addAdsToResponse(response, adsChain);\n  validateResponse(response);\n\n  return response;\n\n  //*** Local function ****\n  function addAdsToResponse(response, ads) {\n    ads.forEach(function (ad) {\n      response.addAd(ad);\n    });\n  }\n\n  function validateResponse(response) {\n    var progressEvents = response.trackingEvents.progress;\n\n    if(!response.hasLinear()){\n      throw new VASTError(\"on VASTClient._buildVASTResponse, Received an Ad type that is not supported\", 200);\n    }\n\n    if (!response.duration) {\n      throw new VASTError(\"on VASTClient._buildVASTResponse, Missing duration field in VAST response\", 101);\n    }\n\n    if (progressEvents) {\n      if (progressEvents.length > 1) {\n        throw new VASTError(\"on VASTClient._buildVASTResponse, found more than one progress tracking event in VAST response\", 101);\n      }\n\n      if (!isNumber(progressEvents[0].offset)) {\n        throw new VASTError(\"on VASTClient._buildVASTResponse, missing offset attribute on progress tracking event\", 101);\n      }\n    }\n  }\n};\n","var VAST = {};\n\nfunction VASTError(message, code) {\n  this.message = 'VAST Error: ' + (message || '');\n  if (code) {\n    this.code = code;\n  }\n}\n\nVASTError.prototype = new Error();\nVASTError.prototype.name = \"VAST Error\";","/**\n * Inner helper class that deals with the logic of the individual steps needed to setup an ad in the player.\n *\n * @param player {object} instance of the player that will play the ad. It assumes that the videojs-contrib-ads plugin\n *                        has been initialized when you use its utility functions.\n *\n * @constructor\n */\nfunction VASTIntegrator(player) {\n  if (!(this instanceof VASTIntegrator)) {\n    return new VASTIntegrator(player);\n  }\n\n  this.player = player;\n}\n\nVASTIntegrator.prototype.playAd = function playAd(vastResponse, callback) {\n  var that = this;\n  callback = callback || noop;\n\n  if (!(vastResponse instanceof VASTResponse)) {\n    return callback(new VASTError('On VASTIntegrator, missing required VASTResponse'));\n  }\n\n  async.waterfall([\n    function (next) {\n      next(null, vastResponse);\n    },\n    this._selectAdSource.bind(this),\n    this._createVASTTracker.bind(this),\n    this._addClickThrough.bind(this),\n    this._addSkipButton.bind(this),\n    this._setupEvents.bind(this),\n    this._playSelectedAd.bind(this)\n  ], function (error, response) {\n    if (error && response) {\n      that._trackError(error, response);\n    }\n    callback(error, response);\n  });\n\n  return {\n    type: 'VAST',\n    pauseAd: function() {\n      that.player.pause();\n    },\n\n    resumeAd: function() {\n      that.player.play();\n    }\n  };\n};\n\nVASTIntegrator.prototype._selectAdSource = function selectAdSource(response, callback) {\n  var source;\n\n  var playerWidth = dom.getDimension(this.player.el()).width;\n  response.mediaFiles.sort(function compareTo(a, b) {\n    var deltaA = Math.abs(playerWidth - a.width);\n    var deltaB = Math.abs(playerWidth - b.width);\n    return deltaA - deltaB;\n  });\n\n  source = this.player.selectSource(response.mediaFiles).source;\n\n  if (source) {\n    return callback(null, source, response);\n  }\n\n  // code 403 <== Couldn't find MediaFile that is supported by this video player\n  callback(new VASTError(\"Could not find Ad mediafile supported by this player\", 403), response);\n};\n\nVASTIntegrator.prototype._createVASTTracker = function createVASTTracker(adMediaFile, response, callback) {\n  try {\n    callback(null, adMediaFile, new VASTTracker(adMediaFile.src, response), response);\n  } catch (e) {\n    callback(e, response);\n  }\n};\n\nVASTIntegrator.prototype._setupEvents = function setupEvents(adMediaFile, tracker, response, callback) {\n  var previouslyMuted;\n  var player = this.player;\n  player.on('fullscreenchange', trackFullscreenChange);\n  player.on('vast.adStart', trackImpressions);\n  player.on('pause', trackPause);\n  player.on('timeupdate', trackProgress);\n  player.on('volumechange', trackVolumeChange);\n\n  player.one('vast.adEnd', unbindEvents);\n  player.one('vast.adsCancel', unbindEvents);\n\n  //NOTE: Pending tracking events skip, close, closeLinear, expand, collapse and creativeView. See VAST implementation\n\n  return callback(null, adMediaFile, response);\n\n  /*** Local Functions ***/\n  function unbindEvents() {\n    tracker.trackComplete();\n    player.off('fullscreenchange', trackFullscreenChange);\n    player.off('vast.adStart', trackImpressions);\n    player.off('pause', trackPause);\n    player.off('timeupdate', trackProgress);\n    player.off('volumechange', trackVolumeChange);\n  }\n\n  function trackFullscreenChange() {\n    if (player.isFullscreen()) {\n      tracker.trackFullscreen();\n    } else {\n      tracker.trackExitFullscreen();\n    }\n  }\n\n  function trackPause() {\n    tracker.trackPause();\n    player.one('play', function () {\n      tracker.trackResume();\n    });\n  }\n\n  function trackProgress() {\n    var currentTimeInMs = player.currentTime() * 1000;\n    tracker.trackProgress(currentTimeInMs);\n  }\n\n  function trackImpressions() {\n    tracker.trackImpressions();\n  }\n\n  function trackVolumeChange() {\n    var muted = player.muted();\n    if (muted) {\n      tracker.trackMute();\n    } else if (previouslyMuted) {\n      tracker.trackUnmute();\n    }\n    previouslyMuted = muted;\n  }\n};\n\nVASTIntegrator.prototype._addSkipButton = function addSkipButton(source, tracker, response, callback) {\n  var skipOffsetInSec;\n\n  if (isNumber(response.skipoffset)) {\n    skipOffsetInSec = response.skipoffset / 1000;\n    addSkipButtonToPlayer(this.player, skipOffsetInSec);\n  }\n  callback(null, source, tracker, response);\n\n  /*** Local function ***/\n  function addSkipButtonToPlayer(player, skipOffset) {\n    var skipButton = createSkipButton(player);\n    var updateSkipButton = updateSkipButtonState.bind(this, skipButton, skipOffset, player);\n\n    player.el().appendChild(skipButton);\n    player.on('timeupdate', updateSkipButton);\n\n    player.one('ended', removeSkipButton);\n    player.one('error', removeSkipButton);\n\n    function removeSkipButton() {\n      player.off('timeupdate', updateSkipButton);\n      dom.remove(skipButton);\n    }\n  }\n\n  function createSkipButton(player) {\n    var skipButton = window.document.createElement(\"div\");\n    dom.addClass(skipButton, \"vast-skip-button\");\n\n    skipButton.onclick = function (e) {\n      if (dom.hasClass(skipButton, 'enabled')) {\n        tracker.trackSkip();\n        player.trigger('ended');//We trigger the end of the ad playing\n      }\n\n      //We prevent event propagation to avoid problems with the clickThrough and so on\n      if (window.Event.prototype.stopPropagation !== undefined) {\n        e.stopPropagation();\n      } else {\n        return false;\n      }\n    };\n\n    return skipButton;\n  }\n\n  function updateSkipButtonState(skipButton, skipOffset, player) {\n    var timeLeft = Math.ceil(skipOffset - player.currentTime());\n    if (timeLeft > 0) {\n      skipButton.innerHTML = \"Skip in \" + toFixedDigits(timeLeft, 2) + \"...\";\n    } else {\n      if (!dom.hasClass(skipButton, 'enabled')) {\n        dom.addClass(skipButton, 'enabled');\n        skipButton.innerHTML = \"Skip ad\";\n      }\n    }\n  }\n};\n\nVASTIntegrator.prototype._addClickThrough = function addClickThrough(mediaFile, tracker, response, callback) {\n  var player = this.player;\n  var blocker = createClickThroughBlocker(player, tracker, response);\n  var updateBlocker = updateBlockerURL.bind(this, blocker, response, player);\n\n  player.el().insertBefore(blocker, player.controlBar.el());\n  player.on('timeupdate', updateBlocker);\n  player.one('ended', removeBlocker);\n  player.one('error', removeBlocker);\n\n  return callback(null, mediaFile, tracker, response);\n\n  /*** Local Functions ***/\n\n  function createClickThroughBlocker(player, tracker, response) {\n    var blocker = window.document.createElement(\"a\");\n    var clickThroughMacro = response.clickThrough;\n\n    dom.addClass(blocker, 'vast-blocker');\n    blocker.href = generateClickThroughURL(clickThroughMacro, player);\n\n    if (isString(clickThroughMacro)) {\n      blocker.target = \"_blank\";\n    }\n\n    blocker.onclick = function (e) {\n      if (player.paused()) {\n        player.play();\n\n        //We prevent event propagation to avoid problems with the player's normal pause mechanism\n        if (window.Event.prototype.stopPropagation !== undefined) {\n          e.stopPropagation();\n        }\n        return false;\n      }\n\n      player.pause();\n      tracker.trackClick();\n    };\n\n    return blocker;\n  }\n\n  function updateBlockerURL(blocker, response, player) {\n    blocker.href = generateClickThroughURL(response.clickThrough, player);\n  }\n\n  function generateClickThroughURL(clickThroughMacro, player) {\n    var variables = {\n      ASSETURI: mediaFile.src,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(player.currentTime() * 1000)\n    };\n\n    return clickThroughMacro ? vastUtil.parseURLMacro(clickThroughMacro, variables) : '#';\n  }\n\n  function removeBlocker() {\n    player.off('timeupdate', updateBlocker);\n    dom.remove(blocker);\n  }\n};\n\nVASTIntegrator.prototype._playSelectedAd = function playSelectedAd(source, response, callback) {\n  var player = this.player;\n\n  player.src(source);\n\n  player.one('durationchange', playAd);\n  player.one('ended', finishPlayingAd);\n  player.one('error', handlePlayerError);\n\n  /**** local functions ******/\n  function playAd() {\n    player.play();\n    player.one('playing', function () {\n      player.trigger('vast.adStart');\n    });\n  }\n\n  function finishPlayingAd() {\n    player.off('error', handlePlayerError);\n    callback(null, response);\n  }\n\n  function handlePlayerError() {\n    player.off('durationchange', playAd);\n    player.off('ended', finishPlayingAd);\n    callback(new VASTError(\"on VASTIntegrator, Player is unable to play the Ad\", 400), response);\n  }\n};\n\nVASTIntegrator.prototype._trackError = function trackError(error, response) {\n  vastUtil.track(response.errorURLMacros, {ERRORCODE: error.code || 900});\n};\n\n","function VASTTracker(assetURI, vastResponse) {\n  if (!(this instanceof VASTTracker)) {\n    return new VASTTracker(assetURI, vastResponse);\n  }\n\n  sanityCheck(assetURI, vastResponse);\n  this.response = vastResponse;\n  this.assetURI = assetURI;\n  this.progress = 0;\n  this.quartiles = {\n    firstQuartile: Math.round(25 * vastResponse.duration) / 100,\n    midpoint: Math.round(50 * vastResponse.duration) / 100,\n    thirdQuartile: Math.round(75 * vastResponse.duration) / 100\n  };\n\n  /*** Local Functions ***/\n  function sanityCheck(assetURI, vastResponse) {\n    if (!isString(assetURI) || isEmptyString(assetURI)) {\n      throw new VASTError('on VASTTracker constructor, missing required the URI of the ad asset being played');\n    }\n\n    if (!(vastResponse instanceof VASTResponse)) {\n      throw new VASTError('on VASTTracker constructor, missing required VAST response');\n    }\n  }\n}\n\nVASTTracker.prototype.trackURLs = function trackURLs(urls, variables) {\n  if (isArray(urls) && urls.length > 0) {\n    variables = extend({\n      ASSETURI: this.assetURI,\n      CONTENTPLAYHEAD: vastUtil.formatProgress(this.progress)\n    }, variables || {});\n\n    vastUtil.track(urls, variables);\n  }\n};\n\nVASTTracker.prototype.trackEvent = function trackEvent(eventName, trackOnce) {\n  this.trackURLs(getEventUris(this.response.trackingEvents[eventName]));\n  if (trackOnce) {\n    this.response.trackingEvents[eventName] = undefined;\n  }\n\n  /*** Local function ***/\n  function getEventUris(trackingEvents) {\n    var uris;\n\n    if (trackingEvents) {\n      uris = [];\n      trackingEvents.forEach(function (event) {\n        uris.push(event.uri);\n      });\n    }\n    return uris;\n  }\n};\n\nVASTTracker.prototype.trackProgress = function trackProgress(newProgress) {\n  var events = [];\n  var ONCE = true;\n  var ALWAYS = false;\n  var trackingEvents = this.response.trackingEvents;\n\n  if (isNumber(newProgress)) {\n    addTrackEvent('start', ONCE, newProgress > 0);\n    addTrackEvent('rewind', ALWAYS, this.progress > newProgress);\n    addQuartileEvents.call(this, newProgress);\n    addProgressEvent.call(this, newProgress);\n    trackEvents.call(this);\n    this.progress = newProgress;\n  }\n\n  /*** Local function ***/\n  function addTrackEvent(eventName, trackOnce, canBeAdded) {\n    if (trackingEvents[eventName] && canBeAdded) {\n      events.push({\n        name: eventName,\n        trackOnce: !!trackOnce\n      });\n    }\n  }\n\n  function addQuartileEvents(progress) {\n    forEach(this.quartiles, function (quartileTime, eventName) {\n      //We only fire the quartile event if the progress is bigger than the quartile time by one second at most.\n      addTrackEvent(eventName, ONCE, progress >= quartileTime && progress <= (quartileTime + 1000));\n    });\n  }\n\n  function addProgressEvent(progress) {\n    var progressEvent = trackingEvents.progress && trackingEvents.progress[0];\n    if (progressEvent) {\n      addTrackEvent('progress', ONCE, progressEvent.offset <= progress);\n    }\n  }\n\n  function trackEvents() {\n    events.forEach(function (event) {\n      this.trackEvent(event.name, event.trackOnce);\n    }, this);\n  }\n};\n\n[\n  'start',\n  'rewind',\n  'fullscreen',\n  'exitFullscreen',\n  'complete',\n  'pause',\n  'resume',\n  'close',\n  'closeLinear',\n  'skip',\n  'mute',\n  'unmute',\n  'firstQuartile',\n  'midpoint',\n  'thirdQuartile',\n  'acceptInvitation',\n  'acceptInvitationLinear',\n  'collapse',\n  'expand'\n].forEach(function (eventName) {\n    VASTTracker.prototype['track' + capitalize(eventName)] = function () {\n      this.trackEvent(eventName);\n    };\n  });\n\nVASTTracker.prototype.trackErrorWithCode = function trackErrorWithCode(errorcode) {\n  if (isNumber(errorcode)) {\n    this.trackURLs(this.response.errorURLMacros, {ERRORCODE: errorcode});\n  }\n};\n\nVASTTracker.prototype.trackImpressions = function trackImpressions() {\n  this.trackURLs(this.response.impressions);\n};\n\nVASTTracker.prototype.trackClick = function trackClick() {\n  this.trackURLs(this.response.clickTrackings);\n};\n","function VideoClicks(videoClickJTree) {\n  if (!(this instanceof VideoClicks)) {\n    return new VideoClicks(videoClickJTree);\n  }\n\n  this.clickThrough = xml.keyValue(videoClickJTree.clickThrough);\n  this.clickTrackings = parseClickTrackings(videoClickJTree.clickTracking);\n  this.customClicks = parseClickTrackings(videoClickJTree.customClick);\n\n  /*** Local functions ***/\n  function parseClickTrackings(trackingData) {\n    var clickTrackings = [];\n    if (trackingData) {\n      trackingData = isArray(trackingData) ? trackingData : [trackingData];\n      trackingData.forEach(function (clickTrackingData) {\n        clickTrackings.push(xml.keyValue(clickTrackingData));\n      });\n    }\n    return clickTrackings;\n  }\n}","function Wrapper(wrapperJTree) {\n  if(!(this instanceof Wrapper)) {\n    return new Wrapper(wrapperJTree);\n  }\n\n  //Required elements\n  this.adSystem = xml.keyValue(wrapperJTree.adSystem);\n  this.impressions = vastUtil.parseImpressions(wrapperJTree.impression);\n  this.VASTAdTagURI = xml.keyValue(wrapperJTree.vASTAdTagURI);\n\n  //Optional elements\n  this.creatives = vastUtil.parseCreatives(wrapperJTree.creatives);\n  this.error = xml.keyValue(wrapperJTree.error);\n  this.extensions = wrapperJTree.extensions;\n\n  //Optional attrs\n  this.followAdditionalWrappers = isDefined(xml.attr(wrapperJTree, 'followAdditionalWrappers'))? xml.attr(wrapperJTree, 'followAdditionalWrappers'): true;\n  this.allowMultipleAds = xml.attr(wrapperJTree, 'allowMultipleAds');\n  this.fallbackOnNoAd = xml.attr(wrapperJTree, 'fallbackOnNoAd');\n}\n\n\n","/**\n There is a bug on android 4.2 ont the way it parses string\n The code bellow fixes the problem if there is a problem\n */\n(function () {\n var parseNum;\n if(parseInt('09') !== 9) {\n  parseNum = window.parseInt;\n  window.parseInt = function(str) {\n   if(typeof str === 'string' && !/^(\\s+)?0+(\\s+)?$/.test(str)){\n    //We remove the 0 from the left of the number\n    return parseNum(str.replace(/^0+/, ''));\n   }\n\n   return parseNum(str);\n  };\n }\n})();","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar METHODS = [\n    'handshakeVersion',\n    'initAd',\n    'startAd',\n    'stopAd',\n    'skipAd', // VPAID 2.0 new method\n    'resizeAd',\n    'pauseAd',\n    'resumeAd',\n    'expandAd',\n    'collapseAd',\n    'subscribe',\n    'unsubscribe'\n];\n\nvar EVENTS = [\n    'AdLoaded',\n    'AdStarted',\n    'AdStopped',\n    'AdSkipped',\n    'AdSkippableStateChange', // VPAID 2.0 new event\n    'AdSizeChange', // VPAID 2.0 new event\n    'AdLinearChange',\n    'AdDurationChange', // VPAID 2.0 new event\n    'AdExpandedChange',\n    'AdRemainingTimeChange', // [Deprecated in 2.0] but will be still fired for backwards compatibility\n    'AdVolumeChange',\n    'AdImpression',\n    'AdVideoStart',\n    'AdVideoFirstQuartile',\n    'AdVideoMidpoint',\n    'AdVideoThirdQuartile',\n    'AdVideoComplete',\n    'AdClickThru',\n    'AdInteraction', // VPAID 2.0 new event\n    'AdUserAcceptInvitation',\n    'AdUserMinimize',\n    'AdUserClose',\n    'AdPaused',\n    'AdPlaying',\n    'AdLog',\n    'AdError'\n];\n\nvar GETTERS = [\n    'getAdLinear',\n    'getAdWidth', // VPAID 2.0 new getter\n    'getAdHeight', // VPAID 2.0 new getter\n    'getAdExpanded',\n    'getAdSkippableState', // VPAID 2.0 new getter\n    'getAdRemainingTime',\n    'getAdDuration', // VPAID 2.0 new getter\n    'getAdVolume',\n    'getAdCompanions', // VPAID 2.0 new getter\n    'getAdIcons' // VPAID 2.0 new getter\n];\n\nvar SETTERS = [\n    'setAdVolume'\n];\n\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n\n/**\n * IVPAIDAdUnit\n *\n * @class\n *\n * @param {object} creative\n * @param {HTMLElement} el\n * @param {HTMLVideoElement} video\n */\nfunction IVPAIDAdUnit(creative, el, video) {}\n\n\n/**\n * handshakeVersion\n *\n * @param {string} VPAIDVersion\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.handshakeVersion = function (VPAIDVersion, callback) {};\n\n/**\n * initAd\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version\n * @param {NodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.initAd = function(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {};\n\n/**\n * startAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.startAd = function(callback) {};\n\n/**\n * stopAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.stopAd = function(callback) {};\n\n/**\n * skipAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.skipAd = function(callback) {};\n\n/**\n * resizeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resizeAd = function(callback) {};\n\n/**\n * pauseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.pauseAd = function(callback) {};\n\n/**\n * resumeAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.resumeAd = function(callback) {};\n\n/**\n * expandAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.expandAd = function(callback) {};\n\n/**\n * collapseAd\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.collapseAd = function(callback) {};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nIVPAIDAdUnit.prototype.subscribe = function(event, handler, context) {};\n\n/**\n * startAd\n *\n * @param {string} event\n * @param {function} handler\n */\nIVPAIDAdUnit.prototype.unsubscribe = function(event, handler) {};\n\n\n\n/**\n * getAdLinear\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdLinear = function(callback) {};\n\n/**\n * getAdWidth\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdWidth = function(callback) {};\n\n/**\n * getAdHeight\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdHeight = function(callback) {};\n\n/**\n * getAdExpanded\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdExpanded = function(callback) {};\n\n/**\n * getAdSkippableState\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdSkippableState = function(callback) {};\n\n/**\n * getAdRemainingTime\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdRemainingTime = function(callback) {};\n\n/**\n * getAdDuration\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdDuration = function(callback) {};\n\n/**\n * getAdVolume\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdVolume = function(callback) {};\n\n/**\n * getAdCompanions\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdCompanions = function(callback) {};\n\n/**\n * getAdIcons\n *\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.getAdIcons = function(callback) {};\n\n/**\n * setAdVolume\n *\n * @param {number} volume\n * @param {nodeStyleCallback} callback\n */\nIVPAIDAdUnit.prototype.setAdVolume = function(volume, callback) {};\n\naddStaticToInterface(IVPAIDAdUnit, 'METHODS', METHODS);\naddStaticToInterface(IVPAIDAdUnit, 'GETTERS', GETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'SETTERS', SETTERS);\naddStaticToInterface(IVPAIDAdUnit, 'EVENTS',  EVENTS);\n\n\nvar VPAID1_METHODS = METHODS.filter(function(method) {\n    return ['skipAd'].indexOf(method) === -1;\n});\n\naddStaticToInterface(IVPAIDAdUnit, 'checkVPAIDInterface', function checkVPAIDInterface (creative) {\n    var result = VPAID1_METHODS.every(function(key) {\n        return typeof creative[key] === 'function';\n    });\n    return result;\n});\n\nmodule.exports = IVPAIDAdUnit;\n\nfunction addStaticToInterface(Interface, name, value) {\n    Object.defineProperty(Interface, name, {\n        writable: false,\n        configurable: false,\n        value: value\n    });\n}\n\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar IVPAIDAdUnit = require('./IVPAIDAdUnit');\nvar Subscriber = require('./subscriber');\nvar checkVPAIDInterface = IVPAIDAdUnit.checkVPAIDInterface;\nvar utils = require('./utils');\nvar METHODS = IVPAIDAdUnit.METHODS;\nvar ERROR = 'AdError';\nvar AD_CLICK = 'AdClickThru';\nvar FILTERED_EVENTS = IVPAIDAdUnit.EVENTS.filter(function (event) {\n    return event != AD_CLICK;\n});\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n\n/**\n * VPAIDAdUnit\n * @class\n *\n * @param VPAIDCreative\n * @param {HTMLElement} [el] this will be used in initAd environmentVars.slot if defined\n * @param {HTMLVideoElement} [video] this will be used in initAd environmentVars.videoSlot if defined\n */\nfunction VPAIDAdUnit(VPAIDCreative, el, video, iframe) {\n    this._isValid = checkVPAIDInterface(VPAIDCreative);\n    if (this._isValid) {\n        this._creative = VPAIDCreative;\n        this._el = el;\n        this._videoEl = video;\n        this._iframe = iframe;\n        this._subscribers = new Subscriber();\n        $addEventsSubscribers.call(this);\n    }\n}\n\nVPAIDAdUnit.prototype = Object.create(IVPAIDAdUnit.prototype);\n\n/**\n * isValidVPAIDAd will return if the VPAIDCreative passed in constructor is valid or not\n *\n * @return {boolean}\n */\nVPAIDAdUnit.prototype.isValidVPAIDAd = function isValidVPAIDAd() {\n    return this._isValid;\n};\n\nIVPAIDAdUnit.METHODS.forEach(function(method) {\n    //NOTE: this methods arguments order are implemented differently from the spec\n    var ignores = [\n        'subscribe',\n        'unsubscribe',\n        'initAd'\n    ];\n\n    if (ignores.indexOf(method) !== -1) return;\n\n    VPAIDAdUnit.prototype[method] = function () {\n        var ariaty = IVPAIDAdUnit.prototype[method].length;\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        var args = Array.prototype.slice.call(arguments);\n        var callback = (ariaty === args.length) ? args.pop() : undefined;\n\n        setTimeout(function () {\n            var result, error = null;\n            try {\n                result = this._creative[method].apply(this._creative, args);\n            } catch(e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, this._subscribers, error, result);\n        }.bind(this), 0);\n    };\n});\n\n\n/**\n * initAd concreate implementation\n *\n * @param {number} width\n * @param {number} height\n * @param {string} viewMode can be 'normal', 'thumbnail' or 'fullscreen'\n * @param {number} desiredBitrate indicates the desired bitrate in kbps\n * @param {object} [creativeData] used for additional initialization data\n * @param {object} [environmentVars] used for passing implementation-specific of js version, if el & video was used in constructor slot & videoSlot will be added to the object\n * @param {NodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.initAd = function initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars, callback) {\n    creativeData = creativeData || {};\n    environmentVars = utils.extend({\n        slot: this._el,\n        videoSlot: this._videoEl\n    }, environmentVars || {});\n\n    setTimeout(function () {\n        var error;\n        try {\n            this._creative.initAd(width, height, viewMode, desiredBitrate, creativeData, environmentVars);\n        } catch (e) {\n            error = e;\n        }\n\n        callOrTriggerEvent(callback, this._subscribers, error);\n    }.bind(this), 0);\n};\n\n/**\n * subscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n * @param {object} context\n */\nVPAIDAdUnit.prototype.subscribe = function subscribe(event, handler, context) {\n    this._subscribers.subscribe(handler, event, context);\n};\n\n\n/**\n * unsubscribe\n *\n * @param {string} event\n * @param {nodeStyleCallback} handler\n */\nVPAIDAdUnit.prototype.unsubscribe = function unsubscribe(event, handler) {\n    this._subscribers.unsubscribe(handler, event);\n};\n\n//alias\nVPAIDAdUnit.prototype.on = VPAIDAdUnit.prototype.subscribe;\nVPAIDAdUnit.prototype.off = VPAIDAdUnit.prototype.unsubscribe;\n\nIVPAIDAdUnit.GETTERS.forEach(function(getter) {\n    VPAIDAdUnit.prototype[getter] = function (callback) {\n        setTimeout(function () {\n\n            var result, error = null;\n            try {\n                result = this._creative[getter]();\n            } catch(e) {\n                error = e;\n            }\n\n            callOrTriggerEvent(callback, this._subscribers, error, result);\n        }.bind(this), 0);\n    };\n});\n\n/**\n * setAdVolume\n *\n * @param volume\n * @param {nodeStyleCallback} callback\n */\nVPAIDAdUnit.prototype.setAdVolume = function setAdVolume(volume, callback) {\n    setTimeout(function () {\n\n        var result, error = null;\n        try {\n            this._creative.setAdVolume(volume);\n            result = this._creative.getAdVolume();\n        } catch(e) {\n            error = e;\n        }\n\n        if (!error) {\n            error = utils.validate(result === volume, 'failed to apply volume: ' + volume);\n        }\n        callOrTriggerEvent(callback, this._subscribers, error, result);\n    }.bind(this), 0);\n};\n\nVPAIDAdUnit.prototype._destroy = function destroy() {\n    this.stopAd();\n    this._subscribers.unsubscribeAll();\n};\n\nfunction $addEventsSubscribers() {\n    // some ads implement\n    // so they only handle one subscriber\n    // to handle this we create our one\n    FILTERED_EVENTS.forEach(function (event) {\n        this._creative.subscribe($trigger.bind(this, event), event);\n    }.bind(this));\n\n    // map the click event to be an object instead of depending of the order of the arguments\n    // and to be consistent with the flash\n    this._creative.subscribe($clickThruHook.bind(this), AD_CLICK);\n}\n\nfunction $clickThruHook(url, id, playerHandles) {\n    this._subscribers.triggerSync(AD_CLICK, {url: url, id: id, playerHandles: playerHandles});\n}\n\nfunction $trigger(event) {\n    // TODO avoid leaking arguments\n    // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n    this._subscribers.trigger(event, Array.prototype.slice(arguments, 1));\n}\n\nfunction callOrTriggerEvent(callback, subscribers, error, result) {\n    if (callback) {\n        callback(error, result);\n    } else if (error) {\n        subscribers.trigger(ERROR, error);\n    }\n}\n\nmodule.exports = VPAIDAdUnit;\n\n\n},{\"./IVPAIDAdUnit\":1,\"./subscriber\":4,\"./utils\":5}],3:[function(require,module,exports){\n'use strict';\n\n\nvar utils = require('./utils');\nvar unique = utils.unique('vpaidIframe');\nvar VPAIDAdUnit = require('./VPAIDAdUnit');\nvar defaultTemplate = \"<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n</head>\\n<body>\\n    <script type=\\\"text/javascript\\\" src=\\\"{{iframeURL_JS}}\\\"></script>\\n    <script>\\n        parent.postMessage('{\\\"event\\\": \\\"ready\\\", \\\"id\\\": \\\"{{iframeID}}\\\"}', window.location.origin);\\n    </script>\\n    <div class=\\\"ad-element\\\">\\n    </div>\\n</body>\\n</html>\\n\";\n\nvar AD_STOPPED = 'AdStopped';\n\n/**\n * This callback is displayed as global member. The callback use nodejs error-first callback style\n * @callback NodeStyleCallback\n * @param {string|null}\n * @param {undefined|object}\n */\n\n/**\n * VPAIDHTML5Client\n * @class\n *\n * @param {HTMLElement} el that will contain the iframe to load adUnit and a el to add to adUnit slot\n * @param {HTMLVideoElement} video default video element to be used by adUnit\n * @param {object} [templateConfig] template: html template to be used instead of the default, extraOptions: to be used when rendering the template\n * @param {object} [vpaidOptions] timeout: when loading adUnit\n */\nfunction VPAIDHTML5Client(el, video, templateConfig, vpaidOptions) {\n    templateConfig = templateConfig || {};\n\n    this._id = unique();\n    this._destroyed = false;\n\n    this._frameContainer = utils.createElementInEl(el, 'div');\n    this._videoEl = video;\n    this._vpaidOptions = vpaidOptions || {timeout: 10000};\n\n    this._templateConfig = {\n        template: templateConfig.template || defaultTemplate,\n        extraOptions: templateConfig.extraOptions || {}\n    };\n\n}\n\n/**\n * destroy\n *\n */\nVPAIDHTML5Client.prototype.destroy = function destroy() {\n    if (this._destroyed) {\n        return;\n    }\n    this._destroyed = true;\n    $unloadPreviousAdUnit.call(this);\n};\n\n/**\n * isDestroyed\n *\n * @return {boolean}\n */\nVPAIDHTML5Client.prototype.isDestroyed = function isDestroyed() {\n    return this._destroyed;\n};\n\n/**\n * loadAdUnit\n *\n * @param {string} adURL url of the js of the adUnit\n * @param {nodeStyleCallback} callback\n */\nVPAIDHTML5Client.prototype.loadAdUnit = function loadAdUnit(adURL, callback) {\n    $throwIfDestroyed.call(this);\n    $unloadPreviousAdUnit.call(this);\n\n    var frame = utils.createIframeWithContent(\n        this._frameContainer,\n        this._templateConfig.template,\n        utils.extend({\n            iframeURL_JS: adURL,\n            iframeID: this.getID()\n        }, this._templateConfig.extraOptions)\n    );\n    this._frame = frame;\n\n    this._onLoad = utils.callbackTimeout(\n        this._vpaidOptions.timeout,\n        onLoad.bind(this),\n        onTimeout.bind(this)\n    );\n\n    window.addEventListener('message', this._onLoad);\n\n    function onLoad (e) {\n        /*jshint validthis: false */\n        //don't clear timeout\n        if (e.origin !== window.location.origin) return;\n        var result = JSON.parse(e.data);\n\n        //don't clear timeout\n        if (result.id !== this.getID()) return;\n\n        var adUnit, error, createAd;\n        if (!this._frame.contentWindow) {\n\n            error = 'the iframe is not anymore in the DOM tree';\n\n        } else {\n            createAd = this._frame.contentWindow.getVPAIDAd;\n            error = utils.validate(typeof createAd === 'function', 'the ad didn\\'t return a function to create an ad');\n        }\n\n        if (!error) {\n            var adEl = this._frame.contentWindow.document.querySelector('.ad-element');\n            adUnit = new VPAIDAdUnit(createAd(), adEl, this._videoEl, this._frame);\n            adUnit.subscribe(AD_STOPPED, $adDestroyed.bind(this));\n            error = utils.validate(adUnit.isValidVPAIDAd(), 'the add is not fully complaint with VPAID specification');\n        }\n\n        this._adUnit = adUnit;\n        $destroyLoadListener.call(this);\n        callback(error, error ? null : adUnit);\n\n        //clear timeout\n        return true;\n    }\n\n    function onTimeout() {\n        callback('timeout', null);\n    }\n};\n\n/**\n * unloadAdUnit\n *\n */\nVPAIDHTML5Client.prototype.unloadAdUnit = function unloadAdUnit() {\n    $unloadPreviousAdUnit.call(this);\n};\n\n/**\n * getID will return the unique id\n *\n * @return {string}\n */\nVPAIDHTML5Client.prototype.getID = function () {\n    return this._id;\n};\n\n\n/**\n * $removeEl\n *\n * @param {string} key\n */\nfunction $removeEl(key) {\n    var el = this[key];\n    if (el) {\n        el.remove();\n        delete this[key];\n    }\n}\n\nfunction $adDestroyed() {\n    $removeAdElements.call(this);\n    delete this._adUnit;\n}\n\nfunction $unloadPreviousAdUnit() {\n    $removeAdElements.call(this);\n    $destroyAdUnit.call(this);\n}\n\nfunction $removeAdElements() {\n    $removeEl.call(this, '_frame');\n    $destroyLoadListener.call(this);\n}\n\n/**\n * $destroyLoadListener\n *\n */\nfunction $destroyLoadListener() {\n    if (this._onLoad) {\n        window.removeEventListener('message', this._onLoad);\n        utils.clearCallbackTimeout(this._onLoad);\n        delete this._onLoad;\n    }\n}\n\n\nfunction $destroyAdUnit() {\n    if (this._adUnit) {\n        this._adUnit.stopAd();\n        delete this._adUnit;\n    }\n}\n\n/**\n * $throwIfDestroyed\n *\n */\nfunction $throwIfDestroyed() {\n    if (this._destroyed) {\n        throw new Error ('VPAIDHTML5Client already destroyed!');\n    }\n}\n\nmodule.exports = VPAIDHTML5Client;\nwindow.VPAIDHTML5Client = VPAIDHTML5Client;\n\n\n},{\"./VPAIDAdUnit\":2,\"./utils\":5}],4:[function(require,module,exports){\n'use strict';\n\nfunction Subscriber() {\n    this._subscribers = {};\n}\n\nSubscriber.prototype.subscribe = function subscribe(handler, eventName, context) {\n    this.get(eventName).push({handler: handler, context: context});\n};\n\nSubscriber.prototype.unsubscribe = function unsubscribe(handler, eventName) {\n    this._subscribers[eventName] = this.get(eventName).filter(function (subscriber) {\n        return handler === subscriber.handler;\n    });\n};\n\nSubscriber.prototype.unsubscribeAll = function unsubscribeAll() {\n    this._subscribers = {};\n};\n\nSubscriber.prototype.trigger = function(eventName, data) {\n    this.get(eventName).forEach(function (subscriber) {\n        setTimeout(function () {\n            subscriber.handler.call(subscriber.context, data);\n        }, 0);\n    });\n};\n\nSubscriber.prototype.triggerSync = function(eventName, data) {\n    this.get(eventName).forEach(function (subscriber) {\n        subscriber.handler.call(subscriber.context, data);\n    });\n};\n\nSubscriber.prototype.get = function get(eventName) {\n    if (!this._subscribers[eventName]) {\n        this._subscribers[eventName] = [];\n    }\n    return this._subscribers[eventName];\n};\n\nmodule.exports = Subscriber;\n\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\n/**\n * noop a empty function\n */\nfunction noop() {}\n\n/**\n * validate if is not validate will return an Error with the message\n *\n * @param {boolean} isValid\n * @param {string} message\n */\nfunction validate(isValid, message) {\n    return isValid ? null : new Error(message);\n}\n\nvar timeouts = {};\n/**\n * clearCallbackTimeout\n *\n * @param {function} func handler to remove\n */\nfunction clearCallbackTimeout(func) {\n    var timeout = timeouts[func];\n    if (timeout) {\n        clearTimeout(timeout);\n        delete timeouts[func];\n    }\n}\n\n/**\n * callbackTimeout if the onSuccess is not called and returns true in the timelimit then onTimeout will be called\n *\n * @param {number} timer\n * @param {function} onSuccess\n * @param {function} onTimeout\n */\nfunction callbackTimeout(timer, onSuccess, onTimeout) {\n    var callback, timeout;\n\n    timeout = setTimeout(function () {\n        onSuccess = noop;\n        delete timeout[callback];\n        onTimeout();\n    }, timer);\n\n    callback = function () {\n        // TODO avoid leaking arguments\n        // https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#32-leaking-arguments\n        if (onSuccess.apply(this, arguments)) {\n            clearCallbackTimeout(callback);\n        }\n    };\n\n    timeouts[callback] = timeout;\n\n    return callback;\n}\n\n\n/**\n * createElementInEl\n *\n * @param {HTMLElement} parent\n * @param {string} tagName\n * @param {string} id\n */\nfunction createElementInEl(parent, tagName, id) {\n    var nEl = document.createElement(tagName);\n    if (id) nEl.id = id;\n    parent.appendChild(nEl);\n    return nEl;\n}\n\n/**\n * createIframeWithContent\n *\n * @param {HTMLElement} parent\n * @param {string} template simple template using {{var}}\n * @param {object} data\n */\nfunction createIframeWithContent(parent, template, data) {\n    var iframe = createIframe(parent);\n    if (!setIframeContent(iframe, simpleTemplate(template, data))) return;\n    return iframe;\n}\n\n/**\n * createIframe\n *\n * @param {HTMLElement} parent\n * @param {string} url\n */\nfunction createIframe(parent, url) {\n    var nEl = document.createElement('iframe');\n    nEl.src = url || 'about:blank';\n    nEl.width = '100%';\n    nEl.height = '100%';\n    nEl.style.position = 'absolute';\n    nEl.style.left = '0';\n    nEl.style.top = '0';\n    parent.innerHTML = '';\n    parent.appendChild(nEl);\n    return nEl;\n}\n\n/**\n * simpleTemplate\n *\n * @param {string} template\n * @param {object} data\n */\nfunction simpleTemplate(template, data) {\n    Object.keys(data).forEach(function (key) {\n        var value = (typeof value === 'object') ? JSON.stringify(data[key]) : data[key];\n        template = template.replace(new RegExp('{{' + key + '}}', 'g'), value);\n    });\n    return template;\n}\n\n/**\n * setIframeContent\n *\n * @param {HTMLIframeElement} iframeEl\n * @param content\n */\nfunction setIframeContent(iframeEl, content) {\n    var iframeDoc = iframeEl.contentWindow && iframeEl.contentWindow.document;\n    if (!iframeDoc) return false;\n\n    iframeDoc.write(content);\n\n    return true;\n}\n\n\n/**\n * extend object with keys from another object\n *\n * @param {object} toExtend\n * @param {object} fromSource\n */\nfunction extend(toExtend, fromSource) {\n    Object.keys(fromSource).forEach(function(key) {\n        toExtend[key] = fromSource[key];\n    });\n    return toExtend;\n}\n\n\n/**\n * unique will create a unique string everytime is called, sequentially and prefixed\n *\n * @param {string} prefix\n */\nfunction unique(prefix) {\n    var count = -1;\n    return function () {\n        return prefix + '_' + (++count);\n    };\n}\n\nmodule.exports = {\n    noop: noop,\n    validate: validate,\n    clearCallbackTimeout: clearCallbackTimeout,\n    callbackTimeout: callbackTimeout,\n    createElementInEl: createElementInEl,\n    createIframeWithContent: createIframeWithContent,\n    createIframe: createIframe,\n    simpleTemplate: simpleTemplate,\n    setIframeContent: setIframeContent,\n    extend: extend,\n    unique: unique\n};\n\n\n},{}]},{},[3])\n\n\n//# sourceMappingURL=VPAIDHTML5Client.js.map","//Small subset of async\nvar async = {};\n\nasync.setImmediate = function (fn) {\n  setTimeout(fn, 0);\n};\n\nasync.iterator = function (tasks) {\n  var makeCallback = function (index) {\n    var fn = function () {\n      if (tasks.length) {\n        tasks[index].apply(null, arguments);\n      }\n      return fn.next();\n    };\n    fn.next = function () {\n      return (index < tasks.length - 1) ? makeCallback(index + 1) : null;\n    };\n    return fn;\n  };\n  return makeCallback(0);\n};\n\n\nasync.waterfall = function (tasks, callback) {\n  callback = callback || function () { };\n  if (!isArray(tasks)) {\n    var err = new Error('First argument to waterfall must be an array of functions');\n    return callback(err);\n  }\n  if (!tasks.length) {\n    return callback();\n  }\n  var wrapIterator = function (iterator) {\n    return function (err) {\n      if (err) {\n        callback.apply(null, arguments);\n        callback = function () {\n        };\n      }\n      else {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var next = iterator.next();\n        if (next) {\n          args.push(wrapIterator(next));\n        }\n        else {\n          args.push(callback);\n        }\n        async.setImmediate(function () {\n          iterator.apply(null, args);\n        });\n      }\n    };\n  };\n  wrapIterator(async.iterator(tasks))();\n};\n\nasync.when = function (condition, callback) {\n  if (!isFunction(callback)) {\n    throw new Error(\"async.when error: missing callback argument\");\n  }\n\n  var isAllowed = isFunction(condition) ? condition : function () {\n    return !!condition;\n  };\n\n  return function () {\n    var args = arrayLikeObjToArray(arguments);\n    var next = args.pop();\n\n    if (isAllowed.apply(null, args)) {\n      return callback.apply(this, arguments);\n    }\n\n    args.unshift(null);\n    return next.apply(null, args);\n  };\n};\n\n\n","\"use strict\";\n\nvar dom = {};\n\ndom.isVisible = function isVisible(el) {\n  var style = window.getComputedStyle(el);\n  return style.visibility !== 'hidden';\n};\n\ndom.isHidden = function isHidden(el) {\n  var style = window.getComputedStyle(el);\n  return style.display === 'none';\n};\n\ndom.isShown = function isShown(el) {\n  return !dom.isHidden(el);\n};\n\ndom.hide = function hide(el) {\n  el.__prev_style_display_ = el.style.display;\n  el.style.display = 'none';\n};\n\ndom.show = function show(el) {\n  if (dom.isHidden(el)) {\n    el.style.display = el.__prev_style_display_;\n  }\n  el.__prev_style_display_ = undefined;\n};\n\ndom.hasClass = function hasClass(el, cssClass) {\n  var classes, i, len;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.contains(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    cssClass = (cssClass || '');\n\n    for (i = 0, len = classes.length; i < len; i += 1) {\n      if (classes[i] === cssClass) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\ndom.addClass = function (el, cssClass) {\n  var classes;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.add(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    if (isString(cssClass) && isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n      classes.push(cssClass);\n      el.setAttribute('class', classes.join(' '));\n    }\n  }\n};\n\ndom.removeClass = function (el, cssClass) {\n  var classes;\n\n  if (isNotEmptyString(cssClass)) {\n    if (el.classList) {\n      return el.classList.remove(cssClass);\n    }\n\n    classes = isString(el.getAttribute('class')) ? el.getAttribute('class').split(/\\s+/) : [];\n    var newClasses = [];\n    var i, len;\n    if (isString(cssClass) && isNotEmptyString(cssClass.replace(/\\s+/, ''))) {\n\n      for (i = 0, len = classes.length; i < len; i += 1) {\n        if (cssClass !== classes[i]) {\n          newClasses.push(classes[i]);\n        }\n      }\n      el.setAttribute('class', newClasses.join(' '));\n    }\n  }\n};\n\ndom.addEventListener = function addEventListener(el, type, handler) {\n  if(isArray(el)){\n    forEach(el, function(e) {\n      dom.addEventListener(e, type, handler);\n    });\n    return;\n  }\n\n  if(isArray(type)){\n    forEach(type, function(t) {\n      dom.addEventListener(el, t, handler);\n    });\n    return;\n  }\n\n  if (el.addEventListener) {\n    el.addEventListener(type, handler, false);\n  } else if (el.attachEvent) {\n    // WARNING!!! this is a very naive implementation !\n    // the event object that should be passed to the handler\n    // would not be there for IE8\n    // we should use \"window.event\" and then \"event.srcElement\"\n    // instead of \"event.target\"\n    el.attachEvent(\"on\" + type, handler);\n  }\n};\n\ndom.removeEventListener = function removeEventListener(el, type, handler) {\n  if(isArray(el)){\n    forEach(el, function(e) {\n      dom.removeEventListener(e, type, handler);\n    });\n    return;\n  }\n\n  if(isArray(type)){\n    forEach(type, function(t) {\n      dom.removeEventListener(el, t, handler);\n    });\n    return;\n  }\n\n  if (el.removeEventListener) {\n    el.removeEventListener(type, handler, false);\n  } else if (el.detachEvent) {\n    el.detachEvent(\"on\" + type, handler);\n  } else {\n    el[\"on\" + type] = null;\n  }\n};\n\ndom.dispatchEvent = function dispatchEvent(el, event) {\n  if (el.dispatchEvent) {\n    el.dispatchEvent(event);\n  } else {\n    el.fireEvent(\"on\" + event.eventType, event);\n  }\n};\n\ndom.isDescendant = function isDescendant(parent, child) {\n  var node = child.parentNode;\n  while (node !== null) {\n    if (node === parent) {\n      return true;\n    }\n    node = node.parentNode;\n  }\n  return false;\n};\n\ndom.getTextContent = function getTextContent(el){\n  return el.textContent || el.text;\n};\n\ndom.prependChild = function prependChild(parent, child) {\n  if(child.parentNode){\n    child.parentNode.removeChild(child);\n  }\n  return parent.insertBefore(child, parent.firstChild);\n};\n\ndom.remove = function removeNode(node){\n  if(node && node.parentNode){\n    node.parentNode.removeChild(node);\n  }\n};\n\ndom.isDomElement = function isDomElement(o) {\n  return o instanceof Element;\n};\n\ndom.click = function(el, handler) {\n  dom.addEventListener(el, 'click', handler);\n};\n\ndom.once = function(el, type, handler) {\n  function handlerWrap() {\n    handler.apply(null, arguments);\n    dom.removeEventListener(el, type, handlerWrap);\n  }\n\n  dom.addEventListener(el, type, handlerWrap);\n};\n\n//Note: there is no getBoundingClientRect on iPad so we need a fallback\ndom.getDimension = function getDimension(element) {\n  var rect;\n\n  //On IE9 and below getBoundingClientRect does not work consistently\n  if(!isOldIE() && element.getBoundingClientRect) {\n    rect = element.getBoundingClientRect();\n    return {\n      width: rect.width,\n      height: rect.height\n    };\n  }\n\n  return {\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n};\n","var playerUtils = {};\n\n/**\n * Returns an object that captures the portions of player state relevant to\n * video playback. The result of this function can be passed to\n * restorePlayerSnapshot with a player to return the player to the state it\n * was in when this function was invoked.\n * @param {object} player The videojs player object\n */\nplayerUtils.getPlayerSnapshot = function getPlayerSnapshot(player) {\n  var tech = player.el().querySelector('.vjs-tech');\n  var snapshot = {\n    ended: player.ended(),\n    src: player.currentSrc(),\n    currentTime: player.currentTime(),\n    type: player.currentType(),\n    playing: !player.paused(),\n    suppressedTracks: getSuppressedTracks(player)\n  };\n\n  if (tech) {\n    snapshot.nativePoster = tech.poster;\n    snapshot.style = tech.getAttribute('style');\n  }\n\n  return snapshot;\n\n  /**** Local Functions ****/\n  function getSuppressedTracks(player) {\n    var tracks = player.remoteTextTracks ? player.remoteTextTracks() : [];\n\n    if (tracks && isArray(tracks.tracks_)) {\n      tracks = tracks.tracks_;\n    }\n\n    if (!isArray(tracks)) {\n      tracks = [];\n    }\n\n    var suppressedTracks = [];\n    tracks.forEach(function (track) {\n      suppressedTracks.push({\n        track: track,\n        mode: track.mode\n      });\n      track.mode = 'disabled';\n    });\n\n    return suppressedTracks;\n  }\n};\n\n/**\n * Attempts to modify the specified player so that its state is equivalent to\n * the state of the snapshot.\n * @param {object} snapshot - the player state to apply\n */\nplayerUtils.restorePlayerSnapshot = function restorePlayerSnapshot(player, snapshot) {\n  var tech = player.el().querySelector('.vjs-tech');\n  var attempts = 20; // the number of remaining attempts to restore the snapshot\n\n  if (snapshot.nativePoster) {\n    tech.poster = snapshot.nativePoster;\n  }\n\n  if ('style' in snapshot) {\n    // overwrite all css style properties to restore state precisely\n    tech.setAttribute('style', snapshot.style || '');\n  }\n\n  if (hasSrcChanged(player, snapshot)) {\n    // on ios7, fiddling with textTracks too early will cause safari to crash\n    player.one('contentloadedmetadata', restoreTracks);\n\n    // if the src changed for ad playback, reset it\n    player.src({src: snapshot.src, type: snapshot.type});\n\n    // safari requires a call to `load` to pick up a changed source\n    player.load();\n\n    // and then resume from the snapshots time once the original src has loaded\n    player.one('canplay', tryToResume);\n\n  } else {\n    restoreTracks();\n\n    if (snapshot.playing) {\n      player.play();\n    }\n  }\n\n  /*** Local Functions ***/\n\n  /**\n   * Determine whether the player needs to be restored to its state\n   * before ad playback began. With a custom ad display or burned-in\n   * ads, the content player state hasn't been modified and so no\n   * restoration is required\n   */\n  function hasSrcChanged(player, snapshot) {\n    if (player.src()) {\n      return player.src() !== snapshot.src;\n    }\n    // the player was configured through source element children\n    return player.currentSrc() !== snapshot.src;\n  }\n\n  function restoreTracks() {\n    var suppressedTracks = snapshot.suppressedTracks;\n    suppressedTracks.forEach(function (trackSnapshot) {\n      trackSnapshot.track.mode = trackSnapshot.mode;\n    });\n  }\n\n  /**\n   * Determine if the video element has loaded enough of the snapshot source\n   * to be ready to apply the rest of the state\n   */\n  function tryToResume() {\n    if (playerUtils.isReadyToResume(tech)) {\n      // if some period of the video is seekable, resume playback\n      return resume();\n    }\n\n    // delay a bit and then check again unless we're out of attempts\n    if (attempts--) {\n      setTimeout(tryToResume, 50);\n    } else {\n      (function () {\n        try {\n          resume();\n        } catch (e) {\n          videojs.log.warn('Failed to resume the content after an advertisement', e);\n        }\n      })();\n    }\n\n\n    /*** Local functions ***/\n    function resume() {\n      player.currentTime(snapshot.currentTime);\n\n      if (snapshot.playing) {\n        player.play();\n      }\n    }\n\n  }\n};\n\nplayerUtils.isReadyToResume = function (tech) {\n  if (tech.readyState > 1) {\n    // some browsers and media aren't \"seekable\".\n    // readyState greater than 1 allows for seeking without exceptions\n    return true;\n  }\n\n  if (tech.seekable === undefined) {\n    // if the tech doesn't expose the seekable time ranges, try to\n    // resume playback immediately\n    return true;\n  }\n\n  if (tech.seekable.length > 0) {\n    // if some period of the video is seekable, resume playback\n    return true;\n  }\n\n  return false;\n};\n\n//TODO: SHOULDN'T WE USE isIDevice utility function??\n/**\n * Returns true if the player is in an iphone\n */\nplayerUtils.isIPhone = (function () {\n  var iPhone = /(iPhone|iPod)/.test(navigator.userAgent);\n  return echoFn(iPhone);\n})();\n\n/**\n * This function prepares the player to display ads.\n * Adding convenience events like the 'vast.firsPlay' that gets fired when the video is first played\n * and ads the blackPoster to the player to prevent content from being displayed before the preroll ad.\n *\n * @param player\n */\nplayerUtils.prepareForAds = function (player) {\n  var blackPoster = player.addChild('blackPoster');\n  var firstPlay = true;\n  var volumeSnapshot;\n\n  /*\n   What I am doing below is ugly and horrible and I should think twice before calling myself a good developer. With that said,\n   it is the best solution I could find to mute the video until the 'play' event happens and the plugin can decide whether\n   to play the ad or not.\n\n   If you have a better solution please do tell me.\n   */\n  var origPlay = player.play;\n  player.play = function () {\n    if (isFirstPlay()) {\n      if (!playerUtils.isIPhone()) {\n        volumeSnapshot = saveVolumeSnapshot();\n        player.muted(true);\n      }\n    }\n    return origPlay.apply(this, arguments);\n  };\n\n\n  player.on('play', tryToTriggerFirstPlay);\n  player.on('loadStart', resetFirstPlay);//Every time we change the sources we reset the first play.\n  player.on('vast.reset', resetFirstPlay);//Every time we change the sources we reset the first play.\n  player.on('vast.firstPlay', restorePlayerToFirstPlay);\n  player.on('error', hideBlackPoster);//If there is an error in the player we remove the blackposter to show the err msg\n  player.on('vast.adStart', hideBlackPoster);\n  player.on('vast.adsCancel', hideBlackPoster);\n  player.on('vast.adStart', addStyles);\n  player.on('vast.adEnd', removeStyles);\n  player.on('vast.adsCancel', removeStyles);\n\n  /*** Local Functions ***/\n  function tryToTriggerFirstPlay() {\n    if (isFirstPlay()) {\n      firstPlay = false;\n      player.trigger('vast.firstPlay');\n\n    }\n  }\n\n  function resetFirstPlay() {\n    firstPlay = true;\n    blackPoster.show();\n  }\n\n  function isFirstPlay() {\n    return firstPlay;\n  }\n\n  function saveVolumeSnapshot() {\n    return {\n      muted: player.muted(),\n      volume: player.volume()\n    };\n  }\n\n  function restorePlayerToFirstPlay() {\n    if (!playerUtils.isIPhone()) {\n      player.currentTime(0);\n      restoreVolumeSnapshot(volumeSnapshot);\n    }\n  }\n\n  function restoreVolumeSnapshot(snapshot) {\n    if (isObject(snapshot)) {\n      player.volume(snapshot.volume);\n      player.muted(snapshot.muted);\n    }\n  }\n\n  function hideBlackPoster() {\n    if (!dom.hasClass(blackPoster.el(), 'vjs-hidden')) {\n      blackPoster.hide();\n    }\n  }\n\n  function addStyles() {\n    dom.addClass(player.el(), 'vjs-ad-playing');\n  }\n\n  function removeStyles() {\n    dom.removeClass(player.el(), 'vjs-ad-playing');\n  }\n};\n\n/**\n * Remove the poster attribute from the video element tech, if present. When\n * reusing a video element for multiple videos, the poster image will briefly\n * reappear while the new source loads. Removing the attribute ahead of time\n * prevents the poster from showing up between videos.\n * @param {object} player The videojs player object\n */\nplayerUtils.removeNativePoster = function (player) {\n  var tech = player.el().querySelector('.vjs-tech');\n  if (tech) {\n    tech.removeAttribute('poster');\n  }\n};\n\n/**\n * Helper function to listen to many events until one of them gets fired, then we\n * execute the handler and unsubscribe all the event listeners;\n *\n * @param player specific player from where to listen for the events\n * @param events array of events\n * @param handler function to execute once one of the events fires\n */\nplayerUtils.only = function only(player, events, handler) {\n  function listener() {\n    handler.apply(null, arguments);\n\n    events.forEach(function (event) {\n      player.off(event, listener);\n    });\n  }\n\n  events.forEach(function (event) {\n    player.on(event, listener);\n  });\n};","var xml = {};\n\nxml.strToXMLDoc = function strToXMLDoc(stringContainingXMLSource){\n  //IE 8\n  if(typeof window.DOMParser === 'undefined'){\n    var xmlDocument = new ActiveXObject('Microsoft.XMLDOM');\n    xmlDocument.async = false;\n    xmlDocument.loadXML(stringContainingXMLSource);\n    return xmlDocument;\n  }\n\n  return parseString(stringContainingXMLSource);\n\n  function parseString(stringContainingXMLSource){\n    var parser = new DOMParser();\n    var parsedDocument;\n\n    //Note: This try catch is to deal with the fact that on IE parser.parseFromString does throw an error but the rest of the browsers don't.\n    try {\n      parsedDocument = parser.parseFromString(stringContainingXMLSource, \"application/xml\");\n\n      if(isParseError(parsedDocument) || isEmptyString(stringContainingXMLSource)){\n        throw new Error();\n      }\n    }catch(e){\n      throw new Error(\"xml.strToXMLDOC: Error parsing the string: '\" + stringContainingXMLSource + \"'\");\n    }\n\n    return parsedDocument;\n  }\n\n  function isParseError(parsedDocument) {\n    try { // parser and parsererrorNS could be cached on startup for efficiency\n      var parser = new DOMParser(),\n        errorneousParse = parser.parseFromString('INVALID', 'text/xml'),\n        parsererrorNS = errorneousParse.getElementsByTagName(\"parsererror\")[0].namespaceURI;\n\n      if (parsererrorNS === 'http://www.w3.org/1999/xhtml') {\n        // In PhantomJS the parseerror element doesn't seem to have a special namespace, so we are just guessing here :(\n        return parsedDocument.getElementsByTagName(\"parsererror\").length > 0;\n      }\n\n      return parsedDocument.getElementsByTagNameNS(parsererrorNS, 'parsererror').length > 0;\n    } catch (e) {\n      //Note on IE parseString throws an error by itself and it will never reach this code. Because it will have failed before\n    }\n  }\n};\n\nxml.parseText = function parseText (sValue) {\n  if (/^\\s*$/.test(sValue)) { return null; }\n  if (/^(?:true|false)$/i.test(sValue)) { return sValue.toLowerCase() === \"true\"; }\n  if (isFinite(sValue)) { return parseFloat(sValue); }\n  if (isISO8601(sValue)) { return new Date(sValue); }\n  return sValue.trim();\n};\n\nxml.JXONTree = function JXONTree (oXMLParent) {\n  var parseText = xml.parseText;\n\n  //The document object is an especial object that it may miss some functions or attrs depending on the browser.\n  //To prevent this problem with create the JXONTree using the root childNode which is a fully fleshed node on all supported\n  //browsers.\n  if(oXMLParent.documentElement){\n    return new xml.JXONTree(oXMLParent.documentElement);\n  }\n\n  if (oXMLParent.hasChildNodes()) {\n    var sCollectedTxt = \"\";\n    for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\n      oNode = oXMLParent.childNodes.item(nItem);\n      /*jshint bitwise: false*/\n      if ((oNode.nodeType - 1 | 1) === 3) { sCollectedTxt += oNode.nodeType === 3 ? oNode.nodeValue.trim() : oNode.nodeValue; }\n      else if (oNode.nodeType === 1 && !oNode.prefix) {\n        sProp = decapitalize(oNode.nodeName);\n        vContent = new xml.JXONTree(oNode);\n        if (this.hasOwnProperty(sProp)) {\n          if (this[sProp].constructor !== Array) { this[sProp] = [this[sProp]]; }\n          this[sProp].push(vContent);\n        } else { this[sProp] = vContent; }\n      }\n    }\n    if (sCollectedTxt) { this.keyValue = parseText(sCollectedTxt); }\n  }\n\n  //IE8 Stupid fix\n  var hasAttr = typeof oXMLParent.hasAttributes === 'undefined'? oXMLParent.attributes.length > 0: oXMLParent.hasAttributes();\n  if (hasAttr) {\n    var oAttrib;\n    for (var nAttrib = 0; nAttrib < oXMLParent.attributes.length; nAttrib++) {\n      oAttrib = oXMLParent.attributes.item(nAttrib);\n      this[\"@\" + decapitalize(oAttrib.name)] = parseText(oAttrib.value.trim());\n    }\n  }\n};\n\nxml.JXONTree.prototype.attr = function(attr) {\n  return this['@' + decapitalize(attr)];\n};\n\nxml.toJXONTree = function toJXONTree(xmlString){\n  var xmlDoc = xml.strToXMLDoc(xmlString);\n  return new xml.JXONTree(xmlDoc);\n};\n\n/**\n * Helper function to extract the keyvalue of a JXONTree obj\n *\n * @param xmlObj {JXONTree}\n * return the key value or undefined;\n */\nxml.keyValue = function getKeyValue(xmlObj) {\n  if(xmlObj){\n    return xmlObj.keyValue;\n  }\n  return undefined;\n};\n\nxml.attr = function getAttrValue(xmlObj, attr) {\n  if(xmlObj) {\n    return xmlObj['@' + decapitalize(attr)];\n  }\n  return undefined;\n};\n\nxml.encode = function encodeXML(str) {\n  return str.replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&apos;');\n};\n\nxml.decode = function decodeXML(str) {\n  return str.replace(/&apos;/g, \"'\")\n    .replace(/&quot;/g, '\"')\n    .replace(/&gt;/g, '>')\n    .replace(/&lt;/g, '<')\n    .replace(/&amp;/g, '&');\n};","vjs.plugin('vastClient', function VASTPlugin(options) {\n  var snapshot;\n  var player = this;\n  var vast = new VASTClient();\n  var adsCanceled = false;\n  var defaultOpts = {\n    // maximum amount of time in ms to wait to receive `adsready` from the ad\n    // implementation after play has been requested. Ad implementations are\n    // expected to load any dynamic libraries and make any requests to determine\n    // ad policies for a video during this time.\n    timeout: 500,\n\n    //TODO:finish this IOS FIX\n    //Whenever you play an add on IOS, the native player kicks in and we loose control of it. On very heavy pages the 'play' event\n    // May occur after the video content has already started. This is wrong if you want to play a preroll ad that needs to happen before the user\n    // starts watching the content. To prevent this usec\n    iosPrerollCancelTimeout: 2000,\n\n    // maximun amount of time for the ad to actually start playing. If this timeout gets\n    // triggered the ads will be cancelled\n    adCancelTimeout: 3000,\n\n    // Boolean flag that configures the player to play a new ad before the user sees the video again\n    // the current video\n    playAdAlways: false,\n\n    // Flag to enable or disable the ads by default.\n    adsEnabled: true,\n\n    // Boolean flag to enable or disable the resize with window.resize or orientationchange\n    autoResize: true,\n\n    // Path to the VPAID flash ad's loader\n    vpaidFlashLoaderPath: '/VPAIDFlash.swf'\n  };\n\n  var settings = extend({}, defaultOpts, options || {});\n\n  if (isString(settings.url)) {\n    settings.url = echoFn(settings.url);\n  }\n\n  if (!isDefined(settings.url)) {\n    return trackAdError(new VASTError('on VideoJS VAST plugin, missing url on options object'));\n  }\n\n  playerUtils.prepareForAds(player);\n  \n  if (settings.playAdAlways) {\n    // No matter what happens we play a new ad before the user sees the video again.\n    player.on('vast.contentEnd', function () {\n      setTimeout(function () {\n        player.trigger('vast.reset');\n      }, 0);\n    });\n  }\n\n  player.on('vast.firstPlay', tryToPlayPrerollAd);\n\n  player.on('vast.reset', cancelAds);\n\n  player.vast = {\n    isEnabled: function () {\n      return settings.adsEnabled;\n    },\n\n    enable: function () {\n      settings.adsEnabled = true;\n    },\n\n    disable: function () {\n      settings.adsEnabled = false;\n    }\n  };\n\n  return player.vast;\n\n  /**** Local functions ****/\n  function tryToPlayPrerollAd() {\n    //We remove the poster to prevent flickering whenever the content starts playing\n    playerUtils.removeNativePoster(player);\n    playerUtils.only(player, ['vast.adsCancel', 'vast.adEnd'], restoreVideoContent);\n\n    async.waterfall([\n      checkAdsEnabled,\n      preparePlayerForAd,\n      playPrerollAd\n    ], function (error, response) {\n      if (error) {\n        trackAdError(error, response);\n      } else {\n        player.trigger('vast.adEnd');\n      }\n\n      triggerContentEvents();\n    });\n\n    /*** Local functions ***/\n    function restoreVideoContent(){\n      if(snapshot) {\n        playerUtils.restorePlayerSnapshot(player, snapshot);\n        snapshot = null;\n      }\n\n      if(player.vast && player.vast.adUnit) {\n        player.vast.adUnit = null; //We remove the adUnit\n      }\n    }\n\n    function checkAdsEnabled(next) {\n      if(settings.adsEnabled) {\n       return next(null);\n      }\n      next(new VASTError('Ads are not enabled'));\n    }\n\n    function preparePlayerForAd(next) {\n      if (canPlayPrerollAd()) {\n        snapshot = playerUtils.getPlayerSnapshot(player);\n        player.pause();\n        addSpinnerIcon();\n        startAdCancelTimeout();\n        next(null);\n      } else {\n        next(new VASTError('video content has been playing before preroll ad'));\n      }\n    }\n\n    function triggerContentEvents() {\n      player.one('playing', function () {\n        player.trigger('vast.contentStart');\n\n        player.one('ended', function () {\n          player.trigger('vast.contentEnd');\n        });\n      });\n    }\n\n    function canPlayPrerollAd() {\n      return !playerUtils.isIPhone() || player.currentTime() <= settings.iosPrerollCancelTimeout;\n    }\n\n    function startAdCancelTimeout() {\n      var adCancelTimeoutId;\n      adsCanceled = false;\n\n      adCancelTimeoutId = setTimeout(function () {\n        trackAdError(new VASTError('timeout while waiting for the video to start playing', 402));\n      }, settings.adCancelTimeout);\n\n      playerUtils.only(player, ['vast.adStart', 'vast.adError', 'vast.adsCancel'], clearAdCancelTimeout);\n\n      /*** local functions ***/\n      function clearAdCancelTimeout() {\n        if (adCancelTimeoutId) {\n          clearTimeout(adCancelTimeoutId);\n          adCancelTimeoutId = null;\n        }\n      }\n    }\n\n    function addSpinnerIcon() {\n      dom.addClass(player.el(), 'vjs-vast-ad-loading');\n      playerUtils.only(player, ['vast.adStart', 'vast.adError', 'vast.adsCancel'], removeSpinnerIcon);\n    }\n\n    function removeSpinnerIcon() {\n      //IMPORTANT NOTE: We remove the spinnerIcon asynchronously to give time to the browser to start the video.\n      // If we remove it synchronously we see a flash of the content video before the ad starts playing.\n      setTimeout(function () {\n        dom.removeClass(player.el(), 'vjs-vast-ad-loading');\n      }, 100);\n    }\n\n  }\n\n  function cancelAds() {\n    player.trigger('vast.adsCancel');\n    adsCanceled = true;\n  }\n\n  function playPrerollAd(callback) {\n    async.waterfall([\n      getVastResponse,\n      playAd\n    ], callback);\n  }\n\n  function getVastResponse(callback) {\n    vast.getVASTResponse(settings.url(), callback);\n  }\n\n  function playAd(vastResponse, callback) {\n    //TODO: Find a better way to stop the play. The 'playPrerollWaterfall' ends in an inconsistent situation\n    //If the state is not 'preroll?' it means the ads were canceled therefore, we break the waterfall\n    if (adsCanceled) {\n      return;\n    }\n\n    var adIntegrator = isVPAID(vastResponse) ? new VPAIDIntegrator(player, settings) : new VASTIntegrator(player);\n    var adFinished = false;\n\n    player.vast.adUnit = adIntegrator.playAd(vastResponse, callback);\n\n    player.one('vast.adStart', adAdsLabel);\n    playerUtils.only(player, ['vast.adEnd', 'vast.adsCancel'], removeAdsLabel);\n\n    if (isIDevice()) {\n      preventManualProgress();\n    }\n\n    /*** Local functions ****/\n    function adAdsLabel() {\n      if (adFinished) {\n        return;\n      }\n      player.controlBar.addChild('AdsLabel');\n    }\n\n    function removeAdsLabel() {\n      player.controlBar.removeChild('AdsLabel');\n      adFinished = true;\n    }\n\n    function preventManualProgress() {\n      var PROGRESS_THRESHOLD = 1;\n      var previousTime = player.currentTime();\n      var tech = player.el().querySelector('.vjs-tech');\n      var skipad_attempts = 0;\n\n      player.on('timeupdate', adTimeupdateHandler);\n      playerUtils.only(player, ['vast.adEnd', 'vast.adsCancel'], stopPreventManualProgress);\n\n      /*** Local functions ***/\n      function adTimeupdateHandler() {\n        var currentTime = player.currentTime();\n        var progressDelta = Math.abs(currentTime - previousTime);\n\n        if (progressDelta > PROGRESS_THRESHOLD) {\n          skipad_attempts += 1;\n          if (skipad_attempts >= 2) {\n            player.pause();\n          }\n          player.currentTime(previousTime);\n        } else {\n          previousTime = currentTime;\n        }\n      }\n\n      function stopPreventManualProgress() {\n        player.off('timeupdate', adTimeupdateHandler);\n      }\n    }\n  }\n\n  function trackAdError(error, vastResponse) {\n    player.trigger({type: 'vast.adError', error: error});\n    cancelAds();\n    if (console && console.log) {\n      console.log('AD ERROR:', error.message, error, vastResponse);\n    }\n  }\n\n  function isVPAID(vastResponse) {\n    var i, len;\n    var mediaFiles = vastResponse.mediaFiles;\n    for (i = 0, len = mediaFiles.length; i < len; i++) {\n      if (vastUtil.isVPAID(mediaFiles[i])) {\n        return true;\n      }\n    }\n    return false;\n  }\n});\n\n","vjs.AdsLabel = vjs.Component.extend({\n  /** @constructor */\n  init: function (player, options) {\n    vjs.Component.call(this, player, options);\n\n    var that = this;\n\n    // We asynchronously reposition the ads label element\n    setTimeout(function () {\n      var currentTimeComp = player.controlBar &&( player.controlBar.getChild(\"timerControls\") || player.controlBar.getChild(\"currentTimeDisplay\") );\n      if(currentTimeComp) {\n        player.controlBar.el().insertBefore(that.el(), currentTimeComp.el());\n      }\n      dom.removeClass(that.el(), 'vjs-label-hidden');\n    }, 0);\n  }\n});\n\nvjs.AdsLabel.prototype.createEl = function(){\n  return vjs.Component.prototype.createEl.call(this, 'div', {\n    className: 'vjs-ads-label vjs-control vjs-label-hidden',\n    innerHTML: 'Advertisement'\n  });\n};","/**\n * The component that shows a black screen until the ads plugin has decided if it can or it can not play the ad.\n *\n * Note: In case you wonder why instead of this black poster we don't just show the spinner loader.\n *       IOS devices do not work well with animations and the browser chrashes from time to time That is why we chose to\n *       have a secondary black poster.\n *\n *       It also makes it much more easier for the users of the plugin since it does not change the default behaviour of the\n *       spinner and the player works the same way with and without the plugin.\n *\n * @param {vjs.Player|Object} player\n * @param {Object=} options\n * @constructor\n */\nvjs.BlackPoster = vjs.Component.extend({\n  /** @constructor */\n  init: function(player, options){\n    vjs.Component.call(this, player, options);\n\n    var posterImg = player.getChild('posterImage');\n\n    //We need to do it asynchronously to be sure that the black poster el is on the dom.\n    setTimeout(function() {\n      if(posterImg) {\n        player.el().insertBefore(this.el(), posterImg.el());\n      }\n    }.bind(this), 0);\n  }\n});\n\n/**\n * Create the black poster div element\n * @return {Element}\n */\nvjs.BlackPoster.prototype.createEl = function(){\n  return vjs.createEl('div', {\n    className: 'vjs-black-poster'\n  });\n};","(function (window) {\n  \"use strict\";\n\n\n  function VASTResponse() {\n    if (!(this instanceof VASTResponse)) {\n      return new VASTResponse();\n    }\n\n    this._linearAdded = false;\n    this.ads = [];\n    this.errorURLMacros = [];\n    this.impressions = [];\n    this.clickTrackings = [];\n    this.customClicks = [];\n    this.trackingEvents = {};\n    this.mediaFiles = [];\n    this.clickThrough = undefined;\n    this.adTitle = '';\n    this.duration = undefined;\n    this.skipoffset = undefined;\n  }\n\n  VASTResponse.prototype.addAd = function (ad) {\n    var inLine, wrapper;\n\n    if (ad instanceof Ad) {\n      inLine = ad.inLine;\n      wrapper = ad.wrapper;\n\n      this.ads.push(ad);\n\n      if (inLine) {\n        this._addInLine(inLine);\n      }\n\n      if (wrapper) {\n        this._addWrapper(wrapper);\n      }\n    }\n  };\n\n  VASTResponse.prototype._addErrorTrackUrl = function (error) {\n    var errorURL = error instanceof xml.JXONTree ? xml.keyValue(error) : error;\n    if (errorURL) {\n      this.errorURLMacros.push(errorURL);\n    }\n  };\n\n  VASTResponse.prototype._addImpressions = function (impressions) {\n    isArray(impressions) && appendToArray(this.impressions, impressions);\n  };\n\n  VASTResponse.prototype._addClickThrough = function (clickThrough) {\n    if (isNotEmptyString(clickThrough)) {\n      this.clickThrough = clickThrough;\n    }\n  };\n\n  VASTResponse.prototype._addClickTrackings = function (clickTrackings) {\n    isArray(clickTrackings) && appendToArray(this.clickTrackings, clickTrackings);\n  };\n\n  VASTResponse.prototype._addCustomClicks = function (customClicks) {\n    isArray(customClicks) && appendToArray(this.customClicks, customClicks);\n  };\n\n  VASTResponse.prototype._addTrackingEvents = function (trackingEvents) {\n    var eventsMap = this.trackingEvents;\n\n    if (trackingEvents) {\n      trackingEvents = isArray(trackingEvents) ? trackingEvents : [trackingEvents];\n      trackingEvents.forEach(function (trackingEvent) {\n        if (!eventsMap[trackingEvent.name]) {\n          eventsMap[trackingEvent.name] = [];\n        }\n        eventsMap[trackingEvent.name].push(trackingEvent);\n      });\n    }\n  };\n\n  VASTResponse.prototype._addTitle = function (title) {\n    if (isNotEmptyString(title)) {\n      this.adTitle = title;\n    }\n  };\n\n  VASTResponse.prototype._addDuration = function (duration) {\n    if (isNumber(duration)) {\n      this.duration = duration;\n    }\n  };\n\n  VASTResponse.prototype._addVideoClicks = function (videoClicks) {\n    if (videoClicks instanceof VideoClicks) {\n      this._addClickThrough(videoClicks.clickThrough);\n      this._addClickTrackings(videoClicks.clickTrackings);\n      this._addCustomClicks(videoClicks.customClicks);\n    }\n  };\n\n  VASTResponse.prototype._addMediaFiles = function (mediaFiles) {\n    isArray(mediaFiles) && appendToArray(this.mediaFiles, mediaFiles);\n  };\n\n  VASTResponse.prototype._addSkipoffset = function (offset) {\n    if (offset) {\n      this.skipoffset = offset;\n    }\n  };\n\n  VASTResponse.prototype._addAdParameters = function (adParameters) {\n    if (adParameters) {\n      this.adParameters = adParameters;\n    }\n  };\n\n  VASTResponse.prototype._addLinear = function (linear) {\n    if (linear instanceof Linear) {\n      this._addDuration(linear.duration);\n      this._addTrackingEvents(linear.trackingEvents);\n      this._addVideoClicks(linear.videoClicks);\n      this._addMediaFiles(linear.mediaFiles);\n      this._addSkipoffset(linear.skipoffset);\n      this._addAdParameters(linear.adParameters);\n      this._linearAdded = true;\n    }\n  };\n\n  VASTResponse.prototype._addInLine = function (inLine) {\n    var that = this;\n\n    if (inLine instanceof InLine) {\n      this._addTitle(inLine.adTitle);\n      this._addErrorTrackUrl(inLine.error);\n      this._addImpressions(inLine.impressions);\n\n      inLine.creatives.forEach(function (creative) {\n        if (creative.linear) {\n          that._addLinear(creative.linear);\n        }\n      });\n    }\n  };\n\n  VASTResponse.prototype._addWrapper = function (wrapper) {\n    var that = this;\n\n    if (wrapper instanceof Wrapper) {\n      this._addErrorTrackUrl(wrapper.error);\n      this._addImpressions(wrapper.impressions);\n\n      wrapper.creatives.forEach(function (creative) {\n        var linear = creative.linear;\n        if (linear) {\n          that._addVideoClicks(linear.videoClicks);\n          that.clickThrough = undefined;//We ensure that no clickThrough has been added\n          that._addTrackingEvents(linear.trackingEvents);\n        }\n      });\n    }\n  };\n\n  VASTResponse.prototype.hasLinear = function(){\n    return this._linearAdded;\n  };\n\n  function appendToArray(array, items) {\n    items.forEach(function (item) {\n      array.push(item);\n    });\n  }\n\n  window.VASTResponse = VASTResponse;\n})(window);\n","\"use strict\";\n\nvar vastUtil = {\n\n  track: function track(URLMacros, variables) {\n    var sources = vastUtil.parseURLMacros(URLMacros, variables);\n    var trackImgs = [];\n    sources.forEach(function (src) {\n      var img = new Image();\n      img.src = src;\n      trackImgs.push(img);\n    });\n    return trackImgs;\n  },\n\n  parseURLMacros: function parseMacros(URLMacros, variables) {\n    var parsedURLs = [];\n\n    variables = variables || {};\n\n    if (!(variables[\"CACHEBUSTING\"])) {\n      variables[\"CACHEBUSTING\"] = Math.round(Math.random() * 1.0e+10);\n    }\n\n    URLMacros.forEach(function (URLMacro) {\n      parsedURLs.push(vastUtil._parseURLMacro(URLMacro, variables));\n    });\n\n    return parsedURLs;\n  },\n\n  parseURLMacro: function parseMacro(URLMacro, variables) {\n    variables = variables || {};\n\n    if (!(variables[\"CACHEBUSTING\"])) {\n      variables[\"CACHEBUSTING\"] = Math.round(Math.random() * 1.0e+10);\n    }\n\n    return vastUtil._parseURLMacro(URLMacro, variables);\n  },\n\n  _parseURLMacro: function parseMacro(URLMacro, variables) {\n    variables = variables || {};\n\n    forEach(variables, function (value, key) {\n      URLMacro = URLMacro.replace(new RegExp(\"\\\\[\" + key + \"\\\\\\]\", 'gm'), value);\n    });\n\n    return URLMacro;\n  },\n\n  parseDuration: function parseDuration(durationStr) {\n    var durationRegex = /(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/;\n    var match, durationInMs;\n\n    if (isString(durationStr)) {\n      match = durationStr.match(durationRegex);\n      if (match) {\n        durationInMs = parseHoursToMs(match[1]) + parseMinToMs(match[2]) + parseSecToMs(match[3]) + parseInt(match[5] || 0);\n      }\n    }\n\n    return isNaN(durationInMs) ? null : durationInMs;\n\n    /*** local functions ***/\n    function parseHoursToMs(hourStr) {\n      return parseInt(hourStr) * 60 * 60 * 1000;\n    }\n\n    function parseMinToMs(minStr) {\n      return parseInt(minStr) * 60 * 1000;\n    }\n\n    function parseSecToMs(secStr) {\n      return parseInt(secStr) * 1000;\n    }\n  },\n\n  parseImpressions: function parseImpressions(impressions) {\n    if (impressions) {\n      impressions = isArray(impressions) ? impressions : [impressions];\n      return transformArray(impressions, function (impression) {\n        if (isNotEmptyString(impression.keyValue)) {\n          return impression.keyValue;\n        }\n        return undefined;\n      });\n    }\n    return [];\n  },\n\n  parseCreatives: function parseCreatives(creativesJTree) {\n    var creatives = [];\n    var creativesData;\n    if (isDefined(creativesJTree) && isDefined(creativesJTree.creative)) {\n      creativesData = isArray(creativesJTree.creative) ? creativesJTree.creative : [creativesJTree.creative];\n      creativesData.forEach(function (creative) {\n        creatives.push(new Creative(creative));\n      });\n    }\n    return creatives;\n  },\n\n  //We assume that the progress is going to arrive in milliseconds\n  formatProgress: function formatProgress(progress) {\n    var hours, minutes, seconds, milliseconds;\n    hours = progress / (60 * 60 * 1000);\n    hours = Math.floor(hours);\n    minutes = (progress / (60 * 1000)) % 60;\n    minutes = Math.floor(minutes);\n    seconds = (progress / 1000) % 60;\n    seconds = Math.floor(seconds);\n    milliseconds = progress % 1000;\n    return toFixedDigits(hours, 2) + ':' + toFixedDigits(minutes, 2) + ':' + toFixedDigits(seconds, 2) + '.' + toFixedDigits(milliseconds, 3);\n  },\n\n  parseOffset:   function parseOffset(offset, duration) {\n    if(isPercentage(offset)){\n      return calculatePercentage(offset, duration);\n    }\n    return vastUtil.parseDuration(offset);\n\n    /*** Local function ***/\n    function isPercentage(offset) {\n      var percentageRegex = /^\\d+(\\.\\d+)?%$/g;\n      return percentageRegex.test(offset);\n    }\n\n    function calculatePercentage(percentStr, duration) {\n      if(duration) {\n        return calcPercent(duration, parseFloat(percentStr.replace('%', '')));\n      }\n      return null;\n    }\n\n    function calcPercent(quantity, percent){\n      return quantity * percent / 100;\n    }\n  },\n\n  isVPAID: function isVPAIDMediaFile(mediaFile) {\n    return !!mediaFile && mediaFile.apiFramework === 'VPAID';\n  }\n};"],"sourceRoot":"/source/"}